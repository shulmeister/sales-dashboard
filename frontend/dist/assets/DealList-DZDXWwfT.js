var Cs=Object.defineProperty;var o=(e,t)=>Cs(e,"name",{value:t,configurable:!0});import{r as v,C as Ss,u as Ye,L as ws,a as Qt,b as Is,c as Ns,d as Es,e as Ps,f as Zt,g as Ke,h as As,R as _,_ as Gr,i as Rs,j as kr,k as ve,l as d,m as js,n as Os,o as Ge,p as vt,q as pe,B as ne,D as yt,s as Dt,t as $r,v as Vr,w as Xe,x as Ts,y as Bs,z as Ls,A as Ms,E as $n,F as ke,T as Vn,G as _s,H as Je,I as Fs,J as en,K as Gs,M as ks,N as $s,O as Be,P as tn,Q as nn,S as rn,U as on,V as Vs,W as Wr,X as Ws,Y as Us,Z as Hs,$ as qs,a0 as zs,a1 as sn,a2 as an,a3 as Ys,a4 as Ks,a5 as Ur,a6 as ln,a7 as Xs,a8 as ye,a9 as Hr,aa as Js,ab as cn,ac as lt,ad as Le,ae as qr,af as De,ag as ct,ah as dn,ai as Ce,aj as Qs,ak as Ct,al as zr,am as un,an as Zs,ao as Yr,ap as ei,aq as Kr,ar as Xr,as as it,at as ti,au as Jr,av as Qr,aw as ni,ax as ri,ay as oi,az as Zr,aA as pn,aB as si,aC as ii,aD as Wn,aE as Un,aF as Hn,aG as qn,aH as ai,aI as li,aJ as ci,aK as di,aL as ui,aM as pi,aN as fi,aO as gi,aP as mi,aQ as eo,aR as hi,aS as bi,aT as xi,aU as vi,aV as yi,aW as Di,aX as Ci,aY as Si}from"./index-Cv_3HTha.js";var wi=o(function(){var e=v.useContext(Ss);if(!e)throw new Error("useCreateContext must be used inside a CreateContextProvider");return e},"useCreateContext"),Ii=o(function(e){var t=e.render,n=e.empty,r=n===void 0?null:n,s=Ye();return s?v.createElement(v.Fragment,null,t(s)):r},"WithRecord"),Ni=o(function(){var e=v.useContext(ws);if(!e)throw new Error("useListFilterContext must be used inside a ListFilterContextProvider");return e},"useListFilterContext"),Me=function(){return Me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Me.apply(this,arguments)},Ei=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n},Pi=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Ai=o(function(e){var t,n=e.debounce,r=e.enableGetChoices,s=e.filter,i=e.page,a=i===void 0?1:i,l=e.perPage,c=l===void 0?25:l,u=e.sort,g=u===void 0?{field:"id",order:"DESC"}:u,f=e.queryOptions,p=f===void 0?{}:f,m=e.reference,h=e.source,x=Qt().getValues,b=Is(h),C=(t=Ns({name:b}))!==null&&t!==void 0?t:x(b),D=p.meta,E=Ei(p,["meta"]),S=Es(m,{ids:C||Ri,meta:D},{enabled:C!=null&&C.length>0}),w=S.data,I=S.error,R=S.isLoading,T=S.isFetching,F=S.isPaused,P=S.isPending,A=S.isPlaceholderData,M=S.refetch,H=Ps({resource:m,page:a,perPage:c,sort:g,debounce:n,filter:s}),L=H[0],j=H[1],q=w?w.filter(Boolean):[],te=r?r(L.filterValues):!0,G=Zt(m,{pagination:{page:L.page,perPage:L.perPage},sort:{field:L.sort,order:L.order},filter:Me(Me({},L.filter),s),meta:D},Me({retry:!1,enabled:te,placeholderData:o(function(z){return z},"placeholderData")},E)),re=G.data,fe=G.total,oe=G.pageInfo,Ne=G.error,le=G.isLoading,et=G.isFetching,Ee=G.isPaused,Pe=G.isPending,tt=G.isPlaceholderData,nt=G.refetch,ge=re&&re.length>0?ji(re,q):q.length>0?q:re,Ae=v.useCallback(function(){M(),nt()},[M,nt]),kn=v.useMemo(function(){return{field:L.sort,order:L.order}},[L.sort,L.order]);return{sort:kn,allChoices:ge,availableChoices:re,selectedChoices:q,displayedFilters:L.displayedFilters,error:I||Ne,filter:s,filterValues:L.filterValues,hideFilter:j.hideFilter,isFetching:T||et,isLoading:R||le,isPaused:F||Ee,isPending:P||Pe,isPlaceholderData:A||tt,page:L.page,perPage:L.perPage,refetch:Ae,resource:m,setFilters:j.setFilters,setPage:j.setPage,setPerPage:j.setPerPage,setSort:j.setSort,showFilter:j.showFilter,source:h,total:fe,hasNextPage:oe?oe.hasNextPage:fe!=null?L.page*L.perPage<fe:void 0,hasPreviousPage:oe?oe.hasPreviousPage:L.page>1,isFromReference:!0}},"useReferenceArrayInputController"),Ri=[],ji=o(function(e,t){var n=Pi([],e,!0),r=e.map(function(s){return s.id});return t.forEach(function(s){r.includes(s.id)||(r.push(s.id),n.push(s))}),n},"mergeReferences");/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],Ti=Ke("archive-restore",Oi);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Li=Ke("archive",Bi);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],_i=Ke("paperclip",Mi);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Gi=Ke("square-pen",Fi);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$i=Ke("trash-2",ki);function U(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}o(U,"formatProdErrorMessage");var Vi=typeof Symbol=="function"&&Symbol.observable||"@@observable",zn=Vi,Yn=o(()=>Math.random().toString(36).substring(7).split("").join("."),"randomString"),Wi={INIT:`@@redux/INIT${Yn()}`,REPLACE:`@@redux/REPLACE${Yn()}`},Kn=Wi;function Ui(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}o(Ui,"isPlainObject");function to(e,t,n){if(typeof e!="function")throw new Error(U(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(U(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(U(1));return n(to)(e,t)}let r=e,s=t,i=new Map,a=i,l=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((b,C)=>{a.set(C,b)}))}o(u,"ensureCanMutateNextListeners");function g(){if(c)throw new Error(U(3));return s}o(g,"getState");function f(b){if(typeof b!="function")throw new Error(U(4));if(c)throw new Error(U(5));let C=!0;u();const D=l++;return a.set(D,b),o(function(){if(C){if(c)throw new Error(U(6));C=!1,u(),a.delete(D),i=null}},"unsubscribe")}o(f,"subscribe");function p(b){if(!Ui(b))throw new Error(U(7));if(typeof b.type>"u")throw new Error(U(8));if(typeof b.type!="string")throw new Error(U(17));if(c)throw new Error(U(9));try{c=!0,s=r(s,b)}finally{c=!1}return(i=a).forEach(D=>{D()}),b}o(p,"dispatch");function m(b){if(typeof b!="function")throw new Error(U(10));r=b,p({type:Kn.REPLACE})}o(m,"replaceReducer");function h(){const b=f;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(U(11));function D(){const S=C;S.next&&S.next(g())}return o(D,"observeState"),D(),{unsubscribe:b(D)}},[zn](){return this}}}return o(h,"observable"),p({type:Kn.INIT}),{dispatch:p,subscribe:f,getState:g,replaceReducer:m,[zn]:h}}o(to,"createStore$1");function Xn(e,t){return function(...n){return t(e.apply(this,n))}}o(Xn,"bindActionCreator");function Jn(e,t){if(typeof e=="function")return Xn(e,t);if(typeof e!="object"||e===null)throw new Error(U(16));const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=Xn(s,t))}return n}o(Jn,"bindActionCreators$1");function no(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}o(no,"compose");function Hi(...e){return t=>(n,r)=>{const s=t(n,r);let i=o(()=>{throw new Error(U(15))},"dispatch");const a={getState:s.getState,dispatch:o((c,...u)=>i(c,...u),"dispatch")},l=e.map(c=>c(a));return i=no(...l)(s.dispatch),{...s,dispatch:i}}}o(Hi,"applyMiddleware");var Rt={exports:{}},jt={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn;function qi(){if(Qn)return jt;Qn=1;var e=As();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}o(t,"is");var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,a=e.useMemo,l=e.useDebugValue;return jt.useSyncExternalStoreWithSelector=function(c,u,g,f,p){var m=s(null);if(m.current===null){var h={hasValue:!1,value:null};m.current=h}else h=m.current;m=a(function(){function b(w){if(!C){if(C=!0,D=w,w=f(w),p!==void 0&&h.hasValue){var I=h.value;if(p(I,w))return E=I}return E=w}if(I=E,n(D,w))return I;var R=f(w);return p!==void 0&&p(I,R)?(D=w,I):(D=w,E=R)}o(b,"memoizedSelector");var C=!1,D,E,S=g===void 0?null:g;return[function(){return b(u())},S===null?void 0:function(){return b(S())}]},[u,g,f,p]);var x=r(c,m[0],m[1]);return i(function(){h.hasValue=!0,h.value=x},[x]),l(x),x},jt}o(qi,"requireUseSyncExternalStoreWithSelector_production");var Zn;function zi(){return Zn||(Zn=1,Rt.exports=qi()),Rt.exports}o(zi,"requireWithSelector");zi();var Yi=v.version.startsWith("19"),Ki=Symbol.for(Yi?"react.transitional.element":"react.element"),Xi=Symbol.for("react.portal"),Ji=Symbol.for("react.fragment"),Qi=Symbol.for("react.strict_mode"),Zi=Symbol.for("react.profiler"),ea=Symbol.for("react.consumer"),ta=Symbol.for("react.context"),ro=Symbol.for("react.forward_ref"),na=Symbol.for("react.suspense"),ra=Symbol.for("react.suspense_list"),fn=Symbol.for("react.memo"),oa=Symbol.for("react.lazy"),sa=ro,ia=fn;function aa(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case Ki:switch(e=e.type,e){case Ji:case Zi:case Qi:case na:case ra:return e;default:switch(e=e&&e.$$typeof,e){case ta:case ro:case oa:case fn:return e;case ea:return e;default:return t}}case Xi:return t}}}o(aa,"typeOf");function la(e){return aa(e)===fn}o(la,"isMemo");function ca(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:a}){let l=!1,c,u,g,f,p;function m(D,E){return c=D,u=E,g=e(c,u),f=t(r,u),p=n(g,f,u),l=!0,p}o(m,"handleFirstCall");function h(){return g=e(c,u),t.dependsOnOwnProps&&(f=t(r,u)),p=n(g,f,u),p}o(h,"handleNewPropsAndNewState");function x(){return e.dependsOnOwnProps&&(g=e(c,u)),t.dependsOnOwnProps&&(f=t(r,u)),p=n(g,f,u),p}o(x,"handleNewProps");function b(){const D=e(c,u),E=!a(D,g);return g=D,E&&(p=n(g,f,u)),p}o(b,"handleNewState");function C(D,E){const S=!i(E,u),w=!s(D,c,E,u);return c=D,u=E,S&&w?h():S?x():w?b():p}return o(C,"handleSubsequentCalls"),o(function(E,S){return l?C(E,S):m(E,S)},"pureFinalPropsSelector")}o(ca,"pureFinalPropsSelectorFactory");function da(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const i=t(e,s),a=n(e,s),l=r(e,s);return ca(i,a,l,e,s)}o(da,"finalPropsSelectorFactory");function ua(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...i)=>t(s(...i)))}return n}o(ua,"bindActionCreators");function Vt(e){return o(function(n){const r=e(n);function s(){return r}return o(s,"constantSelector"),s.dependsOnOwnProps=!1,s},"initConstantSelector")}o(Vt,"wrapMapToPropsConstant");function er(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}o(er,"getDependsOnOwnProps");function oo(e,t){return o(function(r,{displayName:s}){const i=o(function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)},"mapToPropsProxy");return i.dependsOnOwnProps=!0,i.mapToProps=o(function(l,c){i.mapToProps=e,i.dependsOnOwnProps=er(e);let u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=er(u),u=i(l,c)),u},"detectFactoryAndVerify"),i},"initProxySelector")}o(oo,"wrapMapToPropsFunc");function gn(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}o(gn,"createInvalidArgFactory");function pa(e){return e&&typeof e=="object"?Vt(t=>ua(e,t)):e?typeof e=="function"?oo(e):gn(e,"mapDispatchToProps"):Vt(t=>({dispatch:t}))}o(pa,"mapDispatchToPropsFactory");function fa(e){return e?typeof e=="function"?oo(e):gn(e,"mapStateToProps"):Vt(()=>({}))}o(fa,"mapStateToPropsFactory");function ga(e,t,n){return{...n,...e,...t}}o(ga,"defaultMergeProps");function ma(e){return o(function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,a;return o(function(c,u,g){const f=e(c,u,g);return i?s(f,a)||(a=f):(i=!0,a=f),a},"mergePropsProxy")},"initMergePropsProxy")}o(ma,"wrapMergePropsFunc");function ha(e){return e?typeof e=="function"?ma(e):gn(e,"mergeProps"):()=>ga}o(ha,"mergePropsFactory");function ba(e){e()}o(ba,"defaultNoopBatch");function xa(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ba(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,o(function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)},"unsubscribe")}}}o(xa,"createListenerCollection");var tr={notify(){},get:o(()=>[],"get")};function so(e,t){let n,r=tr,s=0,i=!1;function a(x){g();const b=r.subscribe(x);let C=!1;return()=>{C||(C=!0,b(),f())}}o(a,"addNestedSub");function l(){r.notify()}o(l,"notifyNestedSubs");function c(){h.onStateChange&&h.onStateChange()}o(c,"handleChangeWrapper");function u(){return i}o(u,"isSubscribed");function g(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=xa())}o(g,"trySubscribe");function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=tr)}o(f,"tryUnsubscribe");function p(){i||(i=!0,g())}o(p,"trySubscribeSelf");function m(){i&&(i=!1,f())}o(m,"tryUnsubscribeSelf");const h={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:o(()=>r,"getListeners")};return h}o(so,"createSubscription");var va=o(()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u","canUseDOM"),ya=va(),Da=o(()=>typeof navigator<"u"&&navigator.product==="ReactNative","isRunningInReactNative"),Ca=Da(),Sa=o(()=>ya||Ca?v.useLayoutEffect:v.useEffect,"getUseIsomorphicLayoutEffect"),dt=Sa();function nr(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}o(nr,"is");function Ot(e,t){if(nr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!nr(e[n[s]],t[n[s]]))return!1;return!0}o(Ot,"shallowEqual");var wa={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ia={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Na={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},io={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ea={[sa]:Na,[ia]:io};function rr(e){return la(e)?io:Ea[e.$$typeof]||wa}o(rr,"getStatics");var Pa=Object.defineProperty,Aa=Object.getOwnPropertyNames,or=Object.getOwnPropertySymbols,Ra=Object.getOwnPropertyDescriptor,ja=Object.getPrototypeOf,sr=Object.prototype;function Wt(e,t){if(typeof t!="string"){if(sr){const i=ja(t);i&&i!==sr&&Wt(e,i)}let n=Aa(t);or&&(n=n.concat(or(t)));const r=rr(e),s=rr(t);for(let i=0;i<n.length;++i){const a=n[i];if(!Ia[a]&&!(s&&s[a])&&!(r&&r[a])){const l=Ra(t,a);try{Pa(e,a,l)}catch{}}}}return e}o(Wt,"hoistNonReactStatics");var Oa=Symbol.for("react-redux-context"),Ta=typeof globalThis<"u"?globalThis:{};function Ba(){if(!v.createContext)return{};const e=Ta[Oa]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}o(Ba,"getContext");var ao=Ba(),La=[null,null];function Ma(e,t,n){dt(()=>e(...t),n)}o(Ma,"useIsomorphicLayoutEffectWithArgs");function _a(e,t,n,r,s,i){e.current=r,n.current=!1,s.current&&(s.current=null,i())}o(_a,"captureWrapperProps");function Fa(e,t,n,r,s,i,a,l,c,u,g){if(!e)return()=>{};let f=!1,p=null;const m=o(()=>{if(f||!l.current)return;const x=t.getState();let b,C;try{b=r(x,s.current)}catch(D){C=D,p=D}C||(p=null),b===i.current?a.current||u():(i.current=b,c.current=b,a.current=!0,g())},"checkForUpdates");return n.onStateChange=m,n.trySubscribe(),m(),o(()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p},"unsubscribeWrapper")}o(Fa,"subscribeUpdates");function Ga(e,t){return e===t}o(Ga,"strictEqual");function ka(e,t,n,{pure:r,areStatesEqual:s=Ga,areOwnPropsEqual:i=Ot,areStatePropsEqual:a=Ot,areMergedPropsEqual:l=Ot,forwardRef:c=!1,context:u=ao}={}){const g=u,f=fa(e),p=pa(t),m=ha(n),h=!!e;return o(b=>{const C=b.displayName||b.name||"Component",D=`Connect(${C})`,E={shouldHandleStateChanges:h,displayName:D,wrappedComponentName:C,WrappedComponent:b,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:s,areStatePropsEqual:a,areOwnPropsEqual:i,areMergedPropsEqual:l};function S(R){const[T,F,P]=v.useMemo(()=>{const{reactReduxForwardedRef:z,...Re}=R;return[R.context,z,Re]},[R]),A=v.useMemo(()=>{let z=g;return T?.Consumer,z},[T,g]),M=v.useContext(A),H=!!R.store&&!!R.store.getState&&!!R.store.dispatch,L=!!M&&!!M.store,j=H?R.store:M.store,q=L?M.getServerState:j.getState,te=v.useMemo(()=>da(j.dispatch,E),[j]),[G,re]=v.useMemo(()=>{if(!h)return La;const z=so(j,H?void 0:M.subscription),Re=z.notifyNestedSubs.bind(z);return[z,Re]},[j,H,M]),fe=v.useMemo(()=>H?M:{...M,subscription:G},[H,M,G]),oe=v.useRef(void 0),Ne=v.useRef(P),le=v.useRef(void 0),et=v.useRef(!1),Ee=v.useRef(!1),Pe=v.useRef(void 0);dt(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]);const tt=v.useMemo(()=>o(()=>le.current&&P===Ne.current?le.current:te(j.getState(),P),"selector"),[j,P]),nt=v.useMemo(()=>o(Re=>G?Fa(h,j,G,te,Ne,oe,et,Ee,le,re,Re):()=>{},"subscribe"),[G]);Ma(_a,[Ne,oe,et,P,le,re]);let ge;try{ge=v.useSyncExternalStore(nt,tt,q?()=>te(q(),P):tt)}catch(z){throw Pe.current&&(z.message+=`
The error may be correlated with this previous error:
${Pe.current.stack}

`),z}dt(()=>{Pe.current=void 0,le.current=void 0,oe.current=ge});const Ae=v.useMemo(()=>v.createElement(b,{...ge,ref:F}),[F,b,ge]);return v.useMemo(()=>h?v.createElement(A.Provider,{value:fe},Ae):Ae,[A,Ae,fe])}o(S,"ConnectFunction");const I=v.memo(S);if(I.WrappedComponent=b,I.displayName=S.displayName=D,c){const T=v.forwardRef(o(function(P,A){return v.createElement(I,{...P,reactReduxForwardedRef:A})},"forwardConnectRef"));return T.displayName=D,T.WrappedComponent=b,Wt(T,b)}return Wt(I,b)},"wrapWithConnect")}o(ka,"connect");var lo=ka;function $a(e){const{children:t,context:n,serverState:r,store:s}=e,i=v.useMemo(()=>{const c=so(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),a=v.useMemo(()=>s.getState(),[s]);dt(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=n||ao;return v.createElement(l.Provider,{value:i},t)}o($a,"Provider");var Va=$a,Wa="Invariant failed";function Ua(e,t){throw new Error(Wa)}o(Ua,"invariant$1");var ee=o(function(t){var n=t.top,r=t.right,s=t.bottom,i=t.left,a=r-i,l=s-n,c={top:n,right:r,bottom:s,left:i,width:a,height:l,x:i,y:n,center:{x:(r+i)/2,y:(s+n)/2}};return c},"getRect2"),mn=o(function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},"expand2"),ir=o(function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},"shrink2"),Ha=o(function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},"shift2"),Tt={top:0,right:0,bottom:0,left:0},hn=o(function(t){var n=t.borderBox,r=t.margin,s=r===void 0?Tt:r,i=t.border,a=i===void 0?Tt:i,l=t.padding,c=l===void 0?Tt:l,u=ee(mn(n,s)),g=ee(ir(n,a)),f=ee(ir(g,c));return{marginBox:u,borderBox:ee(n),paddingBox:g,contentBox:f,margin:s,border:a,padding:c}},"createBox2"),J=o(function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&Ua(),s},"parse2"),qa=o(function(){return{x:window.pageXOffset,y:window.pageYOffset}},"getWindowScroll2"),ut=o(function(t,n){var r=t.borderBox,s=t.border,i=t.margin,a=t.padding,l=Ha(r,n);return hn({borderBox:l,border:s,margin:i,padding:a})},"offset2"),pt=o(function(t,n){return n===void 0&&(n=qa()),ut(t,n)},"withScroll2"),co=o(function(t,n){var r={top:J(n.marginTop),right:J(n.marginRight),bottom:J(n.marginBottom),left:J(n.marginLeft)},s={top:J(n.paddingTop),right:J(n.paddingRight),bottom:J(n.paddingBottom),left:J(n.paddingLeft)},i={top:J(n.borderTopWidth),right:J(n.borderRightWidth),bottom:J(n.borderBottomWidth),left:J(n.borderLeftWidth)};return hn({borderBox:t,margin:r,padding:s,border:i})},"calculateBox2"),uo=o(function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return co(n,r)},"getBox2"),$e=o(function(t){var n=[],r=null,s=o(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))},"wrapperFn");return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s},"rafSchd");function po(e,t){}o(po,"log");po.bind(null,"warn");po.bind(null,"error");function se(){}o(se,"noop$2");function za(e,t){return{...e,...t}}o(za,"getOptions");function Q(e,t,n){const r=t.map(s=>{const i=za(n,s.options);return e.addEventListener(s.eventName,s.fn,i),o(function(){e.removeEventListener(s.eventName,s.fn,i)},"unbind")});return o(function(){r.forEach(i=>{i()})},"unbindAll")}o(Q,"bindEvents");const Ya="Invariant failed",_n=class _n extends Error{};o(_n,"RbdInvariant");let me=_n;me.prototype.toString=o(function(){return this.message},"toString");function y(e,t){throw new me(Ya)}o(y,"invariant");const Fn=class Fn extends _.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=se,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof me&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Q(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof me){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};o(Fn,"ErrorBoundary");let Ut=Fn;const Ka=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ft=o(e=>e+1,"position"),Xa=o(e=>`
  You have lifted an item in position ${ft(e.source.index)}
`,"onDragStart"),fo=o((e,t)=>{const n=e.droppableId===t.droppableId,r=ft(e.index),s=ft(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},"withLocation"),go=o((e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,"withCombine"),Ja=o(e=>{const t=e.destination;if(t)return fo(e.source,t);const n=e.combine;return n?go(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},"onDragUpdate"),ar=o(e=>`
  The item has returned to its starting position
  of ${ft(e.index)}
`,"returnedToStart"),Qa=o(e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ar(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${fo(e.source,t)}
    `:n?`
      You have dropped the item.
      ${go(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${ar(e.source)}
  `},"onDragEnd"),at={dragHandleUsageInstructions:Ka,onDragStart:Xa,onDragUpdate:Ja,onDragEnd:Qa};function Za(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}o(Za,"isEqual$2");function mo(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Za(e[n],t[n]))return!1;return!0}o(mo,"areInputsEqual");function O(e,t){const n=v.useState(()=>({inputs:t,result:e()}))[0],r=v.useRef(!0),s=v.useRef(n),a=r.current||!!(t&&s.current.inputs&&mo(t,s.current.inputs))?s.current:{inputs:t,result:e()};return v.useEffect(()=>{r.current=!1,s.current=a},[a]),a.result}o(O,"useMemo");function N(e,t){return O(()=>e,t)}o(N,"useCallback");const $={x:0,y:0},V=o((e,t)=>({x:e.x+t.x,y:e.y+t.y}),"add"),Y=o((e,t)=>({x:e.x-t.x,y:e.y-t.y}),"subtract"),ie=o((e,t)=>e.x===t.x&&e.y===t.y,"isEqual$1"),Se=o(e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),"negate"),ue=o((e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},"patch"),Ve=o((e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),"distance"),lr=o((e,t)=>Math.min(...t.map(n=>Ve(e,n))),"closest$1"),ho=o(e=>t=>({x:e(t.x),y:e(t.y)}),"apply");var el=o((e,t)=>{const n=ee({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},"executeClip");const Qe=o((e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),"offsetByPosition"),cr=o(e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],"getCorners"),tl={top:0,right:0,bottom:0,left:0},nl=o((e,t)=>t?Qe(e,t.scroll.diff.displacement):e,"scroll$1"),rl=o((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,"increase"),ol=o((e,t)=>t&&t.shouldClipSubject?el(t.pageMarginBox,e):ee(e),"clip");var he=o(({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=nl(e.marginBox,r),i=rl(s,n,t),a=ol(i,r);return{page:e,withPlaceholder:t,active:a}},"getSubject"),bn=o((e,t)=>{e.frame||y();const n=e.frame,r=Y(t,n.scroll.initial),s=Se(r),i={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},a=he({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:a}},"scrollDroppable");function k(e,t=mo){let n=null;function r(...s){if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;const i=e.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return o(r,"memoized"),r.clear=o(function(){n=null},"clear"),r}o(k,"memoizeOne");const bo=k(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),xo=k(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),St=k(e=>Object.values(e)),sl=k(e=>Object.values(e));var we=k((e,t)=>sl(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function xn(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}o(xn,"tryGetDestination");function wt(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}o(wt,"tryGetCombine");var It=k((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),il=o(({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!xn(s))return null;function a(m){const h={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...s,at:h}}o(a,"getImpact");const l=s.displaced.all,c=l.length?l[0]:null;if(e)return c?a(c):null;const u=It(t,r);if(!c){if(!u.length)return null;const m=u[u.length-1];return a(m.descriptor.id)}const g=u.findIndex(m=>m.descriptor.id===c);g===-1&&y();const f=g-1;if(f<0)return null;const p=u[f];return a(p.descriptor.id)},"moveToNextCombine"),Ie=o((e,t)=>e.descriptor.droppableId===t.descriptor.id,"isHomeOf");const vo={point:$,value:0},We={invisible:{},visible:{},all:[]},al={displaced:We,displacedBy:vo,at:null};var Z=o((e,t)=>n=>e<=n&&n<=t,"isWithin"),yo=o(e=>{const t=Z(e.top,e.bottom),n=Z(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&a||u&&i}},"isPartiallyVisibleThroughFrame"),ll=o(e=>{const t=Z(e.top,e.bottom),n=Z(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)},"isTotallyVisibleThroughFrame");const vn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Do={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var cl=o(e=>t=>{const n=Z(t.top,t.bottom),r=Z(t.left,t.right);return s=>e===vn?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)},"isTotallyVisibleThroughFrameOnAxis");const dl=o((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:$;return Qe(e,n)},"getDroppableDisplaced"),ul=o((e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,"isVisibleInDroppable"),pl=o((e,t,n)=>n(t)(e),"isVisibleInViewport"),yn=o(({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const i=r?dl(e,t):e;return ul(i,t,s)&&pl(i,n,s)},"isVisible$1"),fl=o(e=>yn({...e,isVisibleThroughFrameFn:yo}),"isPartiallyVisible"),Co=o(e=>yn({...e,isVisibleThroughFrameFn:ll}),"isTotallyVisible"),gl=o(e=>yn({...e,isVisibleThroughFrameFn:cl(e.destination.axis)}),"isTotallyVisibleOnAxis"),ml=o((e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const i=s[e];return i?i.shouldAnimate:!0},"getShouldAnimate");function hl(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return ee(mn(n,r))}o(hl,"getTarget");function Ue({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:i}){return e.reduce(o(function(l,c){const u=hl(c,n),g=c.descriptor.id;if(l.all.push(g),!fl({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const p=ml(g,i,s),m={draggableId:g,shouldAnimate:p};return l.visible[g]=m,l},"process2"),{all:[],visible:{},invisible:{}})}o(Ue,"getDisplacementGroups");function bl(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}o(bl,"getIndexOfLastItem");function dr({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=bl(e,{inHomeList:t});return{displaced:We,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}o(dr,"goAtEnd");function gt({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:i,index:a,forceShouldAnimate:l}){const c=Ie(e,n);if(a==null)return dr({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const u=t.find(h=>h.descriptor.index===a);if(!u)return dr({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const g=It(e,t),f=t.indexOf(u),p=g.slice(f);return{displaced:Ue({afterDragging:p,destination:n,displacedBy:s,last:i,viewport:r.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}o(gt,"calculateReorderImpact");function ae(e,t){return!!t.effected[e]}o(ae,"didStartAfterCritical");var xl=o(({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const i=r.draggableId,l=n[i].descriptor.index;return ae(i,s)?e?l:l-1:e?l+1:l},"fromCombine"),vl=o(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,i=e?s+1:s-1,a=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=t?l:l+1;return i<a||i>c?null:i},"fromReorder"),yl=o(({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:i,previousImpact:a,viewport:l,afterCritical:c})=>{const u=a.at;if(u||y(),u.type==="REORDER"){const f=vl({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:i});return f==null?null:gt({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})}const g=xl({isMovingForward:e,destination:s,displaced:a.displaced,draggables:r,combine:u.combine,afterCritical:c});return g==null?null:gt({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:g})},"moveToNextIndex"),Dl=o(({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return ae(n,t)?s?$:Se(r.point):s?r.point:$},"getCombinedItemDisplacement"),Cl=o(({afterCritical:e,impact:t,draggables:n})=>{const r=wt(t);r||y();const s=r.draggableId,i=n[s].page.borderBox.center,a=Dl({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return V(i,a)},"whenCombining");const So=o((e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,"distanceFromStartToBorderBoxCenter"),Sl=o((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,"distanceFromEndToBorderBoxCenter"),Dn=o((e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,"getCrossAxisBorderBoxCenter"),ur=o(({axis:e,moveRelativeTo:t,isMoving:n})=>ue(e.line,t.marginBox[e.end]+So(e,n),Dn(e,t.marginBox,n)),"goAfter"),pr=o(({axis:e,moveRelativeTo:t,isMoving:n})=>ue(e.line,t.marginBox[e.start]-Sl(e,n),Dn(e,t.marginBox,n)),"goBefore"),wl=o(({axis:e,moveInto:t,isMoving:n})=>ue(e.line,t.contentBox[e.start]+So(e,n),Dn(e,t.contentBox,n)),"goIntoStart");var Il=o(({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const i=we(r.descriptor.id,n),a=t.page,l=r.axis;if(!i.length)return wl({axis:l,moveInto:r.page,isMoving:a});const{displaced:c,displacedBy:u}=e,g=c.all[0];if(g){const p=n[g];if(ae(g,s))return pr({axis:l,moveRelativeTo:p.page,isMoving:a});const m=ut(p.page,u.point);return pr({axis:l,moveRelativeTo:m,isMoving:a})}const f=i[i.length-1];if(f.descriptor.id===t.descriptor.id)return a.borderBox.center;if(ae(f.descriptor.id,s)){const p=ut(f.page,Se(s.displacedBy.point));return ur({axis:l,moveRelativeTo:p,isMoving:a})}return ur({axis:l,moveRelativeTo:f.page,isMoving:a})},"whenReordering"),Ht=o((e,t)=>{const n=e.frame;return n?V(t,n.scroll.diff.displacement):t},"withDroppableDisplacement");const Nl=o(({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const i=t.page.borderBox.center,a=e.at;return!n||!a?i:a.type==="REORDER"?Il({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):Cl({impact:e,draggables:r,afterCritical:s})},"getResultWithoutDroppableDisplacement");var Nt=o(e=>{const t=Nl(e),n=e.droppable;return n?Ht(n,t):t},"getPageBorderBoxCenterFromImpact"),wo=o((e,t)=>{const n=Y(t,e.scroll.initial),r=Se(n);return{frame:ee({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}},"scrollViewport");function fr(e,t){return e.map(n=>t[n])}o(fr,"getDraggables$1");function El(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}o(El,"tryGetVisible");var Pl=o(({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const i=wo(t,V(t.scroll.current,s)),a=n.frame?bn(n,V(n.frame.scroll.current,s)):n,l=e.displaced,c=Ue({afterDragging:fr(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),u=Ue({afterDragging:fr(l.all,r),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),g={},f={},p=[l,c,u];return l.all.forEach(h=>{const x=El(h,p);if(x){f[h]=x;return}g[h]=!0}),{...e,displaced:{all:l.all,invisible:g,visible:f}}},"speculativelyIncrease"),Al=o((e,t)=>V(e.scroll.diff.displacement,t),"withViewportDisplacement"),Cn=o(({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=Al(n,e),s=Y(r,t.page.borderBox.center);return V(t.client.borderBox.center,s)},"getClientFromPageBorderBoxCenter"),Io=o(({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const a=Y(n,e.page.borderBox.center),c={target:Qe(e.page.borderBox,a),destination:t,withDroppableDisplacement:s,viewport:r};return i?gl(c):Co(c)},"isTotallyVisibleInNewLocation"),Rl=o(({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:i,previousPageBorderBoxCenter:a,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const u=we(n.descriptor.id,r),g=Ie(t,n),f=il({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:s})||yl({isMovingForward:e,isInHomeList:g,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:i,afterCritical:c});if(!f)return null;const p=Nt({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:c});if(Io({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Cn({pageBorderBoxCenter:p,draggable:t,viewport:i}),impact:f,scrollJumpRequest:null};const h=Y(p,a),x=Pl({impact:f,viewport:i,destination:n,draggables:r,maxScrollChange:h});return{clientSelection:l,impact:x,scrollJumpRequest:h}},"moveToNextPlace");const W=o(e=>{const t=e.subject.active;return t||y(),t},"getKnownActive");var jl=o(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const i=n.subject.active;if(!i)return null;const a=n.axis,l=Z(i[a.start],i[a.end]),c=St(r).filter(g=>g!==n).filter(g=>g.isEnabled).filter(g=>!!g.subject.active).filter(g=>yo(s.frame)(W(g))).filter(g=>{const f=W(g);return e?i[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<i[a.crossAxisStart]}).filter(g=>{const f=W(g),p=Z(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||p(i[a.start])||p(i[a.end])}).sort((g,f)=>{const p=W(g)[a.crossAxisStart],m=W(f)[a.crossAxisStart];return e?p-m:m-p}).filter((g,f,p)=>W(g)[a.crossAxisStart]===W(p[0])[a.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(g=>Z(W(g)[a.start],W(g)[a.end])(t[a.line]));return u.length===1?u[0]:u.length>1?u.sort((g,f)=>W(g)[a.start]-W(f)[a.start])[0]:c.sort((g,f)=>{const p=lr(t,cr(W(g))),m=lr(t,cr(W(f)));return p!==m?p-m:W(g)[a.start]-W(f)[a.start]})[0]},"getBestCrossAxisDroppable");const gr=o((e,t)=>{const n=e.page.borderBox.center;return ae(e.descriptor.id,t)?Y(n,t.displacedBy.point):n},"getCurrentPageBorderBoxCenter"),Ol=o((e,t)=>{const n=e.page.borderBox;return ae(e.descriptor.id,t)?Qe(n,Se(t.displacedBy.point)):n},"getCurrentPageBorderBox");var Tl=o(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(a=>Co({target:Ol(a,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((a,l)=>{const c=Ve(e,Ht(n,gr(a,s))),u=Ve(e,Ht(n,gr(l,s)));return c<u?-1:u<c?1:a.descriptor.index-l.descriptor.index})[0]||null,"getClosestDraggable"),Ze=k(o(function(t,n){const r=n[t.line];return{value:r,point:ue(t.line,r)}},"getDisplacedBy2"));const Bl=o((e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return ue(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=we(e.descriptor.id,n).reduce((u,g)=>u+g.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:ue(r.line,c)},"getRequiredGrowthForPlaceholder"),No=o((e,t)=>({...e,scroll:{...e.scroll,max:t}}),"withMaxScroll"),Eo=o((e,t,n)=>{const r=e.frame;Ie(t,e)&&y(),e.subject.withPlaceholder&&y();const s=Ze(e.axis,t.displaceBy).point,i=Bl(e,s,n),a={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const g=he({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:g}}const l=i?V(r.scroll.max,i):r.scroll.max,c=No(r,l),u=he({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},"addPlaceholder"),Ll=o(e=>{const t=e.subject.withPlaceholder;t||y();const n=e.frame;if(!n){const a=he({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:a}}const r=t.oldFrameMaxScroll;r||y();const s=No(n,r),i=he({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:i,frame:s}},"removePlaceholder");var Ml=o(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:i,viewport:a,afterCritical:l})=>{if(!t){if(n.length)return null;const f={displaced:We,displacedBy:vo,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},p=Nt({impact:f,draggable:r,droppable:i,draggables:s,afterCritical:l}),m=Ie(r,i)?i:Eo(i,r,s);return Io({draggable:r,destination:m,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],u=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?f:f+1})(),g=Ze(i.axis,r.displaceBy);return gt({draggable:r,insideDestination:n,destination:i,viewport:a,displacedBy:g,last:We,index:u})},"moveToNewDroppable"),_l=o(({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:i,viewport:a,afterCritical:l})=>{const c=jl({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:i,viewport:a});if(!c)return null;const u=we(c.descriptor.id,s),g=Tl({pageBorderBoxCenter:t,viewport:a,destination:c,insideDestination:u,afterCritical:l}),f=Ml({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:g,insideDestination:u,viewport:a,afterCritical:l});if(!f)return null;const p=Nt({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:l});return{clientSelection:Cn({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null}},"moveCrossAxis"),K=o(e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},"whatIsDraggedOver");const Fl=o((e,t)=>{const n=K(e);return n?t[n]:null},"getDroppableOver$1");var Gl=o(({state:e,type:t})=>{const n=Fl(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],i=n||s,a=i.axis.direction,l=a==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||a==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],g=e.current.page.borderBoxCenter,{draggables:f,droppables:p}=e.dimensions;return l?Rl({isMovingForward:c,previousPageBorderBoxCenter:g,draggable:u,destination:i,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):_l({isMovingForward:c,previousPageBorderBoxCenter:g,draggable:u,isOver:i,draggables:f,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})},"moveInDirection");function de(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}o(de,"isMovementAllowed");function Po(e){const t=Z(e.top,e.bottom),n=Z(e.left,e.right);return o(function(s){return t(s.y)&&n(s.x)},"run")}o(Po,"isPositionInFrame");function kl(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}o(kl,"getHasOverlap");function $l({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(i=>{const a=i.axis,l=ue(i.axis.line,e.center[a.line],i.page.borderBox.center[a.crossAxisLine]);return{id:i.descriptor.id,distance:Ve(r,l)}}).sort((i,a)=>a.distance-i.distance);return s[0]?s[0].id:null}o($l,"getFurthestAway");function Vl({pageBorderBox:e,draggable:t,droppables:n}){const r=St(n).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!kl(e,i))return!1;if(Po(i)(e.center))return!0;const a=s.axis,l=i.center[a.crossAxisLine],c=e[a.crossAxisStart],u=e[a.crossAxisEnd],g=Z(i[a.crossAxisStart],i[a.crossAxisEnd]),f=g(c),p=g(u);return!f&&!p?!0:f?c<l:u>l});return r.length?r.length===1?r[0].descriptor.id:$l({pageBorderBox:e,draggable:t,candidates:r}):null}o(Vl,"getDroppableOver");const Ao=o((e,t)=>ee(Qe(e,t)),"offsetRectByPosition");var Wl=o((e,t)=>{const n=e.frame;return n?Ao(t,n.scroll.diff.value):t},"withDroppableScroll");function Ro({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}o(Ro,"getIsDisplaced");function Ul({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}o(Ul,"atIndex");var Hl=o(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:i,afterCritical:a})=>{const l=n.axis,c=Ze(n.axis,t.displaceBy),u=c.value,g=e[l.start],f=e[l.end],m=It(t,r).find(x=>{const b=x.descriptor.id,C=x.page.borderBox.center[l.line],D=ae(b,a),E=Ro({displaced:s,id:b});return D?E?f<=C:g<C-u:E?f<=C+u:g<C})||null,h=Ul({draggable:t,closest:m,inHomeList:Ie(t,n)});return gt({draggable:t,insideDestination:r,destination:n,viewport:i,last:s,displacedBy:c,index:h})},"getReorderImpact");const ql=4;var zl=o(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const a=r.axis,l=Ze(r.axis,e.displaceBy),c=l.value,u=t[a.start],g=t[a.end],p=It(e,s).find(h=>{const x=h.descriptor.id,b=h.page.borderBox,D=b[a.size]/ql,E=ae(x,i),S=Ro({displaced:n.displaced,id:x});return E?S?g>b[a.start]+D&&g<b[a.end]-D:u>b[a.start]-c+D&&u<b[a.end]-c-D:S?g>b[a.start]+c+D&&g<b[a.end]+c-D:u>b[a.start]+D&&u<b[a.end]-D});return p?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},"getCombineImpact"),jo=o(({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:i,afterCritical:a})=>{const l=Ao(t.page.borderBox,e),c=Vl({pageBorderBox:l,draggable:t,droppables:r});if(!c)return al;const u=r[c],g=we(u.descriptor.id,n),f=Wl(u,l);return zl({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:s,destination:u,insideDestination:g,afterCritical:a})||Hl({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:u,insideDestination:g,last:s.displaced,viewport:i,afterCritical:a})},"getDragImpact"),Sn=o((e,t)=>({...e,[t.descriptor.id]:t}),"patchDroppableMap");const Yl=o(({previousImpact:e,impact:t,droppables:n})=>{const r=K(e),s=K(t);if(!r||r===s)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const a=Ll(i);return Sn(n,a)},"clearUnusedPlaceholder");var Kl=o(({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const i=Yl({previousImpact:r,impact:s,droppables:n}),a=K(s);if(!a)return i;const l=n[a];if(Ie(e,l)||l.subject.withPlaceholder)return i;const c=Eo(l,e,t);return Sn(i,c)},"recomputePlaceholders"),_e=o(({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:i})=>{const a=r||e.viewport,l=n||e.dimensions,c=t||e.current.client.selection,u=Y(c,e.initial.client.selection),g={offset:u,selection:c,borderBoxCenter:V(e.initial.client.borderBoxCenter,u)},f={selection:V(g.selection,a.scroll.current),borderBoxCenter:V(g.borderBoxCenter,a.scroll.current),offset:V(g.offset,a.scroll.diff.value)},p={client:g,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:a,current:p};const m=l.draggables[e.critical.draggable.id],h=s||jo({pageOffset:f.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),x=Kl({draggable:m,impact:h,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:p,dimensions:{draggables:l.draggables,droppables:x},impact:h,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}},"update");function Xl(e,t){return e.map(n=>t[n])}o(Xl,"getDraggables");var Oo=o(({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const i=e.displaced,a=Xl(i.all,n),l=Ue({afterDragging:a,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:i});return{...e,displaced:l}},"recompute"),To=o(({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:i})=>{const a=Nt({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i});return Cn({pageBorderBoxCenter:a,draggable:t,viewport:s})},"getClientBorderBoxCenter"),Bo=o(({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&y();const r=e.impact,s=n||e.viewport,i=t||e.dimensions,{draggables:a,droppables:l}=i,c=a[e.critical.draggable.id],u=K(r);u||y();const g=l[u],f=Oo({impact:r,viewport:s,destination:g,draggables:a}),p=To({impact:f,draggable:c,droppable:g,draggables:a,viewport:s,afterCritical:e.afterCritical});return _e({impact:f,clientSelection:p,state:e,dimensions:i,viewport:s})},"refreshSnap"),Jl=o(e=>({index:e.index,droppableId:e.droppableId}),"getHomeLocation"),Lo=o(({draggable:e,home:t,draggables:n,viewport:r})=>{const s=Ze(t.axis,e.displaceBy),i=we(t.descriptor.id,n),a=i.indexOf(e);a===-1&&y();const l=i.slice(a+1),c=l.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:Ue({afterDragging:l,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:Jl(e.descriptor)}},afterCritical:u}},"getLiftEffect"),Ql=o((e,t)=>({draggables:e.draggables,droppables:Sn(e.droppables,t)}),"patchDimensionMap"),Zl=o(({draggable:e,offset:t,initialWindowScroll:n})=>{const r=ut(e.client,t),s=pt(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},"offsetDraggable"),ec=o(e=>{const t=e.frame;return t||y(),t},"getFrame"),tc=o(({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const i=s.descriptor.droppableId,a=t[i],c=ec(a).scroll.diff.value,u=V(r,c);return Zl({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},"adjustAdditionsForScrollChanges"),nc=o(({state:e,published:t})=>{const n=t.modified.map(C=>{const D=e.dimensions.droppables[C.droppableId];return bn(D,C.scroll)}),r={...e.dimensions.droppables,...bo(n)},s=xo(tc({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),i={...e.dimensions.draggables,...s};t.removals.forEach(C=>{delete i[C]});const a={droppables:r,draggables:i},l=K(e.impact),c=l?a.droppables[l]:null,u=a.draggables[e.critical.draggable.id],g=a.droppables[e.critical.droppable.id],{impact:f,afterCritical:p}=Lo({draggable:u,home:g,draggables:i,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:f,h=jo({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),x={...e,phase:"DRAGGING",impact:h,onLiftImpact:f,dimensions:a,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?x:{...x,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}},"publishWhileDraggingInVirtual");const qt=o(e=>e.movementMode==="SNAP","isSnapping"),Bt=o((e,t,n)=>{const r=Ql(e.dimensions,t);return!qt(e)||n?_e({state:e,dimensions:r}):Bo({state:e,dimensions:r})},"postDroppableChange");function Lt(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}o(Lt,"removeScrollJumpRequest");const mr={phase:"IDLE",completed:null,shouldFlush:!1};var rc=o((e=mr,t)=>{if(t.type==="FLUSH")return{...mr,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&y();const{critical:n,clientSelection:r,viewport:s,dimensions:i,movementMode:a}=t.payload,l=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],u={selection:r,borderBoxCenter:l.client.borderBox.center,offset:$},g={client:u,page:{selection:V(u.selection,s.scroll.initial),borderBoxCenter:V(u.selection,s.scroll.initial),offset:V(u.selection,s.scroll.diff.value)}},f=St(i.droppables).every(x=>!x.isFixedOnPage),{impact:p,afterCritical:m}=Lo({draggable:l,home:c,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:g,current:g,isWindowScrollAllowed:f,impact:p,afterCritical:m,onLiftImpact:p,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&y(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||y(),nc({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;de(e)||y();const{client:n}=t.payload;return ie(n,e.current.client.selection)?e:_e({state:e,clientSelection:n,impact:qt(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Lt(e);de(e)||y();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const i=bn(s,r);return Bt(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;de(e)||y();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||y(),s.isEnabled===r&&y();const i={...s,isEnabled:r};return Bt(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;de(e)||y();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||y(),s.isCombineEnabled===r&&y();const i={...s,isCombineEnabled:r};return Bt(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;de(e)||y(),e.isWindowScrollAllowed||y();const n=t.payload.newScroll;if(ie(e.viewport.scroll.current,n))return Lt(e);const r=wo(e.viewport,n);return qt(e)?Bo({state:e,viewport:r}):_e({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!de(e))return e;const n=t.payload.maxScroll;if(ie(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&y();const n=Gl({state:e,type:t.type});return n?_e({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&y(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||y(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e},"reducer");function B(e,t){return e instanceof Object&&"type"in e&&e.type===t}o(B,"guard");const oc=o(e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),"beforeInitialCapture"),sc=o(e=>({type:"LIFT",payload:e}),"lift$1"),ic=o(e=>({type:"INITIAL_PUBLISH",payload:e}),"initialPublish"),ac=o(e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),"publishWhileDragging"),lc=o(()=>({type:"COLLECTION_STARTING",payload:null}),"collectionStarting"),cc=o(e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),"updateDroppableScroll"),dc=o(e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),"updateDroppableIsEnabled"),uc=o(e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),"updateDroppableIsCombineEnabled"),Mo=o(e=>({type:"MOVE",payload:e}),"move"),pc=o(e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),"moveByWindowScroll"),fc=o(e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),"updateViewportMaxScroll"),gc=o(()=>({type:"MOVE_UP",payload:null}),"moveUp"),mc=o(()=>({type:"MOVE_DOWN",payload:null}),"moveDown"),hc=o(()=>({type:"MOVE_RIGHT",payload:null}),"moveRight"),bc=o(()=>({type:"MOVE_LEFT",payload:null}),"moveLeft"),wn=o(()=>({type:"FLUSH",payload:null}),"flush"),xc=o(e=>({type:"DROP_ANIMATE",payload:e}),"animateDrop"),In=o(e=>({type:"DROP_COMPLETE",payload:e}),"completeDrop"),_o=o(e=>({type:"DROP",payload:e}),"drop"),vc=o(e=>({type:"DROP_PENDING",payload:e}),"dropPending"),Fo=o(()=>({type:"DROP_ANIMATION_FINISHED",payload:null}),"dropAnimationFinished");var yc=o(e=>({getState:t,dispatch:n})=>r=>s=>{if(!B(s,"LIFT")){r(s);return}const{id:i,clientSelection:a,movementMode:l}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n(In({completed:c.completed})),t().phase!=="IDLE"&&y(),n(wn()),n(oc({draggableId:i,movementMode:l}));const g={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:p,viewport:m}=e.startPublishing(g);n(ic({critical:f,dimensions:p,clientSelection:a,movementMode:l,viewport:m}))},"lift"),Dc=o(e=>()=>t=>n=>{B(n,"INITIAL_PUBLISH")&&e.dragging(),B(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(B(n,"FLUSH")||B(n,"DROP_COMPLETE"))&&e.resting(),t(n)},"style");const Nn={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},He={opacity:{drop:0,combining:.7},scale:{drop:.75}},Go={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ce=`${Go.outOfTheWay}s ${Nn.outOfTheWay}`,Fe={fluid:`opacity ${ce}`,snap:`transform ${ce}, opacity ${ce}`,drop:o(e=>{const t=`${e}s ${Nn.drop}`;return`transform ${t}, opacity ${t}`},"drop"),outOfTheWay:`transform ${ce}`,placeholder:`height ${ce}, width ${ce}, margin ${ce}`},hr=o(e=>ie(e,$)?void 0:`translate(${e.x}px, ${e.y}px)`,"moveTo"),zt={moveTo:hr,drop:o((e,t)=>{const n=hr(e);if(n)return t?`${n} scale(${He.scale.drop})`:n},"drop")},{minDropTime:Yt,maxDropTime:ko}=Go,Cc=ko-Yt,br=1500,Sc=.6;var wc=o(({current:e,destination:t,reason:n})=>{const r=Ve(e,t);if(r<=0)return Yt;if(r>=br)return ko;const s=r/br,i=Yt+Cc*s,a=n==="CANCEL"?i*Sc:i;return Number(a.toFixed(2))},"getDropDuration"),Ic=o(({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:i,droppables:a}=n,l=K(e),c=l?a[l]:null,u=a[t.descriptor.droppableId],g=To({impact:e,draggable:t,draggables:i,afterCritical:s,droppable:c||u,viewport:r});return Y(g,t.client.borderBox.center)},"getNewHomeClientOffset"),Nc=o(({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:i})=>!n.at||t!=="DROP"?{impact:Oo({draggables:e,impact:i,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:We},didDropInsideDroppable:!0},"getDropImpact");const Ec=o(({getState:e,dispatch:t})=>n=>r=>{if(!B(r,"DROP")){n(r);return}const s=e(),i=r.payload.reason;if(s.phase==="COLLECTING"){t(vc({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&y(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||y();const l=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:g,didDropInsideDroppable:f}=Nc({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=f?xn(g):null,m=f?wt(g):null,h={index:l.draggable.index,droppableId:l.droppable.id},x={draggableId:u.descriptor.id,type:u.descriptor.type,source:h,reason:i,mode:s.movementMode,destination:p,combine:m},b=Ic({impact:g,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),C={critical:s.critical,afterCritical:s.afterCritical,result:x,impact:g};if(!(!ie(s.current.client.offset,b)||!!x.combine)){t(In({completed:C}));return}const E=wc({current:s.current.client.offset,destination:b,reason:i});t(xc({newHomeClientOffset:b,dropDuration:E,completed:C}))},"dropMiddleware");var $o=o(()=>({x:window.pageXOffset,y:window.pageYOffset}),"getWindowScroll");function Pc(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:o(t=>{t.target!==window&&t.target!==window.document||e()},"fn")}}o(Pc,"getWindowScrollBinding");function Ac({onWindowScroll:e}){function t(){e($o())}o(t,"updateScroll");const n=$e(t),r=Pc(n);let s=se;function i(){return s!==se}o(i,"isActive2");function a(){i()&&y(),s=Q(window,[r])}o(a,"start2");function l(){i()||y(),n.cancel(),s(),s=se}return o(l,"stop"),{start:a,stop:l,isActive:i}}o(Ac,"getScrollListener");const Rc=o(e=>B(e,"DROP_COMPLETE")||B(e,"DROP_ANIMATE")||B(e,"FLUSH"),"shouldStop$1"),jc=o(e=>{const t=Ac({onWindowScroll:o(n=>{e.dispatch(pc({newScroll:n}))},"onWindowScroll")});return n=>r=>{!t.isActive()&&B(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&Rc(r)&&t.stop(),n(r)}},"scrollListener");var Oc=o(e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=o(i=>{t||n||(t=!0,e(i),clearTimeout(r))},"result");return s.wasCalled=()=>t,s},"getExpiringAnnounce"),Tc=o(()=>{const e=[],t=o(s=>{const i=e.findIndex(l=>l.timerId===s);i===-1&&y();const[a]=e.splice(i,1);a.callback()},"execute2");return{add:o(s=>{const i=setTimeout(()=>t(i)),a={timerId:i,callback:s};e.push(a)},"add2"),flush:o(()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})},"flush2")}},"getAsyncMarshal");const Bc=o((e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,"areLocationsEqual"),Lc=o((e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,"isCombineEqual"),Mc=o((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},"isCriticalEqual"),je=o((e,t)=>{t()},"withTimings"),rt=o((e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}),"getDragStart");function Mt(e,t,n,r){if(!e){n(r(t));return}const s=Oc(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}o(Mt,"execute");var _c=o((e,t)=>{const n=Tc();let r=null;const s=o((f,p)=>{r&&y(),je("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:p})})},"beforeCapture"),i=o((f,p)=>{r&&y(),je("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(rt(f,p))})},"beforeStart"),a=o((f,p)=>{r&&y();const m=rt(f,p);r={mode:p,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{je("onDragStart",()=>Mt(e().onDragStart,m,t,at.onDragStart))})},"start2"),l=o((f,p)=>{const m=xn(p),h=wt(p);r||y();const x=!Mc(f,r.lastCritical);x&&(r.lastCritical=f);const b=!Bc(r.lastLocation,m);b&&(r.lastLocation=m);const C=!Lc(r.lastCombine,h);if(C&&(r.lastCombine=h),!x&&!b&&!C)return;const D={...rt(f,r.mode),combine:h,destination:m};n.add(()=>{je("onDragUpdate",()=>Mt(e().onDragUpdate,D,t,at.onDragUpdate))})},"update2"),c=o(()=>{r||y(),n.flush()},"flush2"),u=o(f=>{r||y(),r=null,je("onDragEnd",()=>Mt(e().onDragEnd,f,t,at.onDragEnd))},"drop2");return{beforeCapture:s,beforeStart:i,start:a,update:l,flush:c,drop:u,abort:o(()=>{if(!r)return;const f={...rt(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)},"abort")}},"getPublisher"),Fc=o((e,t)=>{const n=_c(e,t);return r=>s=>i=>{if(B(i,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(B(i,"INITIAL_PUBLISH")){const l=i.payload.critical;n.beforeStart(l,i.payload.movementMode),s(i),n.start(l,i.payload.movementMode);return}if(B(i,"DROP_COMPLETE")){const l=i.payload.completed.result;n.flush(),s(i),n.drop(l);return}if(s(i),B(i,"FLUSH")){n.abort();return}const a=r.getState();a.phase==="DRAGGING"&&n.update(a.critical,a.impact)}},"responders");const Gc=o(e=>t=>n=>{if(!B(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&y(),e.dispatch(In({completed:r.completed}))},"dropAnimationFinishMiddleware"),kc=o(e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return o(r,"clear"),s=>i=>{if((B(i,"FLUSH")||B(i,"DROP_COMPLETE")||B(i,"DROP_ANIMATION_FINISHED"))&&r(),s(i),!B(i,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:o(function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Fo())},"flushDropAnimation")};n=requestAnimationFrame(()=>{n=null,t=Q(window,[a])})}},"dropAnimationFlushOnScrollMiddleware");var $c=o(e=>()=>t=>n=>{(B(n,"DROP_COMPLETE")||B(n,"FLUSH")||B(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},"dimensionMarshalStopper"),Vc=o(e=>{let t=!1;return()=>n=>r=>{if(B(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(B(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(B(r,"DROP_COMPLETE")){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}},"focus");const Wc=o(e=>B(e,"DROP_COMPLETE")||B(e,"DROP_ANIMATE")||B(e,"FLUSH"),"shouldStop");var Uc=o(e=>t=>n=>r=>{if(Wc(r)){e.stop(),n(r);return}if(B(r,"INITIAL_PUBLISH")){n(r);const s=t.getState();s.phase!=="DRAGGING"&&y(),e.start(s);return}n(r),e.scroll(t.getState())},"autoScroll");const Hc=o(e=>t=>n=>{if(t(n),!B(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(_o({reason:r.reason})))},"pendingDrop"),qc=no;var zc=o(({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:i})=>to(rc,qc(Hi(Dc(n),$c(e),yc(e),Ec,Gc,kc,Hc,Uc(i),jc,Vc(t),Fc(r,s)))),"createStore");const _t=o(()=>({additions:{},removals:{},modified:{}}),"clean$1");function Yc({registry:e,callbacks:t}){let n=_t(),r=null;const s=o(()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:g}=n,f=Object.keys(c).map(h=>e.draggable.getById(h).getDimension($)).sort((h,x)=>h.descriptor.index-x.descriptor.index),p=Object.keys(g).map(h=>{const b=e.droppable.getById(h).callbacks.getScrollWhileDragging();return{droppableId:h,scroll:b}}),m={additions:f,removals:Object.keys(u),modified:p};n=_t(),t.publish(m)}))},"collect");return{add:o(c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},"add2"),remove:o(c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},"remove"),stop:o(()=>{r&&(cancelAnimationFrame(r),r=null,n=_t())},"stop")}}o(Yc,"createPublisher");var Vo=o(({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=Y({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},"getMaxScroll"),Wo=o(()=>{const e=document.documentElement;return e||y(),e},"getDocumentElement"),Uo=o(()=>{const e=Wo();return Vo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},"getMaxWindowScroll"),Kc=o(()=>{const e=$o(),t=Uo(),n=e.y,r=e.x,s=Wo(),i=s.clientWidth,a=s.clientHeight,l=r+i,c=n+a;return{frame:ee({top:n,left:r,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:$,displacement:$}}}},"getViewport"),Xc=o(({critical:e,scrollOptions:t,registry:n})=>{const r=Kc(),s=r.scroll.current,i=e.droppable,a=n.droppable.getAllByType(i.type).map(g=>g.callbacks.getDimensionAndWatchScroll(s,t)),l=n.draggable.getAllByType(e.draggable.type).map(g=>g.getDimension(s));return{dimensions:{draggables:xo(l),droppables:bo(a)},critical:e,viewport:r}},"getInitialPublish");function xr(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}o(xr,"shouldPublishUpdate");var Jc=o((e,t)=>{let n=null;const r=Yc({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=o((p,m)=>{e.droppable.exists(p)||y(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},"updateDroppableIsEnabled2"),i=o((p,m)=>{n&&(e.droppable.exists(p)||y(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},"updateDroppableIsCombineEnabled2"),a=o((p,m)=>{n&&(e.droppable.exists(p)||y(),t.updateDroppableScroll({id:p,newScroll:m}))},"updateDroppableScroll2"),l=o((p,m)=>{n&&e.droppable.getById(p).callbacks.scroll(m)},"scrollDroppable2"),c=o(()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},"stopPublishing"),u=o(p=>{n||y();const m=n.critical.draggable;p.type==="ADDITION"&&xr(e,m,p.value)&&r.add(p.value),p.type==="REMOVAL"&&xr(e,m,p.value)&&r.remove(p.value)},"subscriber");return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:o(p=>{n&&y();const m=e.draggable.getById(p.draggableId),h=e.droppable.getById(m.descriptor.droppableId),x={draggable:m.descriptor,droppable:h.descriptor},b=e.subscribe(u);return n={critical:x,unsubscribe:b},Xc({critical:x,registry:e,scrollOptions:p.scrollOptions})},"startPublishing"),stopPublishing:c}},"createDimensionMarshal"),Ho=o((e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP","canStartDrag"),Qc=o(e=>{window.scrollBy(e.x,e.y)},"scrollWindow");const Zc=k(e=>St(e).filter(t=>!(!t.isEnabled||!t.frame))),ed=o((e,t)=>Zc(t).find(r=>(r.frame||y(),Po(r.frame.pageMarginBox)(e)))||null,"getScrollableDroppableOver");var td=o(({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return ed(e,n)},"getBestScrollableDroppable");const qe={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:o(e=>e**2,"ease"),durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var nd=o((e,t,n=()=>qe)=>{const r=n(),s=e[t.size]*r.startFromPercentage,i=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},"getDistanceThresholds"),qo=o(({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},"getPercentage"),En=1,rd=o((e,t,n=()=>qe)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return En;const i=1-qo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=r.maxPixelScroll*r.ease(i);return Math.ceil(a)},"getValueFromDistance"),od=o((e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,a=t,l=i,u=Date.now()-a;if(u>=i)return e;if(u<s)return En;const g=qo({startOfRange:s,endOfRange:l,current:u}),f=e*r.ease(g);return Math.ceil(f)},"dampenValueByTime"),vr=o(({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const i=rd(e,t,s);return i===0?0:r?Math.max(od(i,n,s),En):i},"getValue"),yr=o(({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=nd(e,r,i);return t[r.end]<t[r.start]?vr({distanceToEdge:t[r.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*vr({distanceToEdge:t[r.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},"getScrollOnAxis"),sd=o(({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}},"adjustForSizeLimits");const id=ho(e=>e===0?0:e);var zo=o(({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=yr({container:t,distanceToEdges:a,dragStartTime:e,axis:vn,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=yr({container:t,distanceToEdges:a,dragStartTime:e,axis:Do,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),u=id({x:c,y:l});if(ie(u,$))return null;const g=sd({container:t,subject:n,proposedScroll:u});return g?ie(g,$)?null:g:null},"getScroll$1");const ad=ho(e=>e===0?0:e>0?1:-1),Pn=(()=>{const e=o((t,n)=>t<0?t:t>n?t-n:0,"getRemainder");return({current:t,max:n,change:r})=>{const s=V(t,r),i={x:e(s.x,n.x),y:e(s.y,n.y)};return ie(i,$)?null:i}})(),Yo=o(({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=ad(n),i=Pn({max:r,current:t,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},"canPartiallyScroll"),An=o((e,t)=>Yo({current:e.scroll.current,max:e.scroll.max,change:t}),"canScrollWindow"),ld=o((e,t)=>{if(!An(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Pn({current:r,max:n,change:t})},"getWindowOverlap"),Rn=o((e,t)=>{const n=e.frame;return n?Yo({current:n.scroll.current,max:n.scroll.max,change:t}):!1},"canScrollDroppable"),cd=o((e,t)=>{const n=e.frame;return!n||!Rn(e,t)?null:Pn({current:n.scroll.current,max:n.scroll.max,change:t})},"getDroppableOverlap");var dd=o(({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=zo({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return a&&An(e,a)?a:null},"getWindowScrollChange"),ud=o(({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=e.frame;if(!a)return null;const l=zo({dragStartTime:r,container:a.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return l&&Rn(e,l)?l:null},"getDroppableScrollChange"),Dr=o(({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:i})=>{const a=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,p=dd({dragStartTime:t,viewport:f,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(p){r(p);return}}const u=td({center:a,destination:K(e.impact),droppables:e.dimensions.droppables});if(!u)return;const g=ud({dragStartTime:t,droppable:u,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});g&&s(u.descriptor.id,g)},"scroll"),pd=o(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=o(()=>qe,"getAutoScrollerOptions")})=>{const r=$e(e),s=$e(t);let i=null;const a=o(u=>{i||y();const{shouldUseTimeDampening:g,dragStartTime:f}=i;Dr({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:g,getAutoScrollerOptions:n})},"tryScroll");return{start:o(u=>{i&&y();const g=Date.now();let f=!1;const p=o(()=>{f=!0},"fakeScrollCallback");Dr({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),i={dragStartTime:g,shouldUseTimeDampening:f},f&&a(u)},"start$1"),stop:o(()=>{i&&(r.cancel(),s.cancel(),i=null)},"stop"),scroll:a}},"createFluidScroller"),fd=o(({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=o((l,c)=>{const u=V(l.current.client.selection,c);e({client:u})},"moveByOffset"),s=o((l,c)=>{if(!Rn(l,c))return c;const u=cd(l,c);if(!u)return t(l.descriptor.id,c),null;const g=Y(c,u);return t(l.descriptor.id,g),Y(c,g)},"scrollDroppableAsMuchAsItCan"),i=o((l,c,u)=>{if(!l||!An(c,u))return u;const g=ld(c,u);if(!g)return n(u),null;const f=Y(u,g);return n(f),Y(u,f)},"scrollWindowAsMuchAsItCan");return o(l=>{const c=l.scrollJumpRequest;if(!c)return;const u=K(l.impact);u||y();const g=s(l.dimensions.droppables[u],c);if(!g)return;const f=l.viewport,p=i(l.isWindowScrollAllowed,f,g);p&&r(l,p)},"jumpScroller")},"createJumpScroller"),gd=o(({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=pd({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),i=fd({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:o(c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&i(c)}},"scroll2"),start:s.start,stop:s.stop}},"createAutoScroller");const be="data-rfd",xe=(()=>{const e=`${be}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Kt=(()=>{const e=`${be}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),md=(()=>{const e=`${be}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Cr={contextId:`${be}-scroll-container-context-id`},hd=o(e=>t=>`[${t}="${e}"]`,"makeGetSelector"),Oe=o((e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),"getStyles"),bd="pointer-events: none;";var xd=o(e=>{const t=hd(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(xe.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:bd,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Fe.outOfTheWay};
    `;return{selector:t(Kt.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:t(md.contextId),styles:{always:"overflow-anchor: none;"}},a=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Oe(a,"always"),resting:Oe(a,"resting"),dragging:Oe(a,"dragging"),dropAnimating:Oe(a,"dropAnimating"),userCancel:Oe(a,"userCancel")}},"getStyles$1");const X=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,Ft=o(()=>{const e=document.querySelector("head");return e||y(),e},"getHead"),Sr=o(e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},"createStyleEl");function vd(e,t){const n=O(()=>xd(e),[e]),r=v.useRef(null),s=v.useRef(null),i=N(k(f=>{const p=s.current;p||y(),p.textContent=f}),[]),a=N(f=>{const p=r.current;p||y(),p.textContent=f},[]);X(()=>{!r.current&&!s.current||y();const f=Sr(t),p=Sr(t);return r.current=f,s.current=p,f.setAttribute(`${be}-always`,e),p.setAttribute(`${be}-dynamic`,e),Ft().appendChild(f),Ft().appendChild(p),a(n.always),i(n.resting),()=>{const m=o(h=>{const x=h.current;x||y(),Ft().removeChild(x),h.current=null},"remove");m(r),m(s)}},[t,a,i,n.always,n.resting,e]);const l=N(()=>i(n.dragging),[i,n.dragging]),c=N(f=>{if(f==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),u=N(()=>{s.current&&i(n.resting)},[i,n.resting]);return O(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}o(vd,"useStyleMarshal");function Ko(e,t){return Array.from(e.querySelectorAll(t))}o(Ko,"querySelectorAll");var Xo=o(e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window,"getWindowFromEl");function Et(e){return e instanceof Xo(e).HTMLElement}o(Et,"isHtmlElement");function yd(e,t){const n=`[${xe.contextId}="${e}"]`,r=Ko(document,n);if(!r.length)return null;const s=r.find(i=>i.getAttribute(xe.draggableId)===t);return!s||!Et(s)?null:s}o(yd,"findDragHandle");function Dd(e){const t=v.useRef({}),n=v.useRef(null),r=v.useRef(null),s=v.useRef(!1),i=N(o(function(p,m){const h={id:p,focus:m};return t.current[p]=h,o(function(){const b=t.current;b[p]!==h&&delete b[p]},"unregister")},"register2"),[]),a=N(o(function(p){const m=yd(e,p);m&&m!==document.activeElement&&m.focus()},"tryGiveFocus2"),[e]),l=N(o(function(p,m){n.current===p&&(n.current=m)},"tryShiftRecord2"),[]),c=N(o(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&a(p)}))},"tryRestoreFocusRecorded2"),[a]),u=N(o(function(p){n.current=null;const m=document.activeElement;m&&m.getAttribute(xe.draggableId)===p&&(n.current=p)},"tryRecordFocus2"),[]);return X(()=>(s.current=!0,o(function(){s.current=!1;const p=r.current;p&&cancelAnimationFrame(p)},"clearFrameOnUnmount")),[]),O(()=>({register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,u,c,l])}o(Dd,"useFocusMarshal");function Cd(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),o(function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)},"unsubscribe")}o(n,"subscribe");function r(f){t.length&&t.forEach(p=>p(f))}o(r,"notify");function s(f){return e.draggables[f]||null}o(s,"findDraggableById");function i(f){const p=s(f);return p||y(),p}o(i,"getDraggableById");const a={register:o(f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},"register"),update:o((f,p)=>{const m=e.draggables[p.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[f.descriptor.id]=f)},"update"),unregister:o(f=>{const p=f.descriptor.id,m=s(p);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[p],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},"unregister"),getById:i,findById:s,exists:o(f=>!!s(f),"exists"),getAllByType:o(f=>Object.values(e.draggables).filter(p=>p.descriptor.type===f),"getAllByType")};function l(f){return e.droppables[f]||null}o(l,"findDroppableById");function c(f){const p=l(f);return p||y(),p}o(c,"getDroppableById");const u={register:o(f=>{e.droppables[f.descriptor.id]=f},"register"),unregister:o(f=>{const p=l(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete e.droppables[f.descriptor.id]},"unregister"),getById:c,findById:l,exists:o(f=>!!l(f),"exists"),getAllByType:o(f=>Object.values(e.droppables).filter(p=>p.descriptor.type===f),"getAllByType")};function g(){e.draggables={},e.droppables={},t.length=0}return o(g,"clean2"),{draggable:a,droppable:u,subscribe:n,clean:g}}o(Cd,"createRegistry");function Sd(){const e=O(Cd,[]);return v.useEffect(()=>o(function(){e.clean()},"unmount"),[e]),e}o(Sd,"useRegistry");var jn=_.createContext(null),mt=o(()=>{const e=document.body;return e||y(),e},"getBodyElement");const wd={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Id=o(e=>`rfd-announcement-${e}`,"getId");function Nd(e){const t=O(()=>Id(e),[e]),n=v.useRef(null);return v.useEffect(o(function(){const i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Gr(i.style,wd),mt().appendChild(i),o(function(){setTimeout(o(function(){const c=mt();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)},"remove"))},"cleanup")},"setup"),[t]),N(s=>{const i=n.current;if(i){i.textContent=s;return}},[])}o(Nd,"useAnnouncer");const Ed={separator:"::"};function On(e,t=Ed){const n=_.useId();return O(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}o(On,"useUniqueId");function Pd({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}o(Pd,"getElementId");function Ad({contextId:e,text:t}){const n=On("hidden-text",{separator:"-"}),r=O(()=>Pd({contextId:e,uniqueId:n}),[n,e]);return v.useEffect(o(function(){const i=document.createElement("div");return i.id=r,i.textContent=t,i.style.display="none",mt().appendChild(i),o(function(){const l=mt();l.contains(i)&&l.removeChild(i)},"unmount")},"mount"),[r,t]),r}o(Ad,"useHiddenTextElement");var Pt=_.createContext(null);function Jo(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}o(Jo,"usePrevious");function Rd(){let e=null;function t(){return!!e}o(t,"isClaimed");function n(a){return a===e}o(n,"isActive2");function r(a){e&&y();const l={abandon:a};return e=l,l}o(r,"claim");function s(){e||y(),e=null}o(s,"release");function i(){e&&(e.abandon(),s())}return o(i,"tryAbandon"),{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:i}}o(Rd,"create");function ze(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}o(ze,"isDragging");const jd=9,Od=13,Tn=27,Qo=32,Td=33,Bd=34,Ld=35,Md=36,_d=37,Fd=38,Gd=39,kd=40,$d={[Od]:!0,[jd]:!0};var Zo=o(e=>{$d[e.keyCode]&&e.preventDefault()},"preventStandardKeyEvents");const At=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),es=0,wr=5;function Vd(e,t){return Math.abs(t.x-e.x)>=wr||Math.abs(t.y-e.y)>=wr}o(Vd,"isSloppyClickThresholdExceeded");const Ir={type:"IDLE"};function Wd({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:o(s=>{const{button:i,clientX:a,clientY:l}=s;if(i!==es)return;const c={x:a,y:l},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&y();const g=u.point;if(!Vd(g,c))return;s.preventDefault();const f=u.actions.fluidLift(c);r({type:"DRAGGING",actions:f})},"fn")},{eventName:"mouseup",fn:o(s=>{const i=n();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()},"fn")},{eventName:"mousedown",fn:o(s=>{n().type==="DRAGGING"&&s.preventDefault(),e()},"fn")},{eventName:"keydown",fn:o(s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===Tn){s.preventDefault(),e();return}Zo(s)},"fn")},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:o(()=>{n().type==="PENDING"&&e()},"fn")},{eventName:"webkitmouseforcedown",fn:o(s=>{const i=n();if(i.type==="IDLE"&&y(),i.actions.shouldRespectForcePress()){e();return}s.preventDefault()},"fn")},{eventName:At,fn:e}]}o(Wd,"getCaptureBindings");function Ud(e){const t=v.useRef(Ir),n=v.useRef(se),r=O(()=>({eventName:"mousedown",fn:o(function(f){if(f.defaultPrevented||f.button!==es||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const p=e.findClosestDraggableId(f);if(!p)return;const m=e.tryGetLock(p,a,{sourceEvent:f});if(!m)return;f.preventDefault();const h={x:f.clientX,y:f.clientY};n.current(),u(m,h)},"onMouseDown")}),[e]),s=O(()=>({eventName:"webkitmouseforcewillbegin",fn:o(g=>{if(g.defaultPrevented)return;const f=e.findClosestDraggableId(g);if(!f)return;const p=e.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||e.canGetLock(f)&&g.preventDefault())},"fn")}),[e]),i=N(o(function(){const f={passive:!1,capture:!0};n.current=Q(window,[s,r],f)},"listenForCapture2"),[s,r]),a=N(()=>{t.current.type!=="IDLE"&&(t.current=Ir,n.current(),i())},[i]),l=N(()=>{const g=t.current;a(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[a]),c=N(o(function(){const f={capture:!0,passive:!1},p=Wd({cancel:l,completed:a,getPhase:o(()=>t.current,"getPhase"),setPhase:o(m=>{t.current=m},"setPhase")});n.current=Q(window,p,f)},"bindCapturingEvents2"),[l,a]),u=N(o(function(f,p){t.current.type!=="IDLE"&&y(),t.current={type:"PENDING",point:p,actions:f},c()},"startPendingDrag2"),[c]);X(o(function(){return i(),o(function(){n.current()},"unmount")},"mount"),[i])}o(Ud,"useMouseSensor");function Hd(){}o(Hd,"noop$1");const qd={[Bd]:!0,[Td]:!0,[Md]:!0,[Ld]:!0};function zd(e,t){function n(){t(),e.cancel()}o(n,"cancel");function r(){t(),e.drop()}return o(r,"drop2"),[{eventName:"keydown",fn:o(s=>{if(s.keyCode===Tn){s.preventDefault(),n();return}if(s.keyCode===Qo){s.preventDefault(),r();return}if(s.keyCode===kd){s.preventDefault(),e.moveDown();return}if(s.keyCode===Fd){s.preventDefault(),e.moveUp();return}if(s.keyCode===Gd){s.preventDefault(),e.moveRight();return}if(s.keyCode===_d){s.preventDefault(),e.moveLeft();return}if(qd[s.keyCode]){s.preventDefault();return}Zo(s)},"fn")},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:At,fn:n}]}o(zd,"getDraggingBindings");function Yd(e){const t=v.useRef(Hd),n=O(()=>({eventName:"keydown",fn:o(function(i){if(i.defaultPrevented||i.keyCode!==Qo)return;const a=e.findClosestDraggableId(i);if(!a)return;const l=e.tryGetLock(a,g,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const u=l.snapLift();t.current();function g(){c||y(),c=!1,t.current(),r()}o(g,"stop"),t.current=Q(window,zd(u,g),{capture:!0,passive:!1})},"onKeyDown")}),[e]),r=N(o(function(){const i={passive:!1,capture:!0};t.current=Q(window,[n],i)},"tryStartCapture"),[n]);X(o(function(){return r(),o(function(){t.current()},"unmount")},"mount"),[r])}o(Yd,"useKeyboardSensor");const Gt={type:"IDLE"},Kd=120,Xd=.15;function Jd({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:o(n=>{n.preventDefault()},"fn")},{eventName:"keydown",fn:o(n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Tn&&n.preventDefault(),e()},"fn")},{eventName:At,fn:e}]}o(Jd,"getWindowBindings");function Qd({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:o(r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:i,clientY:a}=r.touches[0],l={x:i,y:a};r.preventDefault(),s.actions.move(l)},"fn")},{eventName:"touchend",fn:o(r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()},"fn")},{eventName:"touchcancel",fn:o(r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()},"fn")},{eventName:"touchforcechange",fn:o(r=>{const s=n();s.type==="IDLE"&&y();const i=r.touches[0];if(!i||!(i.force>=Xd))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&e();return}if(l){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()},"fn")},{eventName:At,fn:e}]}o(Qd,"getHandleBindings");function Zd(e){const t=v.useRef(Gt),n=v.useRef(se),r=N(o(function(){return t.current},"getPhase2"),[]),s=N(o(function(m){t.current=m},"setPhase2"),[]),i=O(()=>({eventName:"touchstart",fn:o(function(m){if(m.defaultPrevented)return;const h=e.findClosestDraggableId(m);if(!h)return;const x=e.tryGetLock(h,l,{sourceEvent:m});if(!x)return;const b=m.touches[0],{clientX:C,clientY:D}=b,E={x:C,y:D};n.current(),f(x,E)},"onTouchStart")}),[e]),a=N(o(function(){const m={capture:!0,passive:!1};n.current=Q(window,[i],m)},"listenForCapture2"),[i]),l=N(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(Gt),n.current(),a())},[a,s]),c=N(()=>{const p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),u=N(o(function(){const m={capture:!0,passive:!1},h={cancel:c,completed:l,getPhase:r},x=Q(window,Qd(h),m),b=Q(window,Jd(h),m);n.current=o(function(){x(),b()},"unbindAll")},"bindCapturingEvents2"),[c,r,l]),g=N(o(function(){const m=r();m.type!=="PENDING"&&y();const h=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:h,hasMoved:!1})},"startDragging2"),[r,s]),f=N(o(function(m,h){r().type!=="IDLE"&&y();const x=setTimeout(g,Kd);s({type:"PENDING",point:h,actions:m,longPressTimerId:x}),u()},"startPendingDrag2"),[u,r,s,g]);X(o(function(){return a(),o(function(){n.current();const h=r();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),s(Gt))},"unmount")},"mount"),[r,a,s]),X(o(function(){return Q(window,[{eventName:"touchmove",fn:o(()=>{},"fn"),options:{capture:!1,passive:!1}}])},"webkitHack"),[])}o(Zd,"useTouchSensor");const eu=["input","button","textarea","select","option","optgroup","video","audio"];function ts(e,t){if(t==null)return!1;if(eu.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:ts(e,t.parentElement)}o(ts,"isAnInteractiveElement");function tu(e,t){const n=t.target;return Et(n)?ts(e,n):!1}o(tu,"isEventInInteractiveElement");var nu=o(e=>ee(e.getBoundingClientRect()).center,"getBorderBoxCenterPosition");function ru(e){return e instanceof Xo(e).Element}o(ru,"isElement");const ou=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function ns(e,t){return e==null?null:e[ou](t)?e:ns(e.parentElement,t)}o(ns,"closestPonyfill");function su(e,t){return e.closest?e.closest(t):ns(e,t)}o(su,"closest");function iu(e){return`[${xe.contextId}="${e}"]`}o(iu,"getSelector");function au(e,t){const n=t.target;if(!ru(n))return null;const r=iu(e),s=su(n,r);return!s||!Et(s)?null:s}o(au,"findClosestDragHandleFromEvent");function lu(e,t){const n=au(e,t);return n?n.getAttribute(xe.draggableId):null}o(lu,"tryGetClosestDraggableIdFromEvent");function cu(e,t){const n=`[${Kt.contextId}="${e}"]`,s=Ko(document,n).find(i=>i.getAttribute(Kt.id)===t);return!s||!Et(s)?null:s}o(cu,"findDraggable");function du(e){e.preventDefault()}o(du,"preventDefault");function ot({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}o(ot,"isActive");function rs({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!Ho(t.getState(),r))}o(rs,"canStart");function uu({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:i,sourceEvent:a}){if(!rs({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=cu(t,c.descriptor.id);if(!u||a&&!c.options.canDragInteractiveElements&&tu(u,a))return null;const g=e.claim(i||se);let f="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}o(p,"getShouldRespectForcePress");function m(){return e.isActive(g)}o(m,"isLockActive");function h(w,I){ot({expected:w,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(I())}o(h,"tryDispatch");const x=h.bind(null,"DRAGGING");function b(w){function I(){e.release(),f="COMPLETED"}o(I,"completed"),f!=="PRE_DRAG"&&(I(),y()),n.dispatch(sc(w.liftActionArgs)),f="DRAGGING";function R(T,F={shouldBlockNextClick:!1}){if(w.cleanup(),F.shouldBlockNextClick){const P=Q(window,[{eventName:"click",fn:du,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}I(),n.dispatch(_o({reason:T}))}return o(R,"finish2"),{isActive:o(()=>ot({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),"isActive"),shouldRespectForcePress:p,drop:o(T=>R("DROP",T),"drop"),cancel:o(T=>R("CANCEL",T),"cancel"),...w.actions}}o(b,"lift2");function C(w){const I=$e(T=>{x(()=>Mo({client:T}))});return{...b({liftActionArgs:{id:s,clientSelection:w,movementMode:"FLUID"},cleanup:o(()=>I.cancel(),"cleanup"),actions:{move:I}}),move:I}}o(C,"fluidLift");function D(){const w={moveUp:o(()=>x(gc),"moveUp"),moveRight:o(()=>x(hc),"moveRight"),moveDown:o(()=>x(mc),"moveDown"),moveLeft:o(()=>x(bc),"moveLeft")};return b({liftActionArgs:{id:s,clientSelection:nu(u),movementMode:"SNAP"},cleanup:se,actions:w})}o(D,"snapLift");function E(){ot({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return o(E,"abortPreDrag"),{isActive:o(()=>ot({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),"isActive"),shouldRespectForcePress:p,fluidLift:C,snapLift:D,abort:E}}o(uu,"tryStart");const pu=[Ud,Yd,Zd];function fu({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const i=[...s?pu:[],...r||[]],a=v.useState(()=>Rd())[0],l=N(o(function(b,C){ze(b)&&!ze(C)&&a.tryAbandon()},"tryAbandonLock2"),[a]);X(o(function(){let b=t.getState();return t.subscribe(()=>{const D=t.getState();l(b,D),b=D})},"listenToStore"),[a,t,l]),X(()=>a.tryAbandon,[a.tryAbandon]);const c=N(x=>rs({lockAPI:a,registry:n,store:t,draggableId:x}),[a,n,t]),u=N((x,b,C)=>uu({lockAPI:a,registry:n,contextId:e,store:t,draggableId:x,forceSensorStop:b||null,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null}),[e,a,n,t]),g=N(x=>lu(e,x),[e]),f=N(x=>{const b=n.draggable.findById(x);return b?b.options:null},[n.draggable]),p=N(o(function(){a.isClaimed()&&(a.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(wn()))},"tryReleaseLock2"),[a,t]),m=N(()=>a.isClaimed(),[a]),h=O(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:g,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}),[c,u,g,f,p,m]);for(let x=0;x<i.length;x++)i[x](h)}o(fu,"useSensorMarshal");const gu=o(e=>({onBeforeCapture:o(t=>{const n=o(()=>{e.onBeforeCapture&&e.onBeforeCapture(t)},"onBeforeCapureCallback");kr.flushSync(n)},"onBeforeCapture"),onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),"createResponders"),mu=o(e=>({...qe,...e.autoScrollerOptions,durationDampening:{...qe.durationDampening,...e.autoScrollerOptions}}),"createAutoScrollerOptions");function Te(e){return e.current||y(),e.current}o(Te,"getStore");function hu(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:i}=e,a=v.useRef(null),l=Jo(e),c=N(()=>gu(l.current),[l]),u=N(()=>mu(l.current),[l]),g=Nd(t),f=Ad({contextId:t,text:i}),p=vd(t,s),m=N(P=>{Te(a).dispatch(P)},[]),h=O(()=>Jn({publishWhileDragging:ac,updateDroppableScroll:cc,updateDroppableIsEnabled:dc,updateDroppableIsCombineEnabled:uc,collectionStarting:lc},m),[m]),x=Sd(),b=O(()=>Jc(x,h),[x,h]),C=O(()=>gd({scrollWindow:Qc,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:u,...Jn({move:Mo},m)}),[b.scrollDroppable,m,u]),D=Dd(t),E=O(()=>zc({announce:g,autoScroller:C,dimensionMarshal:b,focusMarshal:D,getResponders:c,styleMarshal:p}),[g,C,b,D,c,p]);a.current=E;const S=N(()=>{const P=Te(a);P.getState().phase!=="IDLE"&&P.dispatch(wn())},[]),w=N(()=>{const P=Te(a).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),I=O(()=>({isDragging:w,tryAbort:S}),[w,S]);n(I);const R=N(P=>Ho(Te(a).getState(),P),[]),T=N(()=>de(Te(a).getState()),[]),F=O(()=>({marshal:b,focus:D,contextId:t,canLift:R,isMovementAllowed:T,dragHandleUsageInstructionsId:f,registry:x}),[t,b,f,D,R,T,x]);return fu({contextId:t,store:E,registry:x,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>S,[S]),_.createElement(Pt.Provider,{value:F},_.createElement(Va,{context:jn,store:E},e.children))}o(hu,"App");function bu(){return _.useId()}o(bu,"useUniqueContextId");function xu(e){const t=bu(),n=e.dragHandleUsageInstructions||at.dragHandleUsageInstructions;return _.createElement(Ut,null,r=>_.createElement(hu,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}o(xu,"DragDropContext");const Nr={dragging:5e3,dropAnimating:4500},vu=o((e,t)=>t?Fe.drop(t.duration):e?Fe.snap:Fe.fluid,"getDraggingTransition"),yu=o((e,t)=>{if(e)return t?He.opacity.drop:He.opacity.combining},"getDraggingOpacity"),Du=o(e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP","getShouldDraggingAnimate");function Cu(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:i}=e,a=!!s,l=Du(e),c=!!i,u=c?zt.drop(r,a):zt.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:vu(l,i),transform:u,opacity:yu(a,c),zIndex:c?Nr.dropAnimating:Nr.dragging,pointerEvents:"none"}}o(Cu,"getDraggingStyle");function Su(e){return{transform:zt.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}o(Su,"getSecondaryStyle");function wu(e){return e.type==="DRAGGING"?Cu(e):Su(e)}o(wu,"getStyle$1");function Iu(e,t,n=$){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=co(s,r),a=pt(i,n),l={client:i,tagName:t.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:a}}o(Iu,"getDimension$1");function Nu(e){const t=On("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}=e,c=O(()=>({canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}),[i,l,a]),u=N(m=>{const h=s();return h||y(),Iu(n,h,m)},[n,s]),g=O(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),f=v.useRef(g),p=v.useRef(!0);X(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),X(()=>{if(p.current){p.current=!1;return}const m=f.current;f.current=g,r.draggable.update(g,m)},[g,r.draggable])}o(Nu,"useDraggablePublisher");var Bn=_.createContext(null);function ht(e){const t=v.useContext(e);return t||y(),t}o(ht,"useRequiredContext");function Eu(e){e.preventDefault()}o(Eu,"preventHtml5Dnd");const Pu=o(e=>{const t=v.useRef(null),n=N((I=null)=>{t.current=I},[]),r=N(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:a}=ht(Pt),{type:l,droppableId:c}=ht(Bn),u=O(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:g,draggableId:f,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:h,isClone:x,mapped:b,dropAnimationFinished:C}=e;if(!x){const I=O(()=>({descriptor:u,registry:a,getDraggableRef:r,canDragInteractiveElements:h,shouldRespectForcePress:m,isEnabled:p}),[u,a,r,h,m,p]);Nu(I)}const D=O(()=>p?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:Eu}:null,[s,i,f,p]),E=N(I=>{b.type==="DRAGGING"&&b.dropping&&I.propertyName==="transform"&&kr.flushSync(C)},[C,b]),S=O(()=>{const I=wu(b),R=b.type==="DRAGGING"&&b.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:I,onTransitionEnd:R},dragHandleProps:D}},[s,D,f,b,E,n]),w=O(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return _.createElement(_.Fragment,null,g(S,b.snapshot,w))},"Draggable");var os=o((e,t)=>e===t,"isStrictEqual"),ss=o(e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null},"whatIsDraggedOverFromResult");const Au=o(e=>e.combine?e.combine.draggableId:null,"getCombineWithFromResult"),Ru=o(e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null,"getCombineWithFromImpact");function ju(){const e=k((s,i)=>({x:s,y:i})),t=k((s,i,a=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:a,combineWith:l,combineTargetFor:null})),n=k((s,i,a,l,c=null,u=null,g=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:s,dimension:a,forceShouldAnimate:g,snapshot:t(i,l,c,u,null)}}));return o((s,i)=>{if(ze(s)){if(s.critical.draggable.id!==i.draggableId)return null;const a=s.current.client.offset,l=s.dimensions.draggables[i.draggableId],c=K(s.impact),u=Ru(s.impact),g=s.forceShouldAnimate;return n(e(a.x,a.y),s.movementMode,l,i.isClone,c,u,g)}if(s.phase==="DROP_ANIMATING"){const a=s.completed;if(a.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=s.dimensions.draggables[i.draggableId],u=a.result,g=u.mode,f=ss(u),p=Au(u),h={duration:s.dropDuration,curve:Nn.drop,moveTo:s.newHomeClientOffset,opacity:p?He.opacity.drop:null,scale:p?He.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:h,draggingOver:f,combineWith:p,mode:g,forceShouldAnimate:null,snapshot:t(g,l,f,p,h)}}}return null},"selector")}o(ju,"getDraggableSelector");function is(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}o(is,"getSecondarySnapshot");const Ou={mapped:{type:"SECONDARY",offset:$,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:is(null)}};function Tu(){const e=k((a,l)=>({x:a,y:l})),t=k(is),n=k((a,l=null,c)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),r=o(a=>a?n($,a,!0):null,"getFallback"),s=o((a,l,c,u)=>{const g=c.displaced.visible[a],f=!!(u.inVirtualList&&u.effected[a]),p=wt(c),m=p&&p.draggableId===a?l:null;if(!g){if(!f)return r(m);if(c.displaced.invisible[a])return null;const b=Se(u.displacedBy.point),C=e(b.x,b.y);return n(C,m,!0)}if(f)return r(m);const h=c.displacedBy.point,x=e(h.x,h.y);return n(x,m,g.shouldAnimate)},"getProps");return o((a,l)=>{if(ze(a))return a.critical.draggable.id===l.draggableId?null:s(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const c=a.completed;return c.result.draggableId===l.draggableId?null:s(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null},"selector")}o(Tu,"getSecondarySelector");const Bu=o(()=>{const e=ju(),t=Tu();return o((r,s)=>e(r,s)||t(r,s)||Ou,"selector")},"makeMapStateToProps$1"),Lu={dropAnimationFinished:Fo},Mu=lo(Bu,Lu,null,{context:jn,areStatePropsEqual:os})(Pu);function as(e){return ht(Bn).isUsingCloneFor===e.draggableId&&!e.isClone?null:_.createElement(Mu,e)}o(as,"PrivateDraggable");function _u(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return _.createElement(as,Gr({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}o(_u,"PublicDraggable");const ls=o(e=>t=>e===t,"isEqual"),Fu=ls("scroll"),Gu=ls("auto"),Er=o((e,t)=>t(e.overflowX)||t(e.overflowY),"isEither"),ku=o(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Er(n,Fu)||Er(n,Gu)},"isElementScrollable"),$u=o(()=>!1,"isBodyScrollable"),cs=o(e=>e==null?null:e===document.body?$u()?e:null:e===document.documentElement?null:ku(e)?e:cs(e.parentElement),"getClosestScrollable");var Xt=o(e=>({x:e.scrollLeft,y:e.scrollTop}),"getScroll");const ds=o(e=>e?window.getComputedStyle(e).position==="fixed"?!0:ds(e.parentElement):!1,"getIsFixed");var Vu=o(e=>{const t=cs(e),n=ds(e);return{closestScrollable:t,isFixedOnPage:n}},"getEnv"),Wu=o(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:i,page:a,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:p,client:m}=l,h=Vo({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:h,diff:{value:$,displacement:$}}}})(),u=s==="vertical"?vn:Do,g=he({page:a,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:i,page:a,frame:c,subject:g}},"getDroppableDimension");const Uu=o((e,t)=>{const n=uo(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=s+t.scrollWidth,c=mn({top:r,right:a,bottom:i,left:s},n.border);return hn({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})},"getClient");var Hu=o(({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:i,isCombineEnabled:a,shouldClipSubject:l})=>{const c=n.closestScrollable,u=Uu(e,c),g=pt(u,r),f=(()=>{if(!c)return null;const m=uo(c),h={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:pt(m,r),scroll:Xt(c),scrollSize:h,shouldClipSubject:l}})();return Wu({descriptor:t,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:g,closest:f})},"getDimension");const qu={passive:!1},zu={passive:!0};var Pr=o(e=>e.shouldPublishImmediately?qu:zu,"getListenerOptions");const st=o(e=>e&&e.env.closestScrollable||null,"getClosestScrollableFromDrag");function Yu(e){const t=v.useRef(null),n=ht(Pt),r=On("droppable"),{registry:s,marshal:i}=n,a=Jo(e),l=O(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),u=O(()=>k((S,w)=>{t.current||y();const I={x:S,y:w};i.updateDroppableScroll(l.id,I)}),[l.id,i]),g=N(()=>{const S=t.current;return!S||!S.env.closestScrollable?$:Xt(S.env.closestScrollable)},[]),f=N(()=>{const S=g();u(S.x,S.y)},[g,u]),p=O(()=>$e(f),[f]),m=N(()=>{const S=t.current,w=st(S);if(S&&w||y(),S.scrollOptions.shouldPublishImmediately){f();return}p()},[p,f]),h=N((S,w)=>{t.current&&y();const I=a.current,R=I.getDroppableRef();R||y();const T=Vu(R),F={ref:R,descriptor:l,env:T,scrollOptions:w};t.current=F;const P=Hu({ref:R,descriptor:l,env:T,windowScroll:S,direction:I.direction,isDropDisabled:I.isDropDisabled,isCombineEnabled:I.isCombineEnabled,shouldClipSubject:!I.ignoreContainerClipping}),A=T.closestScrollable;return A&&(A.setAttribute(Cr.contextId,n.contextId),A.addEventListener("scroll",m,Pr(F.scrollOptions))),P},[n.contextId,l,m,a]),x=N(()=>{const S=t.current,w=st(S);return S&&w||y(),Xt(w)},[]),b=N(()=>{const S=t.current;S||y();const w=st(S);t.current=null,w&&(p.cancel(),w.removeAttribute(Cr.contextId),w.removeEventListener("scroll",m,Pr(S.scrollOptions)))},[m,p]),C=N(S=>{const w=t.current;w||y();const I=st(w);I||y(),I.scrollTop+=S.y,I.scrollLeft+=S.x},[]),D=O(()=>({getDimensionAndWatchScroll:h,getScrollWhileDragging:x,dragStopped:b,scroll:C}),[b,h,x,C]),E=O(()=>({uniqueId:r,descriptor:l,callbacks:D}),[D,l,r]);X(()=>(c.current=E.descriptor,s.droppable.register(E),()=>{t.current&&b(),s.droppable.unregister(E)}),[D,l,b,E,i,s.droppable]),X(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),X(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}o(Yu,"useDroppablePublisher");function kt(){}o(kt,"noop");const Ar={width:0,height:0,margin:tl},Ku=o(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?Ar:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},"getSize"),Xu=o(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=Ku({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Fe.placeholder:null}},"getStyle"),Ju=o(e=>{const t=v.useRef(null),n=N(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:i,contextId:a}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?r!=="open"?(n(),c(!1),kt):t.current?kt:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):kt,[r,l,n]);const u=N(f=>{f.propertyName==="height"&&(s(),r==="close"&&i())},[r,i,s]),g=Xu({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return _.createElement(e.placeholder.tagName,{style:g,"data-rfd-placeholder-context-id":a,onTransitionEnd:u,ref:e.innerRef})},"Placeholder");var Qu=_.memo(Ju);const Gn=class Gn extends _.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}};o(Gn,"AnimateInOut");let Jt=Gn;const Zu=o(e=>{const t=v.useContext(Pt);t||y();const{contextId:n,isMovementAllowed:r}=t,s=v.useRef(null),i=v.useRef(null),{children:a,droppableId:l,type:c,mode:u,direction:g,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:m,snapshot:h,useClone:x,updateViewportMaxScroll:b,getContainerForClone:C}=e,D=N(()=>s.current,[]),E=N((A=null)=>{s.current=A},[]);N(()=>i.current,[]);const S=N((A=null)=>{i.current=A},[]),w=N(()=>{r()&&b({maxScroll:Uo()})},[r,b]);Yu({droppableId:l,type:c,mode:u,direction:g,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:D});const I=O(()=>_.createElement(Jt,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:A,data:M,animate:H})=>_.createElement(Qu,{placeholder:M,onClose:A,innerRef:S,animate:H,contextId:n,onTransitionEnd:w})),[n,w,e.placeholder,e.shouldAnimatePlaceholder,S]),R=O(()=>({innerRef:E,placeholder:I,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,I,E]),T=x?x.dragging.draggableId:null,F=O(()=>({droppableId:l,type:c,isUsingCloneFor:T}),[l,T,c]);function P(){if(!x)return null;const{dragging:A,render:M}=x,H=_.createElement(as,{draggableId:A.draggableId,index:A.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(L,j)=>M(L,j,A));return Rs.createPortal(H,C())}return o(P,"getClone"),_.createElement(Bn.Provider,{value:F},a(R,h),P())},"Droppable");function ep(){return document.body||y(),document.body}o(ep,"getBody");const Rr={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:ep},us=o(e=>{let t={...e},n;for(n in Rr)e[n]===void 0&&(t={...t,[n]:Rr[n]});return t},"attachDefaultPropsToOwnProps"),$t=o((e,t)=>e===t.droppable.type,"isMatchingType"),jr=o((e,t)=>t.draggables[e.draggable.id],"getDraggable"),tp=o(()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=k(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=k((i,a,l,c,u,g)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===i){const h=g?{render:g,dragging:n(u.descriptor)}:null,x={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:h}}if(!a)return t;if(!c)return e;const m={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return o((i,a)=>{const l=us(a),c=l.droppableId,u=l.type,g=!l.isDropDisabled,f=l.renderClone;if(ze(i)){const p=i.critical;if(!$t(u,p))return t;const m=jr(p,i.dimensions),h=K(i.impact)===c;return r(c,g,h,h,m,f)}if(i.phase==="DROP_ANIMATING"){const p=i.completed;if(!$t(u,p.critical))return t;const m=jr(p.critical,i.dimensions);return r(c,g,ss(p.result)===c,K(p.impact)===c,m,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const p=i.completed;if(!$t(u,p.critical))return t;const m=K(p.impact)===c,h=!!(p.impact.at&&p.impact.at.type==="COMBINE"),x=p.critical.droppable.id===c;return m?h?e:t:x?e:t}return t},"selector")},"makeMapStateToProps"),np={updateViewportMaxScroll:fc},rp=lo(tp,np,(e,t,n)=>({...us(n),...e,...t}),{context:jn,areStatePropsEqual:os})(Zu),op=o(({deal:e,index:t})=>e?d.jsx(_u,{draggableId:String(e.id),index:t,children:o((n,r)=>d.jsx(ps,{provided:n,snapshot:r,deal:e}),"children")}):null,"DealCard"),ps=o(({provided:e,snapshot:t,deal:n})=>{const r=ve(),s=o(()=>{r(`/deals/${n.id}/show`,void 0,void 0,void 0,{_scrollToTop:!1})},"handleClick");return d.jsx("div",{className:"cursor-pointer",...e?.draggableProps,...e?.dragHandleProps,ref:e?.innerRef,onClick:s,children:d.jsx(js,{className:`py-4 transition-all duration-200 ${t?.isDragging?"opacity-90 transform rotate-1 shadow-lg":"shadow-sm hover:shadow-md"}`,children:d.jsxs(Os,{className:"px-4 flex",children:[d.jsx(Ge,{source:"company_id",record:n,reference:"companies",link:!1,children:d.jsx(vt,{width:20,height:20})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("p",{className:"text-sm font-medium mb-2",children:n.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),n.category?`, ${n.category}`:""]})]})]})})})},"DealCardContent"),Or=o(()=>{const{identity:e}=pe(),{data:t,total:n,isPending:r}=Zt("deals",{pagination:{page:1,perPage:1e3},sort:{field:"archived_at",order:"DESC"},filter:{"archived_at@not.is":null}}),[s,i]=v.useState(!1);if(v.useEffect(()=>{!r&&n===0&&i(!1)},[r,n]),v.useEffect(()=>{i(!1)},[t]),!e||r||!n||!t)return null;const a=t.reduce((l,c)=>{const u=new Date(c.archived_at).toDateString();return l[u]||(l[u]=[]),l[u].push(c),l},{});return d.jsxs("div",{className:"w-full flex flex-row items-center justify-center",children:[d.jsx(ne,{variant:"ghost",onClick:o(()=>i(!0),"onClick"),className:"my-4",children:"View archived deals"}),d.jsx(yt,{open:s,onOpenChange:o(()=>i(!1),"onOpenChange"),children:d.jsxs(Dt,{className:"lg:max-w-4xl overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:[d.jsx($r,{children:"Archived Deals"}),d.jsx("div",{className:"flex flex-col gap-8",children:Object.entries(a).map(([l,c])=>d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx("h4",{className:"font-bold",children:sp(l)}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:c.map(u=>d.jsx("div",{children:d.jsx(ps,{deal:u})},u.id))})]},l))})]})})]})},"DealArchivedList");function sp(e){const t=new Date(e);t.setHours(0,0,0,0);const n=new Date;n.setHours(0,0,0,0);const r=t.getTime()-n.getTime(),s=Math.round(r/(1e3*60*60*24));if(Math.abs(s)>7)return new Intl.DateTimeFormat(void 0,{day:"numeric",month:"long"}).format(t);const i=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});return ip(i.format(s,"day"))}o(sp,"getRelativeTimeString");function ip(e){return e.charAt(0).toUpperCase()+e.slice(1)}o(ip,"ucFirst");const ap=o(({actions:e,children:t,className:n,disableBreadcrumb:r,title:s,...i})=>d.jsx(Vr,{...i,children:d.jsx(lp,{actions:e,className:n,disableBreadcrumb:r,title:s,children:t})}),"Create"),lp=o(({actions:e,disableBreadcrumb:t,title:n,children:r,className:s})=>{const i=wi(),a=Xe();if(!a)throw new Error("The CreateView component must be used within a ResourceContextProvider");const c=Ts()(a,2),g=Bs()({resource:a,type:"list"}),f=Ls();return d.jsxs(d.Fragment,{children:[!t&&d.jsxs(Ms,{children:[f&&d.jsx($n,{children:d.jsx(ke,{to:"/",children:d.jsx(Vn,{i18nKey:"ra.page.dashboard",children:"Home"})})}),d.jsx($n,{children:d.jsx(ke,{to:g,children:c})}),d.jsx(_s,{children:d.jsx(Vn,{i18nKey:"ra.action.create",children:"Create"})})]}),d.jsxs("div",{className:Je("flex justify-between items-start flex-wrap gap-2 my-2",s),children:[d.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:n!==void 0?n:i.defaultTitle}),e]}),d.jsx("div",{className:"my-2",children:r})]})},"CreateView"),fs=o(e=>{const{filterToQuery:t=cp,inputText:n}=e,{allChoices:r=[],source:s,resource:i,isFromReference:a,setFilters:l}=Fs(e),{id:c,field:u,isRequired:g}=en({...e,source:s}),f=Gs(),{placeholder:p=f("ra.action.search",{_:"Search..."})}=e,m=ks(i),{getChoiceText:h,getChoiceValue:x}=$s({optionText:e.optionText??(a?m:"name"),optionValue:e.optionValue??"id",disableValue:e.disableValue,translateChoice:e.translateChoice??!a}),b=v.useRef(null),[C,D]=v.useState(!1),E=Be(P=>{u.onChange(u.value.filter(A=>A!==x(P)))}),S=Be(P=>{const A=b.current;A&&((P.key==="Delete"||P.key==="Backspace")&&A.value===""&&u.onChange(u.value.slice(0,-1)),P.key==="Escape"&&A.blur())}),w=r.filter(P=>!u.value.includes(x(P))),I=r.filter(P=>u.value.includes(x(P))),[R,T]=v.useState(""),F=v.useCallback(P=>typeof n=="function"?n(P):n!==void 0?n:h(P),[n,h]);return d.jsxs(tn,{className:e.className,id:c,name:u.name,children:[e.label!==!1&&d.jsx(nn,{children:d.jsx(rn,{label:e.label,source:e.source??s,resource:i,isRequired:g})}),d.jsx(on,{children:d.jsxs(Vs,{onKeyDown:S,shouldFilter:!a,className:"overflow-visible bg-transparent",children:[d.jsx("div",{className:"group rounded-md bg-transparent dark:bg-input/30 border border-input px-3 py-1.75 text-sm transition-all ring-offset-background focus-within:border-ring focus-within:ring-ring/50 focus-within:ring-[3px]",children:d.jsxs("div",{className:"flex flex-wrap gap-1",children:[I.map(P=>d.jsxs(Wr,{variant:"outline",children:[F(P),d.jsxs("button",{className:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:o(A=>{A.key==="Enter"&&E(P)},"onKeyDown"),onMouseDown:o(A=>{A.preventDefault(),A.stopPropagation()},"onMouseDown"),onClick:o(A=>{A.preventDefault(),E(P)},"onClick"),children:[d.jsx("span",{className:"sr-only",children:f("ra.action.remove",{_:"Remove"})}),d.jsx(Ws,{className:"h-3 w-3"})]})]},x(P))),d.jsx(Us.Input,{ref:b,value:R,onValueChange:o(P=>{T(P),a&&l(t(P),void 0,!0)},"onValueChange"),onBlur:o(()=>D(!1),"onBlur"),onFocus:o(()=>D(!0),"onFocus"),placeholder:p,className:"ml-2 flex-1 bg-transparent outline-none placeholder:text-muted-foreground"})]})}),d.jsx("div",{className:"relative",children:d.jsx(Hs,{children:C&&w.length>0?d.jsx("div",{className:"absolute top-2 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",children:d.jsx(qs,{className:"h-full overflow-auto",children:w.map(P=>d.jsx(zs,{onMouseDown:o(A=>{A.preventDefault(),A.stopPropagation()},"onMouseDown"),onSelect:o(()=>{T(""),a&&l(t("")),u.onChange([...u.value,x(P)])},"onSelect"),className:"cursor-pointer",children:h(P)},x(P)))})}):null})})]})}),d.jsx(sn,{helperText:e.helperText}),d.jsx(an,{})]})},"AutocompleteArrayInput"),cp=o(e=>({q:e}),"DefaultFilterToQuery"),dp=o(e=>{const{children:t=up,reference:n,sort:r,filter:s=pp}=e;if(v.Children.count(t)!==1)throw new Error("<ReferenceArrayInput> only accepts a single child (like <AutocompleteArrayInput>)");const i=Ai({...e,sort:r,filter:s});return d.jsx(Ys,{value:n,children:d.jsx(Ks,{value:i,children:t})})},"ReferenceArrayInput"),up=d.jsx(fs,{}),pp={},fp=o(e=>{const{label:t,source:n,className:r,resource:s,validate:i,format:a,parse:l=gp,onFocus:c,...u}=e,g=Xe({resource:s}),{id:f,field:p,isRequired:m}=en(e),h=o(S=>{const w=S.target.value,I=l(w);b(w),p.onChange(I??0)},"handleChange"),[x,b]=v.useState(p.value?.toString()??""),C=v.useRef(!1),D=o(S=>{c?.(S),C.current=!0},"handleFocus"),E=o(S=>{p.onBlur?.(S),C.current=!1,b(p.value?.toString()??"")},"handleBlur");return v.useEffect(()=>{C.current||b(p.value?.toString()??"")},[p.value]),d.jsxs(tn,{id:f,className:r,name:p.name,children:[t!==!1&&d.jsx(nn,{children:d.jsx(rn,{label:t,source:n,resource:g,isRequired:m})}),d.jsx(on,{children:d.jsx(Ur,{...u,...p,type:"number",value:x,onChange:h,onFocus:D,onBlur:E})}),d.jsx(sn,{helperText:e.helperText}),d.jsx(an,{})]})},"NumberInput"),gp=o(e=>{if(e==null||e==="")return null;const t=parseFloat(e);return isNaN(t)?0:t},"convertStringToNumber"),mp=o(e=>{const{className:t,inputClassName:n,defaultValue:r,format:s=bp,label:i,source:a,helperText:l,onChange:c,onFocus:u,validate:g,disabled:f,readOnly:p,...m}=e,h=Xe(e),{field:x,id:b,isRequired:C}=en({defaultValue:r,source:a,validate:g,disabled:f,readOnly:p,format:s,...m}),D=v.useRef(null),E=v.useRef(x.value),[S,w]=v.useState(1),I=v.useRef(!1);v.useEffect(()=>{if(I.current){I.current=!1;return}D.current?.value!==x.value&&!(D.current?.value===""&&x.value==null)&&(E.current=x.value,w(q=>q+1),I.current=!1)},[w,x.value]);const{onBlur:R}=x,T=v.useRef(!1),F=Be(j=>{if(c&&c(j),typeof j.target>"u"||typeof j.target.value>"u")return;const q=j.target,te=q.value,G=te===""||q.valueAsDate!=null&&!isNaN(new Date(q.valueAsDate).getTime());te!==""&&te!=null&&G&&(x.onChange(te),I.current=!0)}),P=Be(j=>{u&&u(j),T.current=!0}),A=Be(()=>{if(T.current=!1,!D.current)return;const j=D.current.value;(j===""||D.current.valueAsDate!=null&&!isNaN(new Date(D.current.valueAsDate).getTime()))&&x.value!==j&&x.onChange(j??""),R&&R()}),{ref:M,name:H}=x,L=v.useCallback(j=>{typeof M=="function"?M(j):M&&j&&(M.current=j),D.current=j},[M]);return d.jsxs(tn,{id:b,className:t,name:H,children:[i!==!1&&d.jsx(nn,{children:d.jsx(rn,{label:i,source:a,resource:h,isRequired:C})}),d.jsx(on,{children:d.jsx(Ur,{ref:L,defaultValue:s(E.current)??"",type:"date",onChange:F,onFocus:P,onBlur:A,className:Je("ra-input",`ra-input-${a}`,"[color-scheme:light] dark:[color-scheme:dark] relative [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:absolute [&::-webkit-calendar-picker-indicator]:right-3 [&::-webkit-calendar-picker-indicator]:opacity-100",n),disabled:f||p,readOnly:p,...m},S)}),d.jsx(sn,{helperText:l}),d.jsx(an,{})]})},"DateInput"),Tr=o(e=>{if(!(e instanceof Date)||isNaN(e.getDate()))return"";const t=new Date(e.getTime()),n="00",r=t.getFullYear().toString(),s=(t.getMonth()+1).toString(),i=t.getDate().toString();return`${r}-${(n+s).slice(-2)}-${(n+i).slice(-2)}`},"convertDateToString"),hp=/^\d{4}-\d{2}-\d{2}$/,bp=o(e=>e==null||e===""?null:e instanceof Date?Tr(e):typeof e=="string"&&hp.test(e)?e:Tr(new Date(e)),"defaultFormat"),xp=o(()=>{const e=Ye();return e?d.jsxs("div",{className:"flex flex-row gap-4 items-center justify-start",children:[d.jsx(ln,{height:40,width:40,record:e}),d.jsxs("div",{className:"flex flex-col items-start gap-1",children:[d.jsxs("span",{children:[e.first_name," ",e.last_name]}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.title,e.title&&e.company_name&&" at ",e.company_name]})]})]}):null},"ContactOptionRender"),vp=d.jsx(xp,{}),yp=o(()=>{const[e]=Xs(),{identity:t}=pe(),n=ye(),r=o(async s=>{if(s)try{return await e("companies",{data:{name:s,sales_id:t?.id,created_at:new Date().toISOString()}},{returnPromise:!0})}catch{n("An error occurred while creating the company",{type:"error"})}},"handleCreateCompany");return d.jsx(Hr,{optionText:"name",helperText:!1,onCreate:r,createItemLabel:"Create %{item}",createLabel:"Start typing to create a new company"})},"AutocompleteCompanyInput"),gs=o(()=>{const e=Js();return d.jsxs("div",{className:"flex flex-col gap-8",children:[d.jsx(Dp,{}),d.jsxs("div",{className:`flex gap-6 ${e?"flex-col":"flex-row"}`,children:[d.jsx(Cp,{}),d.jsx(cn,{orientation:e?"horizontal":"vertical"}),d.jsx(Sp,{})]})]})},"DealInputs"),Dp=o(()=>d.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[d.jsx(lt,{source:"name",label:"Deal name",validate:Le(),helperText:!1}),d.jsx(lt,{source:"description",multiline:!0,rows:3,helperText:!1})]}),"DealInfoInputs"),Cp=o(()=>d.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[d.jsx("h3",{className:"text-base font-medium",children:"Linked to"}),d.jsx(qr,{source:"company_id",reference:"companies",children:d.jsx(yp,{})}),d.jsx(dp,{source:"contact_ids",reference:"contacts_summary",children:d.jsx(fs,{label:"Contacts",optionText:vp,helperText:!1,validate:Le()})})]}),"DealLinkedToInputs"),Sp=o(()=>{const{dealStages:e,dealCategories:t}=De();return d.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[d.jsx("h3",{className:"text-base font-medium",children:"Misc"}),d.jsx(ct,{source:"category",label:"Est. Weekly Hours",choices:t.map(n=>({id:n,name:n})),helperText:!1}),d.jsx(fp,{source:"amount",defaultValue:0,helperText:!1,validate:Le()}),d.jsx(mp,{validate:Le(),source:"expected_closing_date",helperText:!1,defaultValue:new Date().toISOString().split("T")[0]}),d.jsx(ct,{source:"stage",choices:e.map(n=>({id:n.value,name:n.label})),defaultValue:"opportunity",helperText:!1,validate:Le()})]})},"DealMiscInputs"),ms=o(({open:e})=>{const t=ve(),n=dn(),{data:r}=Ce(),s=o(()=>{t("/deals")},"handleClose"),i=Qs(),a=o(async c=>{if(!r){t("/deals");return}const u=r.filter(p=>p.stage===c.stage&&p.id!==c.id);await Promise.all(u.map(async p=>n.update("deals",{id:p.id,data:{index:p.index+1},previousData:p})));const g=u.reduce((p,m)=>({...p,[m.id]:{...m,index:m.index+1}}),{}),f=Date.now();i.setQueriesData({queryKey:["deals","getList"]},p=>p&&{...p,data:p.data.map(m=>g[m.id]||m)},{updatedAt:f}),t("/deals")},"onSuccess"),{identity:l}=pe();return d.jsx(yt,{open:e,onOpenChange:o(()=>s(),"onOpenChange"),children:d.jsx(Dt,{className:"lg:max-w-4xl overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:d.jsx(ap,{resource:"deals",mutationOptions:{onSuccess:a},children:d.jsxs(Ct,{defaultValues:{sales_id:l?.id,contact_ids:[],index:0},children:[d.jsx(gs,{}),d.jsx(zr,{children:d.jsx(un,{})})]})})})})},"DealCreate"),wp=o(({open:e,id:t})=>{const n=ve(),r=ye(),s=o(()=>{n("/deals",void 0,void 0,void 0,{_scrollToTop:!1})},"handleClose");return d.jsx(yt,{open:e,onOpenChange:o(()=>s(),"onOpenChange"),children:d.jsx(Dt,{className:"lg:max-w-4xl p-4 overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:t?d.jsxs(Zs,{id:t,mutationMode:"pessimistic",mutationOptions:{onSuccess:o(()=>{r("Deal updated"),n(`/deals/${t}/show`,void 0,void 0,void 0,{_scrollToTop:!1})},"onSuccess")},children:[d.jsx(Ip,{}),d.jsxs(Ct,{children:[d.jsx(gs,{}),d.jsx(Np,{})]})]}):null})})},"DealEdit");function Ip(){const e=Ye();return e?d.jsx($r,{className:"pb-0",children:d.jsxs("div",{className:"flex justify-between items-start mb-8",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Ge,{source:"company_id",reference:"companies",link:"show",children:d.jsx(vt,{})}),d.jsxs("h2",{className:"text-2xl font-semibold",children:["Edit ",e.name," deal"]})]}),d.jsx("div",{className:"flex gap-2 pr-12",children:d.jsx(ne,{asChild:!0,variant:"outline",className:"h-9",children:d.jsx(ke,{to:`/deals/${e.id}/show`,children:"Back to deal"})})})]})}):null}o(Ip,"EditHeader");function Np(){return d.jsx(zr,{children:d.jsxs("div",{className:"flex-1 flex justify-between",children:[d.jsx(Yr,{}),d.jsx(un,{})]})})}o(Np,"EditToolbar");var Ln="Progress",Mn=100,[Ep,rf]=ei(Ln),[Pp,Ap]=Ep(Ln),hs=v.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=Rp,...a}=e;(s||s===0)&&!Br(s)&&console.error(jp(`${s}`,"Progress"));const l=Br(s)?s:Mn;r!==null&&!Lr(r,l)&&console.error(Op(`${r}`,"Progress"));const c=Lr(r,l)?r:null,u=bt(c)?i(c,l):void 0;return d.jsx(Pp,{scope:n,value:c,max:l,children:d.jsx(Kr.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":bt(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":vs(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});hs.displayName=Ln;var bs="ProgressIndicator",xs=v.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=Ap(bs,n);return d.jsx(Kr.div,{"data-state":vs(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});xs.displayName=bs;function Rp(e,t){return`${Math.round(e/t*100)}%`}o(Rp,"defaultGetValueLabel");function vs(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}o(vs,"getProgressState");function bt(e){return typeof e=="number"}o(bt,"isNumber");function Br(e){return bt(e)&&!isNaN(e)&&e>0}o(Br,"isValidMaxNumber");function Lr(e,t){return bt(e)&&!isNaN(e)&&e<=t&&e>=0}o(Lr,"isValidValueNumber");function jp(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Mn}\`.`}o(jp,"getInvalidMaxError");function Op(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Mn} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}o(Op,"getInvalidValueError");var Tp=hs,Bp=xs;function Lp({className:e,value:t,...n}){return d.jsx(Tp,{"data-slot":"progress",className:Je("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:d.jsx(Bp,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}o(Lp,"Progress");const Mp=o(({children:e})=>{const t=Xr(),n=it("/deals/create",t.pathname),r=ti(),{data:s,isPending:i}=Zt("contacts",{pagination:{page:1,perPage:1}});return i?d.jsx(Lp,{value:50}):d.jsxs("div",{className:"flex flex-col justify-center items-center gap-12",style:{height:`calc(100dvh - ${r}px)`},children:[d.jsx("img",{src:"./img/empty.svg",alt:"No deals found"}),s&&s.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col items-center gap-0",children:[d.jsx("h3",{className:"text-lg font-bold",children:"No deals found"}),d.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"It seems your deal list is empty."})]}),d.jsx("div",{className:"flex space-x-8",children:d.jsx(Jr,{label:"Create deal"})}),d.jsx(ms,{open:!!n}),e]}):d.jsxs("div",{className:"flex flex-col items-center gap-0",children:[d.jsx("h3",{className:"text-lg font-bold",children:"No deals found"}),d.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-4",children:["It seems your contact list is empty.",d.jsx("br",{}),d.jsx(ke,{to:"/contacts/create",className:"hover:underline",children:"Add your first contact"})," ","before creating a deal."]})]})]})},"DealEmpty"),_p=o(({stage:e,deals:t})=>{const n=t.reduce((s,i)=>s+i.amount,0),{dealStages:r}=De();return d.jsxs("div",{className:"flex-1 pb-8",children:[d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("h3",{className:"text-base font-medium",children:Qr(r,e)}),d.jsx("p",{className:"text-sm text-muted-foreground",children:n.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),d.jsx(rp,{droppableId:e,children:o((s,i)=>d.jsxs("div",{ref:s.innerRef,...s.droppableProps,className:`flex flex-col rounded-2xl mt-2 gap-2 ${i.isDraggingOver?"bg-muted":""}`,children:[t.map((a,l)=>d.jsx(op,{deal:a,index:l},a.id)),s.placeholder]}),"children")})]})},"DealColumn"),Mr=o((e,t)=>{if(!t)return{};const n=e.reduce((r,s)=>(r[s.stage].push(s),r),t.reduce((r,s)=>({...r,[s.value]:[]}),{}));return t.forEach(r=>{n[r.value]=n[r.value].sort((s,i)=>s.index-i.index)}),n},"getDealsByStage"),Fp=o(()=>{const{dealStages:e}=De(),{data:t,isPending:n,refetch:r}=Ce(),s=dn(),[i,a]=v.useState(Mr([],e));if(v.useEffect(()=>{if(t){const c=Mr(t,e);ni(c,i)||a(c)}},[t]),n)return null;const l=o(c=>{const{destination:u,source:g}=c;if(!u||u.droppableId===g.droppableId&&u.index===g.index)return;const f=g.droppableId,p=u.droppableId,m=i[f][g.index],h=i[p][u.index]??{stage:p,index:void 0};a(Gp(m,{stage:f,index:g.index},{stage:p,index:u.index},i)),kp(m,h,s).then(()=>{r()})},"onDragEnd");return d.jsx(xu,{onDragEnd:l,children:d.jsx("div",{className:"flex gap-4",children:e.map(c=>d.jsx(_p,{stage:c.value,deals:i[c.value]},c.value))})})},"DealListContent"),Gp=o((e,t,n,r)=>{if(t.stage===n.stage){const s=r[t.stage];return s.splice(t.index,1),s.splice(n.index??s.length+1,0,e),{...r,[n.stage]:s}}else{const s=r[t.stage],i=r[n.stage];return s.splice(t.index,1),i.splice(n.index??i.length+1,0,e),{...r,[t.stage]:s,[n.stage]:i}}},"updateDealStageLocal"),kp=o(async(e,t,n)=>{if(e.stage===t.stage){const{data:r}=await n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:e.stage}}),s=t.index??r.length+1;e.index>s?await Promise.all([...r.filter(i=>i.index>=s&&i.index<e.index).map(i=>n.update("deals",{id:i.id,data:{index:i.index+1},previousData:i})),n.update("deals",{id:e.id,data:{index:s},previousData:e})]):await Promise.all([...r.filter(i=>i.index<=s&&i.index>e.index).map(i=>n.update("deals",{id:i.id,data:{index:i.index-1},previousData:i})),n.update("deals",{id:e.id,data:{index:s},previousData:e})])}else{const[{data:r},{data:s}]=await Promise.all([n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:e.stage}}),n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:t.stage}})]),i=t.index??s.length+1;await Promise.all([...r.filter(a=>a.index>e.index).map(a=>n.update("deals",{id:a.id,data:{index:a.index-1},previousData:a})),...s.filter(a=>a.index>=i).map(a=>n.update("deals",{id:a.id,data:{index:a.index+1},previousData:a})),n.update("deals",{id:e.id,data:{index:i,stage:t.stage},previousData:e})])}},"updateDealStage"),xt=o(()=>{const e=new Date,t=e.getTimezoneOffset();return new Date(e.getTime()-t*60*1e3).toISOString().slice(0,16)},"getCurrentDate"),ys=o(({showStatus:e})=>{const{noteStatuses:t}=De(),{setValue:n}=Qt(),[r,s]=v.useState(!1);return d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{source:"text",label:!1,multiline:!0,helperText:!1,placeholder:"Add a note",rows:6}),!r&&d.jsxs("div",{className:"flex justify-end items-center gap-2",children:[d.jsx(ne,{variant:"link",size:"sm",onClick:o(()=>{s(!r),n("date",xt())},"onClick"),className:"text-sm text-muted-foreground underline hover:no-underline p-0 h-auto cursor-pointer",children:"Show options"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"(attach files, or change details)"})]}),d.jsxs("div",{className:Je("space-y-3 mt-3 overflow-hidden transition-transform ease-in-out duration-300 origin-top",r?"scale-y-100":"scale-y-0 max-h-0 h-0"),children:[d.jsxs("div",{className:"flex gap-4",children:[e&&d.jsx(ct,{source:"status",choices:t.map(i=>({id:i.value,name:i.label,value:i.value})),optionText:$p,defaultValue:"warm",helperText:!1}),d.jsx(lt,{source:"date",label:"Date",helperText:!1,type:"datetime-local",className:"text-primary",defaultValue:xt()})]}),d.jsx(ri,{source:"attachments",multiple:!0,children:d.jsx(oi,{source:"src",title:"title",target:"_blank"})})]})]})},"NoteInputs"),$p=o(e=>d.jsxs("div",{children:[d.jsx(Zr,{status:e.value})," ",e.name]}),"optionRenderer"),Vp={contacts:"contact_id",deals:"deal_id"},Ds=o(({reference:e,showStatus:t,className:n})=>{const r=Xe(),s=Ye(),{identity:i}=pe();return!s||!i?null:d.jsx(Vr,{resource:r,redirect:!1,children:d.jsx(Ct,{children:d.jsxs("div",{className:Je("space-y-3",n),children:[d.jsx(ys,{showStatus:t}),d.jsx(Wp,{reference:e,record:s})]})})})},"NoteCreate"),Wp=o(({reference:e,record:t})=>{const[n]=pn(),r=ye(),{identity:s}=pe(),{reset:i}=Qt(),{refetch:a}=Ce();if(!t||!s)return null;const l={date:xt(),text:null,attachments:null};e==="contacts"&&(l.status="warm");const c=o(u=>{i(l,{keepValues:!1}),a(),n(e,{id:t&&t.id,data:{last_seen:new Date().toISOString(),status:u.status},previousData:t}),r("Note added")},"handleSuccess");return d.jsx("div",{className:"flex justify-end",children:d.jsx(un,{type:"button",label:"Add this note",transform:o(u=>({...u,[Vp[e]]:t.id,sales_id:s.id,date:u.date||xt()}),"transform"),mutationOptions:{onSuccess:c},children:"Add this note"})})},"NoteCreateButton"),Up=o(({note:e})=>{if(!e.attachments||e.attachments.length===0)return null;const t=e.attachments.filter(r=>_r(r.type)),n=e.attachments.filter(r=>!_r(r.type));return d.jsxs("div",{className:"flex flex-col",children:[t.length>0&&d.jsx("div",{className:"grid grid-cols-4 gap-8",children:t.map((r,s)=>d.jsx("div",{children:d.jsx("img",{src:r.src,alt:r.title,className:"w-[200px] h-[100px] object-cover cursor-pointer object-left border border-border",onClick:o(()=>window.open(r.src,"_blank"),"onClick")})},s))}),n.length>0&&n.map((r,s)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(_i,{className:"w-4 h-4"}),d.jsx("a",{href:r.src,target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:r.title})]},s))]})},"NoteAttachments"),_r=o(e=>e?e.startsWith("image/"):!1,"isImageMimeType"),Hp=o(({showStatus:e,note:t})=>{const[n,r]=v.useState(!1),[s,i]=v.useState(!1),a=Xe(),l=ye(),[c,{isPending:u}]=pn(),[g]=si(a,{id:t.id,previousData:t},{mutationMode:"undoable",onSuccess:o(()=>{l("Note deleted",{type:"info",undoable:!0})},"onSuccess")}),f=o(()=>{g()},"handleDelete"),p=o(()=>{i(!s)},"handleEnterEditMode"),m=o(()=>{i(!1),r(!1)},"handleCancelEdit"),h=o(x=>{c(a,{id:t.id,data:x,previousData:t},{onSuccess:o(()=>{i(!1),r(!1)},"onSuccess")})},"handleNoteUpdate");return d.jsxs("div",{onMouseEnter:o(()=>r(!0),"onMouseEnter"),onMouseLeave:o(()=>r(!1),"onMouseLeave"),children:[d.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[a==="contactNote"?d.jsx(ln,{width:20,height:20}):d.jsx(Ge,{source:"company_id",reference:"companies",link:"show",children:d.jsx(vt,{width:20,height:20})}),d.jsxs("div",{className:"inline-flex h-full items-center text-sm text-muted-foreground",children:[d.jsx(Ge,{record:t,resource:a,source:"sales_id",reference:"sales",link:!1,children:d.jsx(Ii,{render:o(x=>d.jsx(ii,{sale:x}),"render")})})," ","added a note"," ",e&&t.status&&d.jsx(Zr,{className:"ml-2",status:t.status})]}),d.jsxs("span",{className:`${n?"visible":"invisible"}`,children:[d.jsx(Wn,{children:d.jsxs(Un,{children:[d.jsx(Hn,{asChild:!0,children:d.jsx(ne,{variant:"ghost",size:"sm",onClick:p,className:"p-1 h-auto cursor-pointer",children:d.jsx(Gi,{className:"w-4 h-4"})})}),d.jsx(qn,{children:d.jsx("p",{children:"Edit note"})})]})}),d.jsx(Wn,{children:d.jsxs(Un,{children:[d.jsx(Hn,{asChild:!0,children:d.jsx(ne,{variant:"ghost",size:"sm",onClick:f,className:"p-1 h-auto cursor-pointer",children:d.jsx($i,{className:"w-4 h-4"})})}),d.jsx(qn,{children:d.jsx("p",{children:"Delete note"})})]})})]}),d.jsx("div",{className:"flex-1"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:d.jsx(ai,{date:t.date})})]}),s?d.jsxs(Ct,{onSubmit:h,record:t,className:"mt-1",children:[d.jsx(ys,{showStatus:e}),d.jsxs("div",{className:"flex justify-end mt-2 space-x-4",children:[d.jsxs(ne,{variant:"ghost",onClick:m,type:"button",className:"cursor-pointer",children:[d.jsx(li,{className:"w-4 h-4"}),"Cancel"]}),d.jsxs(ne,{type:"submit",disabled:u,className:"flex items-center gap-2 cursor-pointer",children:[d.jsx(ci,{className:"w-4 h-4"}),"Update note"]})]})]}):d.jsxs("div",{className:"pt-2 [&_p:empty]:min-h-[0.75em]",children:[t.text?.split(`
`).map((x,b)=>d.jsx("p",{className:"text-sm leading-6 m-0",children:x},b)),t.attachments&&d.jsx(Up,{note:t})]})]})},"Note"),qp=o(({reference:e,showStatus:t})=>{const{data:n,error:r,isPending:s}=Ce();return s||r?null:d.jsxs("div",{className:"mt-4",children:[d.jsx(Ds,{reference:e,showStatus:t}),n&&d.jsx("div",{className:"mt-4 space-y-4",children:n.map((i,a)=>d.jsxs(v.Fragment,{children:[d.jsx(Hp,{note:i,isLast:a===n.length-1,showStatus:t},a),a<n.length-1&&d.jsx(cn,{})]},a))})]})},"NotesIterator"),zp=o(()=>{const{data:e,error:t,isPending:n}=Ce();return n||t?d.jsx("div",{className:"h-8"}):d.jsx("div",{className:"flex flex-row flex-wrap gap-4 mt-4",children:e.map(r=>d.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[d.jsx(ln,{record:r}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs(ke,{to:`/contacts/${r.id}/show`,className:"text-sm hover:underline",children:[r.first_name," ",r.last_name]}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.title,r.title&&r.company_name&&" at ",r.company_name]})]})]},r.id))})},"ContactList"),Fr=o(({open:e,id:t})=>{const n=ve(),r=o(()=>{n("list","deals")},"handleClose");return d.jsx(yt,{open:e,onOpenChange:o(s=>!s&&r(),"onOpenChange"),children:d.jsx(Dt,{className:"lg:max-w-4xl p-4 overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:t?d.jsx(di,{id:t,children:d.jsx(Yp,{})}):null})})},"DealShow"),Yp=o(()=>{const{dealStages:e}=De(),t=Ye();return t?d.jsx(d.Fragment,{children:d.jsxs("div",{className:"space-y-2",children:[t.archived_at?d.jsx(Kp,{}):null,d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-start mb-8",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Ge,{source:"company_id",reference:"companies",link:"show",children:d.jsx(vt,{})}),d.jsx("h2",{className:"text-2xl font-semibold",children:t.name})]}),d.jsx("div",{className:`flex gap-2 ${t.archived_at?"":"pr-12"}`,children:t.archived_at?d.jsxs(d.Fragment,{children:[d.jsx(Jp,{record:t}),d.jsx(Yr,{})]}):d.jsxs(d.Fragment,{children:[d.jsx(Xp,{record:t}),d.jsx(ui,{})]})})]}),d.jsxs("div",{className:"flex gap-8 m-4",children:[d.jsxs("div",{className:"flex flex-col mr-10",children:[d.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Expected closing date"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm",children:fi(new Date(t.expected_closing_date))?pi(new Date(t.expected_closing_date),"PP"):"Invalid date"}),new Date(t.expected_closing_date)<new Date?d.jsx(Wr,{variant:"destructive",children:"Past"}):null]})]}),d.jsxs("div",{className:"flex flex-col mr-10",children:[d.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Budget"}),d.jsx("span",{className:"text-sm",children:t.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),t.category&&d.jsxs("div",{className:"flex flex-col mr-10",children:[d.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Est. Weekly Hours"}),d.jsx("span",{className:"text-sm",children:t.category})]}),d.jsxs("div",{className:"flex flex-col mr-10",children:[d.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Stage"}),d.jsx("span",{className:"text-sm",children:Qr(e,t.stage)})]})]}),!!t.contact_ids?.length&&d.jsx("div",{className:"m-4",children:d.jsxs("div",{className:"flex flex-col min-h-12 mr-10",children:[d.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Contacts"}),d.jsx(gi,{source:"contact_ids",reference:"contacts_summary",children:d.jsx(zp,{})})]})}),t.description&&d.jsxs("div",{className:"m-4 whitespace-pre-line",children:[d.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Description"}),d.jsx("p",{className:"text-sm leading-6",children:t.description})]}),d.jsxs("div",{className:"m-4",children:[d.jsx(cn,{className:"mb-4"}),d.jsx(mi,{target:"deal_id",reference:"dealNotes",sort:{field:"date",order:"DESC"},empty:d.jsx(Ds,{reference:"deals"}),children:d.jsx(qp,{reference:"deals"})})]})]})]})}):null},"DealShowContent"),Kp=o(()=>d.jsx("div",{className:"bg-orange-500 px-6 py-4",children:d.jsx("h3",{className:"text-lg font-bold text-white",children:"Archived Deal"})}),"ArchivedTitle"),Xp=o(({record:e})=>{const[t]=pn(),n=ve(),r=ye(),s=eo(),i=o(()=>{t("deals",{id:e.id,data:{archived_at:new Date().toISOString()},previousData:e},{onSuccess:o(()=>{n("list","deals"),r("Deal archived",{type:"info",undoable:!1}),s()},"onSuccess"),onError:o(()=>{r("Error: deal not archived",{type:"error"})},"onError")})},"handleClick");return d.jsxs(ne,{onClick:i,size:"sm",variant:"outline",className:"flex items-center gap-2 h-9",children:[d.jsx(Li,{className:"w-4 h-4"}),"Archive"]})},"ArchiveButton"),Jp=o(({record:e})=>{const t=dn(),n=ve(),r=ye(),s=eo(),{mutate:i}=hi({mutationFn:o(()=>t.unarchiveDeal(e),"mutationFn"),onSuccess:o(()=>{n("list","deals"),r("Deal unarchived",{type:"info",undoable:!1}),s()},"onSuccess"),onError:o(()=>{r("Error: deal not unarchived",{type:"error"})},"onError")}),a=o(()=>{i()},"handleClick");return d.jsxs(ne,{onClick:a,size:"sm",variant:"outline",className:"flex items-center gap-2 h-9",children:[d.jsx(Ti,{className:"w-4 h-4"}),"Send back to the board"]})},"UnarchiveButton"),Qp=o(e=>{const{filterValues:t,displayedFilters:n,setFilters:r}=Ni(),{identity:s}=pe(),i=o(()=>{const a={...t};typeof t.sales_id<"u"?delete a.sales_id:a.sales_id=s&&s?.id,r(a,n)},"handleChange");return d.jsx("div",{className:"mt-auto pb-2.25",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(bi,{id:"only-mine",checked:typeof t.sales_id<"u",onCheckedChange:i}),d.jsx(xi,{htmlFor:"only-mine",children:"Only companies I manage"})]})})},"OnlyMineInput"),of=o(()=>{const{identity:e}=pe(),{dealCategories:t}=De();if(!e)return null;const n=[d.jsx(vi,{source:"q",alwaysOn:!0}),d.jsx(qr,{source:"company_id",reference:"companies",children:d.jsx(Hr,{label:!1,placeholder:"Company"})}),d.jsx(ct,{source:"category",emptyText:"Est. Weekly Hours",choices:t.map(r=>({id:r,name:r}))}),d.jsx(Qp,{source:"sales_id",alwaysOn:!0})];return d.jsx(yi,{perPage:100,filter:{"archived_at@is":null},title:!1,sort:{field:"index",order:"DESC"},filters:n,actions:d.jsx(ef,{}),pagination:null,children:d.jsx(Zp,{})})},"DealList"),Zp=o(()=>{const e=Xr(),t=it("/deals/create",e.pathname),n=it("/deals/:id/show",e.pathname),r=it("/deals/:id",e.pathname),{data:s,isPending:i,filterValues:a}=Ce(),l=a&&Object.keys(a).length>0;return i?null:!s?.length&&!l?d.jsx(d.Fragment,{children:d.jsxs(Mp,{children:[d.jsx(Fr,{open:!!n,id:n?.params.id}),d.jsx(Or,{})]})}):d.jsxs("div",{className:"w-full",children:[d.jsx(Fp,{}),d.jsx(Or,{}),d.jsx(ms,{open:!!t}),d.jsx(wp,{open:!!r&&!t,id:r?.params.id}),d.jsx(Fr,{open:!!n,id:n?.params.id})]})},"DealLayout"),ef=o(()=>d.jsxs(Di,{children:[d.jsx(Ci,{}),d.jsx(Si,{}),d.jsx(Jr,{label:"New Deal"})]}),"DealActions");export{of as default};
//# sourceMappingURL=DealList-DZDXWwfT.js.map
