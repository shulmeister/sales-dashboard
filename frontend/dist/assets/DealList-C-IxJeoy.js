var ds=Object.defineProperty;var o=(e,t)=>ds(e,"name",{value:t,configurable:!0});import{r as v,C as us,u as gt,L as ps,a as Kt,b as fs,c as gs,d as ms,e as hs,f as Xt,g as ze,h as bs,R as L,_ as Ir,i as xs,j as Er,k as xe,l as u,m as vs,n as ys,o as Fe,p as mt,q as ue,B as ee,D as ht,s as bt,t as Nr,v as Pr,w as xt,x as Ds,y as Cs,z as Ss,A as ws,E as An,F as Ge,T as Rn,G as Is,H as Jt,I as Es,J as Ar,K as Ns,M as Ps,N as As,O as On,P as Rr,Q as Or,S as jr,U as Tr,V as Rs,W as Br,X as Os,Y as js,Z as Ts,$ as Bs,a0 as Ls,a1 as Lr,a2 as Mr,a3 as Ms,a4 as _s,a5 as Fs,a6 as Gs,a7 as ve,a8 as _r,a9 as ks,aa as Qt,ab as ot,ac as Be,ad as Fr,ae as $s,af as ye,ag as st,ah as Ws,ai as Zt,aj as De,ak as Vs,al as vt,am as Gr,an as en,ao as Hs,ap as kr,aq as $r,ar as nt,as as Us,at as qs,au as Wr,av as Vr,aw as zs,ax as Ys,ay as Ks,az as Hr,aA as tn,aB as Xs,aC as Ur,aD as Js,aE as jn,aF as Tn,aG as Bn,aH as Ln,aI as Qs,aJ as Zs,aK as ei,aL as ti,aM as ni,aN as ri,aO as oi,aP as si,aQ as ii,aR as qr,aS as ai,aT as li,aU as ci,aV as di,aW as ui,aX as pi,aY as fi,aZ as gi}from"./index-C1-RSkGO.js";var mi=o(function(){var e=v.useContext(us);if(!e)throw new Error("useCreateContext must be used inside a CreateContextProvider");return e},"useCreateContext"),hi=o(function(e){var t=e.render,n=e.empty,r=n===void 0?null:n,s=gt();return s?v.createElement(v.Fragment,null,t(s)):r},"WithRecord"),bi=o(function(){var e=v.useContext(ps);if(!e)throw new Error("useListFilterContext must be used inside a ListFilterContextProvider");return e},"useListFilterContext"),Le=function(){return Le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Le.apply(this,arguments)},xi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n},vi=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},yi=o(function(e){var t,n=e.debounce,r=e.enableGetChoices,s=e.filter,i=e.page,a=i===void 0?1:i,l=e.perPage,c=l===void 0?25:l,d=e.sort,g=d===void 0?{field:"id",order:"DESC"}:d,f=e.queryOptions,p=f===void 0?{}:f,m=e.reference,h=e.source,x=Kt().getValues,b=fs(h),D=(t=gs({name:b}))!==null&&t!==void 0?t:x(b),C=p.meta,E=xi(p,["meta"]),S=ms(m,{ids:D||Di,meta:C},{enabled:D!=null&&D.length>0}),w=S.data,N=S.error,O=S.isLoading,j=S.isFetching,k=S.isPaused,P=S.isPending,A=S.isPlaceholderData,$=S.refetch,K=hs({resource:m,page:a,perPage:c,sort:g,debounce:n,filter:s}),B=K[0],F=K[1],ie=w?w.filter(Boolean):[],Ie=r?r(B.filterValues):!0,W=Xt(m,{pagination:{page:B.page,perPage:B.perPage},sort:{field:B.sort,order:B.order},filter:Le(Le({},B.filter),s),meta:C},Le({retry:!1,enabled:Ie,placeholderData:o(function(U){return U},"placeholderData")},E)),te=W.data,pe=W.total,ne=W.pageInfo,Ee=W.error,ae=W.isLoading,Xe=W.isFetching,Ne=W.isPaused,Pe=W.isPending,Je=W.isPlaceholderData,Qe=W.refetch,fe=te&&te.length>0?Ci(te,ie):ie.length>0?ie:te,Ae=v.useCallback(function(){$(),Qe()},[$,Qe]),Pn=v.useMemo(function(){return{field:B.sort,order:B.order}},[B.sort,B.order]);return{sort:Pn,allChoices:fe,availableChoices:te,selectedChoices:ie,displayedFilters:B.displayedFilters,error:N||Ee,filter:s,filterValues:B.filterValues,hideFilter:F.hideFilter,isFetching:j||Xe,isLoading:O||ae,isPaused:k||Ne,isPending:P||Pe,isPlaceholderData:A||Je,page:B.page,perPage:B.perPage,refetch:Ae,resource:m,setFilters:F.setFilters,setPage:F.setPage,setPerPage:F.setPerPage,setSort:F.setSort,showFilter:F.showFilter,source:h,total:pe,hasNextPage:ne?ne.hasNextPage:pe!=null?B.page*B.perPage<pe:void 0,hasPreviousPage:ne?ne.hasPreviousPage:B.page>1,isFromReference:!0}},"useReferenceArrayInputController"),Di=[],Ci=o(function(e,t){var n=vi([],e,!0),r=e.map(function(s){return s.id});return t.forEach(function(s){r.includes(s.id)||(r.push(s.id),n.push(s))}),n},"mergeReferences");/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],wi=ze("archive-restore",Si);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Ei=ze("archive",Ii);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Pi=ze("paperclip",Ni);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ri=ze("square-pen",Ai);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ji=ze("trash-2",Oi);function H(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}o(H,"formatProdErrorMessage");var Ti=typeof Symbol=="function"&&Symbol.observable||"@@observable",Mn=Ti,_n=o(()=>Math.random().toString(36).substring(7).split("").join("."),"randomString"),Bi={INIT:`@@redux/INIT${_n()}`,REPLACE:`@@redux/REPLACE${_n()}`},Fn=Bi;function Li(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}o(Li,"isPlainObject");function zr(e,t,n){if(typeof e!="function")throw new Error(H(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(H(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(H(1));return n(zr)(e,t)}let r=e,s=t,i=new Map,a=i,l=0,c=!1;function d(){a===i&&(a=new Map,i.forEach((b,D)=>{a.set(D,b)}))}o(d,"ensureCanMutateNextListeners");function g(){if(c)throw new Error(H(3));return s}o(g,"getState");function f(b){if(typeof b!="function")throw new Error(H(4));if(c)throw new Error(H(5));let D=!0;d();const C=l++;return a.set(C,b),o(function(){if(D){if(c)throw new Error(H(6));D=!1,d(),a.delete(C),i=null}},"unsubscribe")}o(f,"subscribe");function p(b){if(!Li(b))throw new Error(H(7));if(typeof b.type>"u")throw new Error(H(8));if(typeof b.type!="string")throw new Error(H(17));if(c)throw new Error(H(9));try{c=!0,s=r(s,b)}finally{c=!1}return(i=a).forEach(C=>{C()}),b}o(p,"dispatch");function m(b){if(typeof b!="function")throw new Error(H(10));r=b,p({type:Fn.REPLACE})}o(m,"replaceReducer");function h(){const b=f;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(H(11));function C(){const S=D;S.next&&S.next(g())}return o(C,"observeState"),C(),{unsubscribe:b(C)}},[Mn](){return this}}}return o(h,"observable"),p({type:Fn.INIT}),{dispatch:p,subscribe:f,getState:g,replaceReducer:m,[Mn]:h}}o(zr,"createStore$1");function Gn(e,t){return function(...n){return t(e.apply(this,n))}}o(Gn,"bindActionCreator");function kn(e,t){if(typeof e=="function")return Gn(e,t);if(typeof e!="object"||e===null)throw new Error(H(16));const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=Gn(s,t))}return n}o(kn,"bindActionCreators$1");function Yr(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}o(Yr,"compose");function Mi(...e){return t=>(n,r)=>{const s=t(n,r);let i=o(()=>{throw new Error(H(15))},"dispatch");const a={getState:s.getState,dispatch:o((c,...d)=>i(c,...d),"dispatch")},l=e.map(c=>c(a));return i=Yr(...l)(s.dispatch),{...s,dispatch:i}}}o(Mi,"applyMiddleware");var Nt={exports:{}},Pt={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $n;function _i(){if($n)return Pt;$n=1;var e=bs();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}o(t,"is");var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,a=e.useMemo,l=e.useDebugValue;return Pt.useSyncExternalStoreWithSelector=function(c,d,g,f,p){var m=s(null);if(m.current===null){var h={hasValue:!1,value:null};m.current=h}else h=m.current;m=a(function(){function b(w){if(!D){if(D=!0,C=w,w=f(w),p!==void 0&&h.hasValue){var N=h.value;if(p(N,w))return E=N}return E=w}if(N=E,n(C,w))return N;var O=f(w);return p!==void 0&&p(N,O)?(C=w,N):(C=w,E=O)}o(b,"memoizedSelector");var D=!1,C,E,S=g===void 0?null:g;return[function(){return b(d())},S===null?void 0:function(){return b(S())}]},[d,g,f,p]);var x=r(c,m[0],m[1]);return i(function(){h.hasValue=!0,h.value=x},[x]),l(x),x},Pt}o(_i,"requireUseSyncExternalStoreWithSelector_production");var Wn;function Fi(){return Wn||(Wn=1,Nt.exports=_i()),Nt.exports}o(Fi,"requireWithSelector");Fi();var Gi=v.version.startsWith("19"),ki=Symbol.for(Gi?"react.transitional.element":"react.element"),$i=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),Vi=Symbol.for("react.strict_mode"),Hi=Symbol.for("react.profiler"),Ui=Symbol.for("react.consumer"),qi=Symbol.for("react.context"),Kr=Symbol.for("react.forward_ref"),zi=Symbol.for("react.suspense"),Yi=Symbol.for("react.suspense_list"),nn=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),Xi=Kr,Ji=nn;function Qi(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case ki:switch(e=e.type,e){case Wi:case Hi:case Vi:case zi:case Yi:return e;default:switch(e=e&&e.$$typeof,e){case qi:case Kr:case Ki:case nn:return e;case Ui:return e;default:return t}}case $i:return t}}}o(Qi,"typeOf");function Zi(e){return Qi(e)===nn}o(Zi,"isMemo");function ea(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:a}){let l=!1,c,d,g,f,p;function m(C,E){return c=C,d=E,g=e(c,d),f=t(r,d),p=n(g,f,d),l=!0,p}o(m,"handleFirstCall");function h(){return g=e(c,d),t.dependsOnOwnProps&&(f=t(r,d)),p=n(g,f,d),p}o(h,"handleNewPropsAndNewState");function x(){return e.dependsOnOwnProps&&(g=e(c,d)),t.dependsOnOwnProps&&(f=t(r,d)),p=n(g,f,d),p}o(x,"handleNewProps");function b(){const C=e(c,d),E=!a(C,g);return g=C,E&&(p=n(g,f,d)),p}o(b,"handleNewState");function D(C,E){const S=!i(E,d),w=!s(C,c,E,d);return c=C,d=E,S&&w?h():S?x():w?b():p}return o(D,"handleSubsequentCalls"),o(function(E,S){return l?D(E,S):m(E,S)},"pureFinalPropsSelector")}o(ea,"pureFinalPropsSelectorFactory");function ta(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const i=t(e,s),a=n(e,s),l=r(e,s);return ea(i,a,l,e,s)}o(ta,"finalPropsSelectorFactory");function na(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...i)=>t(s(...i)))}return n}o(na,"bindActionCreators");function Gt(e){return o(function(n){const r=e(n);function s(){return r}return o(s,"constantSelector"),s.dependsOnOwnProps=!1,s},"initConstantSelector")}o(Gt,"wrapMapToPropsConstant");function Vn(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}o(Vn,"getDependsOnOwnProps");function Xr(e,t){return o(function(r,{displayName:s}){const i=o(function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)},"mapToPropsProxy");return i.dependsOnOwnProps=!0,i.mapToProps=o(function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Vn(e);let d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=Vn(d),d=i(l,c)),d},"detectFactoryAndVerify"),i},"initProxySelector")}o(Xr,"wrapMapToPropsFunc");function rn(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}o(rn,"createInvalidArgFactory");function ra(e){return e&&typeof e=="object"?Gt(t=>na(e,t)):e?typeof e=="function"?Xr(e):rn(e,"mapDispatchToProps"):Gt(t=>({dispatch:t}))}o(ra,"mapDispatchToPropsFactory");function oa(e){return e?typeof e=="function"?Xr(e):rn(e,"mapStateToProps"):Gt(()=>({}))}o(oa,"mapStateToPropsFactory");function sa(e,t,n){return{...n,...e,...t}}o(sa,"defaultMergeProps");function ia(e){return o(function(n,{displayName:r,areMergedPropsEqual:s}){let i=!1,a;return o(function(c,d,g){const f=e(c,d,g);return i?s(f,a)||(a=f):(i=!0,a=f),a},"mergePropsProxy")},"initMergePropsProxy")}o(ia,"wrapMergePropsFunc");function aa(e){return e?typeof e=="function"?ia(e):rn(e,"mergeProps"):()=>sa}o(aa,"mergePropsFactory");function la(e){e()}o(la,"defaultNoopBatch");function ca(){let e=null,t=null;return{clear(){e=null,t=null},notify(){la(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,o(function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)},"unsubscribe")}}}o(ca,"createListenerCollection");var Hn={notify(){},get:o(()=>[],"get")};function Jr(e,t){let n,r=Hn,s=0,i=!1;function a(x){g();const b=r.subscribe(x);let D=!1;return()=>{D||(D=!0,b(),f())}}o(a,"addNestedSub");function l(){r.notify()}o(l,"notifyNestedSubs");function c(){h.onStateChange&&h.onStateChange()}o(c,"handleChangeWrapper");function d(){return i}o(d,"isSubscribed");function g(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=ca())}o(g,"trySubscribe");function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=Hn)}o(f,"tryUnsubscribe");function p(){i||(i=!0,g())}o(p,"trySubscribeSelf");function m(){i&&(i=!1,f())}o(m,"tryUnsubscribeSelf");const h={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:m,getListeners:o(()=>r,"getListeners")};return h}o(Jr,"createSubscription");var da=o(()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u","canUseDOM"),ua=da(),pa=o(()=>typeof navigator<"u"&&navigator.product==="ReactNative","isRunningInReactNative"),fa=pa(),ga=o(()=>ua||fa?v.useLayoutEffect:v.useEffect,"getUseIsomorphicLayoutEffect"),it=ga();function Un(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}o(Un,"is");function At(e,t){if(Un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!Un(e[n[s]],t[n[s]]))return!1;return!0}o(At,"shallowEqual");var ma={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ha={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ba={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qr={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xa={[Xi]:ba,[Ji]:Qr};function qn(e){return Zi(e)?Qr:xa[e.$$typeof]||ma}o(qn,"getStatics");var va=Object.defineProperty,ya=Object.getOwnPropertyNames,zn=Object.getOwnPropertySymbols,Da=Object.getOwnPropertyDescriptor,Ca=Object.getPrototypeOf,Yn=Object.prototype;function kt(e,t){if(typeof t!="string"){if(Yn){const i=Ca(t);i&&i!==Yn&&kt(e,i)}let n=ya(t);zn&&(n=n.concat(zn(t)));const r=qn(e),s=qn(t);for(let i=0;i<n.length;++i){const a=n[i];if(!ha[a]&&!(s&&s[a])&&!(r&&r[a])){const l=Da(t,a);try{va(e,a,l)}catch{}}}}return e}o(kt,"hoistNonReactStatics");var Sa=Symbol.for("react-redux-context"),wa=typeof globalThis<"u"?globalThis:{};function Ia(){if(!v.createContext)return{};const e=wa[Sa]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}o(Ia,"getContext");var Zr=Ia(),Ea=[null,null];function Na(e,t,n){it(()=>e(...t),n)}o(Na,"useIsomorphicLayoutEffectWithArgs");function Pa(e,t,n,r,s,i){e.current=r,n.current=!1,s.current&&(s.current=null,i())}o(Pa,"captureWrapperProps");function Aa(e,t,n,r,s,i,a,l,c,d,g){if(!e)return()=>{};let f=!1,p=null;const m=o(()=>{if(f||!l.current)return;const x=t.getState();let b,D;try{b=r(x,s.current)}catch(C){D=C,p=C}D||(p=null),b===i.current?a.current||d():(i.current=b,c.current=b,a.current=!0,g())},"checkForUpdates");return n.onStateChange=m,n.trySubscribe(),m(),o(()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p},"unsubscribeWrapper")}o(Aa,"subscribeUpdates");function Ra(e,t){return e===t}o(Ra,"strictEqual");function Oa(e,t,n,{pure:r,areStatesEqual:s=Ra,areOwnPropsEqual:i=At,areStatePropsEqual:a=At,areMergedPropsEqual:l=At,forwardRef:c=!1,context:d=Zr}={}){const g=d,f=oa(e),p=ra(t),m=aa(n),h=!!e;return o(b=>{const D=b.displayName||b.name||"Component",C=`Connect(${D})`,E={shouldHandleStateChanges:h,displayName:C,wrappedComponentName:D,WrappedComponent:b,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:s,areStatePropsEqual:a,areOwnPropsEqual:i,areMergedPropsEqual:l};function S(O){const[j,k,P]=v.useMemo(()=>{const{reactReduxForwardedRef:U,...Re}=O;return[O.context,U,Re]},[O]),A=v.useMemo(()=>{let U=g;return j?.Consumer,U},[j,g]),$=v.useContext(A),K=!!O.store&&!!O.store.getState&&!!O.store.dispatch,B=!!$&&!!$.store,F=K?O.store:$.store,ie=B?$.getServerState:F.getState,Ie=v.useMemo(()=>ta(F.dispatch,E),[F]),[W,te]=v.useMemo(()=>{if(!h)return Ea;const U=Jr(F,K?void 0:$.subscription),Re=U.notifyNestedSubs.bind(U);return[U,Re]},[F,K,$]),pe=v.useMemo(()=>K?$:{...$,subscription:W},[K,$,W]),ne=v.useRef(void 0),Ee=v.useRef(P),ae=v.useRef(void 0),Xe=v.useRef(!1),Ne=v.useRef(!1),Pe=v.useRef(void 0);it(()=>(Ne.current=!0,()=>{Ne.current=!1}),[]);const Je=v.useMemo(()=>o(()=>ae.current&&P===Ee.current?ae.current:Ie(F.getState(),P),"selector"),[F,P]),Qe=v.useMemo(()=>o(Re=>W?Aa(h,F,W,Ie,Ee,ne,Xe,Ne,ae,te,Re):()=>{},"subscribe"),[W]);Na(Pa,[Ee,ne,Xe,P,ae,te]);let fe;try{fe=v.useSyncExternalStore(Qe,Je,ie?()=>Ie(ie(),P):Je)}catch(U){throw Pe.current&&(U.message+=`
The error may be correlated with this previous error:
${Pe.current.stack}

`),U}it(()=>{Pe.current=void 0,ae.current=void 0,ne.current=fe});const Ae=v.useMemo(()=>v.createElement(b,{...fe,ref:k}),[k,b,fe]);return v.useMemo(()=>h?v.createElement(A.Provider,{value:pe},Ae):Ae,[A,Ae,pe])}o(S,"ConnectFunction");const N=v.memo(S);if(N.WrappedComponent=b,N.displayName=S.displayName=C,c){const j=v.forwardRef(o(function(P,A){return v.createElement(N,{...P,reactReduxForwardedRef:A})},"forwardConnectRef"));return j.displayName=C,j.WrappedComponent=b,kt(j,b)}return kt(N,b)},"wrapWithConnect")}o(Oa,"connect");var eo=Oa;function ja(e){const{children:t,context:n,serverState:r,store:s}=e,i=v.useMemo(()=>{const c=Jr(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),a=v.useMemo(()=>s.getState(),[s]);it(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=n||Zr;return v.createElement(l.Provider,{value:i},t)}o(ja,"Provider");var Ta=ja,Ba="Invariant failed";function La(e,t){throw new Error(Ba)}o(La,"invariant$1");var Z=o(function(t){var n=t.top,r=t.right,s=t.bottom,i=t.left,a=r-i,l=s-n,c={top:n,right:r,bottom:s,left:i,width:a,height:l,x:i,y:n,center:{x:(r+i)/2,y:(s+n)/2}};return c},"getRect2"),on=o(function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},"expand2"),Kn=o(function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},"shrink2"),Ma=o(function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},"shift2"),Rt={top:0,right:0,bottom:0,left:0},sn=o(function(t){var n=t.borderBox,r=t.margin,s=r===void 0?Rt:r,i=t.border,a=i===void 0?Rt:i,l=t.padding,c=l===void 0?Rt:l,d=Z(on(n,s)),g=Z(Kn(n,a)),f=Z(Kn(g,c));return{marginBox:d,borderBox:Z(n),paddingBox:g,contentBox:f,margin:s,border:a,padding:c}},"createBox2"),X=o(function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&La(),s},"parse2"),_a=o(function(){return{x:window.pageXOffset,y:window.pageYOffset}},"getWindowScroll2"),at=o(function(t,n){var r=t.borderBox,s=t.border,i=t.margin,a=t.padding,l=Ma(r,n);return sn({borderBox:l,border:s,margin:i,padding:a})},"offset2"),lt=o(function(t,n){return n===void 0&&(n=_a()),at(t,n)},"withScroll2"),to=o(function(t,n){var r={top:X(n.marginTop),right:X(n.marginRight),bottom:X(n.marginBottom),left:X(n.marginLeft)},s={top:X(n.paddingTop),right:X(n.paddingRight),bottom:X(n.paddingBottom),left:X(n.paddingLeft)},i={top:X(n.borderTopWidth),right:X(n.borderRightWidth),bottom:X(n.borderBottomWidth),left:X(n.borderLeftWidth)};return sn({borderBox:t,margin:r,padding:s,border:i})},"calculateBox2"),no=o(function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return to(n,r)},"getBox2"),ke=o(function(t){var n=[],r=null,s=o(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))},"wrapperFn");return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s},"rafSchd");function ro(e,t){}o(ro,"log");ro.bind(null,"warn");ro.bind(null,"error");function re(){}o(re,"noop$2");function Fa(e,t){return{...e,...t}}o(Fa,"getOptions");function J(e,t,n){const r=t.map(s=>{const i=Fa(n,s.options);return e.addEventListener(s.eventName,s.fn,i),o(function(){e.removeEventListener(s.eventName,s.fn,i)},"unbind")});return o(function(){r.forEach(i=>{i()})},"unbindAll")}o(J,"bindEvents");const Ga="Invariant failed",In=class In extends Error{};o(In,"RbdInvariant");let ge=In;ge.prototype.toString=o(function(){return this.message},"toString");function y(e,t){throw new ge(Ga)}o(y,"invariant");const En=class En extends L.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=re,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof ge&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=J(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof ge){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};o(En,"ErrorBoundary");let $t=En;const ka=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ct=o(e=>e+1,"position"),$a=o(e=>`
  You have lifted an item in position ${ct(e.source.index)}
`,"onDragStart"),oo=o((e,t)=>{const n=e.droppableId===t.droppableId,r=ct(e.index),s=ct(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},"withLocation"),so=o((e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,"withCombine"),Wa=o(e=>{const t=e.destination;if(t)return oo(e.source,t);const n=e.combine;return n?so(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},"onDragUpdate"),Xn=o(e=>`
  The item has returned to its starting position
  of ${ct(e.index)}
`,"returnedToStart"),Va=o(e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Xn(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${oo(e.source,t)}
    `:n?`
      You have dropped the item.
      ${so(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${Xn(e.source)}
  `},"onDragEnd"),rt={dragHandleUsageInstructions:ka,onDragStart:$a,onDragUpdate:Wa,onDragEnd:Va};function Ha(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}o(Ha,"isEqual$2");function io(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Ha(e[n],t[n]))return!1;return!0}o(io,"areInputsEqual");function R(e,t){const n=v.useState(()=>({inputs:t,result:e()}))[0],r=v.useRef(!0),s=v.useRef(n),a=r.current||!!(t&&s.current.inputs&&io(t,s.current.inputs))?s.current:{inputs:t,result:e()};return v.useEffect(()=>{r.current=!1,s.current=a},[a]),a.result}o(R,"useMemo");function I(e,t){return R(()=>e,t)}o(I,"useCallback");const _={x:0,y:0},G=o((e,t)=>({x:e.x+t.x,y:e.y+t.y}),"add"),q=o((e,t)=>({x:e.x-t.x,y:e.y-t.y}),"subtract"),oe=o((e,t)=>e.x===t.x&&e.y===t.y,"isEqual$1"),Ce=o(e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),"negate"),de=o((e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},"patch"),$e=o((e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),"distance"),Jn=o((e,t)=>Math.min(...t.map(n=>$e(e,n))),"closest$1"),ao=o(e=>t=>({x:e(t.x),y:e(t.y)}),"apply");var Ua=o((e,t)=>{const n=Z({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},"executeClip");const Ye=o((e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),"offsetByPosition"),Qn=o(e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],"getCorners"),qa={top:0,right:0,bottom:0,left:0},za=o((e,t)=>t?Ye(e,t.scroll.diff.displacement):e,"scroll$1"),Ya=o((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,"increase"),Ka=o((e,t)=>t&&t.shouldClipSubject?Ua(t.pageMarginBox,e):Z(e),"clip");var me=o(({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=za(e.marginBox,r),i=Ya(s,n,t),a=Ka(i,r);return{page:e,withPlaceholder:t,active:a}},"getSubject"),an=o((e,t)=>{e.frame||y();const n=e.frame,r=q(t,n.scroll.initial),s=Ce(r),i={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},a=me({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:a}},"scrollDroppable");function M(e,t=io){let n=null;function r(...s){if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;const i=e.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return o(r,"memoized"),r.clear=o(function(){n=null},"clear"),r}o(M,"memoizeOne");const lo=M(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),co=M(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),yt=M(e=>Object.values(e)),Xa=M(e=>Object.values(e));var Se=M((e,t)=>Xa(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function ln(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}o(ln,"tryGetDestination");function Dt(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}o(Dt,"tryGetCombine");var Ct=M((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),Ja=o(({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!ln(s))return null;function a(m){const h={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...s,at:h}}o(a,"getImpact");const l=s.displaced.all,c=l.length?l[0]:null;if(e)return c?a(c):null;const d=Ct(t,r);if(!c){if(!d.length)return null;const m=d[d.length-1];return a(m.descriptor.id)}const g=d.findIndex(m=>m.descriptor.id===c);g===-1&&y();const f=g-1;if(f<0)return null;const p=d[f];return a(p.descriptor.id)},"moveToNextCombine"),we=o((e,t)=>e.descriptor.droppableId===t.descriptor.id,"isHomeOf");const uo={point:_,value:0},We={invisible:{},visible:{},all:[]},Qa={displaced:We,displacedBy:uo,at:null};var Q=o((e,t)=>n=>e<=n&&n<=t,"isWithin"),po=o(e=>{const t=Q(e.top,e.bottom),n=Q(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(i&&a)return!0;const c=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return c&&d?!0:c&&a||d&&i}},"isPartiallyVisibleThroughFrame"),Za=o(e=>{const t=Q(e.top,e.bottom),n=Q(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)},"isTotallyVisibleThroughFrame");const cn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},fo={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var el=o(e=>t=>{const n=Q(t.top,t.bottom),r=Q(t.left,t.right);return s=>e===cn?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)},"isTotallyVisibleThroughFrameOnAxis");const tl=o((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:_;return Ye(e,n)},"getDroppableDisplaced"),nl=o((e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,"isVisibleInDroppable"),rl=o((e,t,n)=>n(t)(e),"isVisibleInViewport"),dn=o(({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const i=r?tl(e,t):e;return nl(i,t,s)&&rl(i,n,s)},"isVisible$1"),ol=o(e=>dn({...e,isVisibleThroughFrameFn:po}),"isPartiallyVisible"),go=o(e=>dn({...e,isVisibleThroughFrameFn:Za}),"isTotallyVisible"),sl=o(e=>dn({...e,isVisibleThroughFrameFn:el(e.destination.axis)}),"isTotallyVisibleOnAxis"),il=o((e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const i=s[e];return i?i.shouldAnimate:!0},"getShouldAnimate");function al(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Z(on(n,r))}o(al,"getTarget");function Ve({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:i}){return e.reduce(o(function(l,c){const d=al(c,n),g=c.descriptor.id;if(l.all.push(g),!ol({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const p=il(g,i,s),m={draggableId:g,shouldAnimate:p};return l.visible[g]=m,l},"process2"),{all:[],visible:{},invisible:{}})}o(Ve,"getDisplacementGroups");function ll(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}o(ll,"getIndexOfLastItem");function Zn({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=ll(e,{inHomeList:t});return{displaced:We,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}o(Zn,"goAtEnd");function dt({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:i,index:a,forceShouldAnimate:l}){const c=we(e,n);if(a==null)return Zn({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const d=t.find(h=>h.descriptor.index===a);if(!d)return Zn({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const g=Ct(e,t),f=t.indexOf(d),p=g.slice(f);return{displaced:Ve({afterDragging:p,destination:n,displacedBy:s,last:i,viewport:r.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}o(dt,"calculateReorderImpact");function se(e,t){return!!t.effected[e]}o(se,"didStartAfterCritical");var cl=o(({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const i=r.draggableId,l=n[i].descriptor.index;return se(i,s)?e?l:l-1:e?l+1:l},"fromCombine"),dl=o(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,i=e?s+1:s-1,a=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=t?l:l+1;return i<a||i>c?null:i},"fromReorder"),ul=o(({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:i,previousImpact:a,viewport:l,afterCritical:c})=>{const d=a.at;if(d||y(),d.type==="REORDER"){const f=dl({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:i});return f==null?null:dt({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})}const g=cl({isMovingForward:e,destination:s,displaced:a.displaced,draggables:r,combine:d.combine,afterCritical:c});return g==null?null:dt({draggable:n,insideDestination:i,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:g})},"moveToNextIndex"),pl=o(({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return se(n,t)?s?_:Ce(r.point):s?r.point:_},"getCombinedItemDisplacement"),fl=o(({afterCritical:e,impact:t,draggables:n})=>{const r=Dt(t);r||y();const s=r.draggableId,i=n[s].page.borderBox.center,a=pl({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return G(i,a)},"whenCombining");const mo=o((e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,"distanceFromStartToBorderBoxCenter"),gl=o((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,"distanceFromEndToBorderBoxCenter"),un=o((e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,"getCrossAxisBorderBoxCenter"),er=o(({axis:e,moveRelativeTo:t,isMoving:n})=>de(e.line,t.marginBox[e.end]+mo(e,n),un(e,t.marginBox,n)),"goAfter"),tr=o(({axis:e,moveRelativeTo:t,isMoving:n})=>de(e.line,t.marginBox[e.start]-gl(e,n),un(e,t.marginBox,n)),"goBefore"),ml=o(({axis:e,moveInto:t,isMoving:n})=>de(e.line,t.contentBox[e.start]+mo(e,n),un(e,t.contentBox,n)),"goIntoStart");var hl=o(({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const i=Se(r.descriptor.id,n),a=t.page,l=r.axis;if(!i.length)return ml({axis:l,moveInto:r.page,isMoving:a});const{displaced:c,displacedBy:d}=e,g=c.all[0];if(g){const p=n[g];if(se(g,s))return tr({axis:l,moveRelativeTo:p.page,isMoving:a});const m=at(p.page,d.point);return tr({axis:l,moveRelativeTo:m,isMoving:a})}const f=i[i.length-1];if(f.descriptor.id===t.descriptor.id)return a.borderBox.center;if(se(f.descriptor.id,s)){const p=at(f.page,Ce(s.displacedBy.point));return er({axis:l,moveRelativeTo:p,isMoving:a})}return er({axis:l,moveRelativeTo:f.page,isMoving:a})},"whenReordering"),Wt=o((e,t)=>{const n=e.frame;return n?G(t,n.scroll.diff.displacement):t},"withDroppableDisplacement");const bl=o(({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const i=t.page.borderBox.center,a=e.at;return!n||!a?i:a.type==="REORDER"?hl({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):fl({impact:e,draggables:r,afterCritical:s})},"getResultWithoutDroppableDisplacement");var St=o(e=>{const t=bl(e),n=e.droppable;return n?Wt(n,t):t},"getPageBorderBoxCenterFromImpact"),ho=o((e,t)=>{const n=q(t,e.scroll.initial),r=Ce(n);return{frame:Z({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}},"scrollViewport");function nr(e,t){return e.map(n=>t[n])}o(nr,"getDraggables$1");function xl(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}o(xl,"tryGetVisible");var vl=o(({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const i=ho(t,G(t.scroll.current,s)),a=n.frame?an(n,G(n.frame.scroll.current,s)):n,l=e.displaced,c=Ve({afterDragging:nr(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=Ve({afterDragging:nr(l.all,r),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),g={},f={},p=[l,c,d];return l.all.forEach(h=>{const x=xl(h,p);if(x){f[h]=x;return}g[h]=!0}),{...e,displaced:{all:l.all,invisible:g,visible:f}}},"speculativelyIncrease"),yl=o((e,t)=>G(e.scroll.diff.displacement,t),"withViewportDisplacement"),pn=o(({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=yl(n,e),s=q(r,t.page.borderBox.center);return G(t.client.borderBox.center,s)},"getClientFromPageBorderBoxCenter"),bo=o(({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const a=q(n,e.page.borderBox.center),c={target:Ye(e.page.borderBox,a),destination:t,withDroppableDisplacement:s,viewport:r};return i?sl(c):go(c)},"isTotallyVisibleInNewLocation"),Dl=o(({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:i,previousPageBorderBoxCenter:a,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const d=Se(n.descriptor.id,r),g=we(t,n),f=Ja({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:s})||ul({isMovingForward:e,isInHomeList:g,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:s,viewport:i,afterCritical:c});if(!f)return null;const p=St({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:c});if(bo({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:pn({pageBorderBoxCenter:p,draggable:t,viewport:i}),impact:f,scrollJumpRequest:null};const h=q(p,a),x=vl({impact:f,viewport:i,destination:n,draggables:r,maxScrollChange:h});return{clientSelection:l,impact:x,scrollJumpRequest:h}},"moveToNextPlace");const V=o(e=>{const t=e.subject.active;return t||y(),t},"getKnownActive");var Cl=o(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const i=n.subject.active;if(!i)return null;const a=n.axis,l=Q(i[a.start],i[a.end]),c=yt(r).filter(g=>g!==n).filter(g=>g.isEnabled).filter(g=>!!g.subject.active).filter(g=>po(s.frame)(V(g))).filter(g=>{const f=V(g);return e?i[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<i[a.crossAxisStart]}).filter(g=>{const f=V(g),p=Q(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||p(i[a.start])||p(i[a.end])}).sort((g,f)=>{const p=V(g)[a.crossAxisStart],m=V(f)[a.crossAxisStart];return e?p-m:m-p}).filter((g,f,p)=>V(g)[a.crossAxisStart]===V(p[0])[a.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(g=>Q(V(g)[a.start],V(g)[a.end])(t[a.line]));return d.length===1?d[0]:d.length>1?d.sort((g,f)=>V(g)[a.start]-V(f)[a.start])[0]:c.sort((g,f)=>{const p=Jn(t,Qn(V(g))),m=Jn(t,Qn(V(f)));return p!==m?p-m:V(g)[a.start]-V(f)[a.start]})[0]},"getBestCrossAxisDroppable");const rr=o((e,t)=>{const n=e.page.borderBox.center;return se(e.descriptor.id,t)?q(n,t.displacedBy.point):n},"getCurrentPageBorderBoxCenter"),Sl=o((e,t)=>{const n=e.page.borderBox;return se(e.descriptor.id,t)?Ye(n,Ce(t.displacedBy.point)):n},"getCurrentPageBorderBox");var wl=o(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(a=>go({target:Sl(a,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((a,l)=>{const c=$e(e,Wt(n,rr(a,s))),d=$e(e,Wt(n,rr(l,s)));return c<d?-1:d<c?1:a.descriptor.index-l.descriptor.index})[0]||null,"getClosestDraggable"),Ke=M(o(function(t,n){const r=n[t.line];return{value:r,point:de(t.line,r)}},"getDisplacedBy2"));const Il=o((e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return de(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=Se(e.descriptor.id,n).reduce((d,g)=>d+g.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:de(r.line,c)},"getRequiredGrowthForPlaceholder"),xo=o((e,t)=>({...e,scroll:{...e.scroll,max:t}}),"withMaxScroll"),vo=o((e,t,n)=>{const r=e.frame;we(t,e)&&y(),e.subject.withPlaceholder&&y();const s=Ke(e.axis,t.displaceBy).point,i=Il(e,s,n),a={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const g=me({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:g}}const l=i?G(r.scroll.max,i):r.scroll.max,c=xo(r,l),d=me({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},"addPlaceholder"),El=o(e=>{const t=e.subject.withPlaceholder;t||y();const n=e.frame;if(!n){const a=me({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:a}}const r=t.oldFrameMaxScroll;r||y();const s=xo(n,r),i=me({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:i,frame:s}},"removePlaceholder");var Nl=o(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:i,viewport:a,afterCritical:l})=>{if(!t){if(n.length)return null;const f={displaced:We,displacedBy:uo,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},p=St({impact:f,draggable:r,droppable:i,draggables:s,afterCritical:l}),m=we(r,i)?i:vo(i,r,s);return bo({draggable:r,destination:m,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],d=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?f:f+1})(),g=Ke(i.axis,r.displaceBy);return dt({draggable:r,insideDestination:n,destination:i,viewport:a,displacedBy:g,last:We,index:d})},"moveToNewDroppable"),Pl=o(({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:i,viewport:a,afterCritical:l})=>{const c=Cl({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:i,viewport:a});if(!c)return null;const d=Se(c.descriptor.id,s),g=wl({pageBorderBoxCenter:t,viewport:a,destination:c,insideDestination:d,afterCritical:l}),f=Nl({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:g,insideDestination:d,viewport:a,afterCritical:l});if(!f)return null;const p=St({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:l});return{clientSelection:pn({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null}},"moveCrossAxis"),z=o(e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},"whatIsDraggedOver");const Al=o((e,t)=>{const n=z(e);return n?t[n]:null},"getDroppableOver$1");var Rl=o(({state:e,type:t})=>{const n=Al(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],i=n||s,a=i.axis.direction,l=a==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||a==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],g=e.current.page.borderBoxCenter,{draggables:f,droppables:p}=e.dimensions;return l?Dl({isMovingForward:c,previousPageBorderBoxCenter:g,draggable:d,destination:i,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Pl({isMovingForward:c,previousPageBorderBoxCenter:g,draggable:d,isOver:i,draggables:f,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})},"moveInDirection");function ce(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}o(ce,"isMovementAllowed");function yo(e){const t=Q(e.top,e.bottom),n=Q(e.left,e.right);return o(function(s){return t(s.y)&&n(s.x)},"run")}o(yo,"isPositionInFrame");function Ol(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}o(Ol,"getHasOverlap");function jl({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(i=>{const a=i.axis,l=de(i.axis.line,e.center[a.line],i.page.borderBox.center[a.crossAxisLine]);return{id:i.descriptor.id,distance:$e(r,l)}}).sort((i,a)=>a.distance-i.distance);return s[0]?s[0].id:null}o(jl,"getFurthestAway");function Tl({pageBorderBox:e,draggable:t,droppables:n}){const r=yt(n).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!Ol(e,i))return!1;if(yo(i)(e.center))return!0;const a=s.axis,l=i.center[a.crossAxisLine],c=e[a.crossAxisStart],d=e[a.crossAxisEnd],g=Q(i[a.crossAxisStart],i[a.crossAxisEnd]),f=g(c),p=g(d);return!f&&!p?!0:f?c<l:d>l});return r.length?r.length===1?r[0].descriptor.id:jl({pageBorderBox:e,draggable:t,candidates:r}):null}o(Tl,"getDroppableOver");const Do=o((e,t)=>Z(Ye(e,t)),"offsetRectByPosition");var Bl=o((e,t)=>{const n=e.frame;return n?Do(t,n.scroll.diff.value):t},"withDroppableScroll");function Co({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}o(Co,"getIsDisplaced");function Ll({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}o(Ll,"atIndex");var Ml=o(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:i,afterCritical:a})=>{const l=n.axis,c=Ke(n.axis,t.displaceBy),d=c.value,g=e[l.start],f=e[l.end],m=Ct(t,r).find(x=>{const b=x.descriptor.id,D=x.page.borderBox.center[l.line],C=se(b,a),E=Co({displaced:s,id:b});return C?E?f<=D:g<D-d:E?f<=D+d:g<D})||null,h=Ll({draggable:t,closest:m,inHomeList:we(t,n)});return dt({draggable:t,insideDestination:r,destination:n,viewport:i,last:s,displacedBy:c,index:h})},"getReorderImpact");const _l=4;var Fl=o(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const a=r.axis,l=Ke(r.axis,e.displaceBy),c=l.value,d=t[a.start],g=t[a.end],p=Ct(e,s).find(h=>{const x=h.descriptor.id,b=h.page.borderBox,C=b[a.size]/_l,E=se(x,i),S=Co({displaced:n.displaced,id:x});return E?S?g>b[a.start]+C&&g<b[a.end]-C:d>b[a.start]-c+C&&d<b[a.end]-c-C:S?g>b[a.start]+c+C&&g<b[a.end]+c-C:d>b[a.start]+C&&d<b[a.end]-C});return p?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},"getCombineImpact"),So=o(({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:i,afterCritical:a})=>{const l=Do(t.page.borderBox,e),c=Tl({pageBorderBox:l,draggable:t,droppables:r});if(!c)return Qa;const d=r[c],g=Se(d.descriptor.id,n),f=Bl(d,l);return Fl({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:s,destination:d,insideDestination:g,afterCritical:a})||Ml({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:d,insideDestination:g,last:s.displaced,viewport:i,afterCritical:a})},"getDragImpact"),fn=o((e,t)=>({...e,[t.descriptor.id]:t}),"patchDroppableMap");const Gl=o(({previousImpact:e,impact:t,droppables:n})=>{const r=z(e),s=z(t);if(!r||r===s)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const a=El(i);return fn(n,a)},"clearUnusedPlaceholder");var kl=o(({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const i=Gl({previousImpact:r,impact:s,droppables:n}),a=z(s);if(!a)return i;const l=n[a];if(we(e,l)||l.subject.withPlaceholder)return i;const c=vo(l,e,t);return fn(i,c)},"recomputePlaceholders"),Me=o(({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:i})=>{const a=r||e.viewport,l=n||e.dimensions,c=t||e.current.client.selection,d=q(c,e.initial.client.selection),g={offset:d,selection:c,borderBoxCenter:G(e.initial.client.borderBoxCenter,d)},f={selection:G(g.selection,a.scroll.current),borderBoxCenter:G(g.borderBoxCenter,a.scroll.current),offset:G(g.offset,a.scroll.diff.value)},p={client:g,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:a,current:p};const m=l.draggables[e.critical.draggable.id],h=s||So({pageOffset:f.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),x=kl({draggable:m,impact:h,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:p,dimensions:{draggables:l.draggables,droppables:x},impact:h,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}},"update");function $l(e,t){return e.map(n=>t[n])}o($l,"getDraggables");var wo=o(({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const i=e.displaced,a=$l(i.all,n),l=Ve({afterDragging:a,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:i});return{...e,displaced:l}},"recompute"),Io=o(({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:i})=>{const a=St({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i});return pn({pageBorderBoxCenter:a,draggable:t,viewport:s})},"getClientBorderBoxCenter"),Eo=o(({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&y();const r=e.impact,s=n||e.viewport,i=t||e.dimensions,{draggables:a,droppables:l}=i,c=a[e.critical.draggable.id],d=z(r);d||y();const g=l[d],f=wo({impact:r,viewport:s,destination:g,draggables:a}),p=Io({impact:f,draggable:c,droppable:g,draggables:a,viewport:s,afterCritical:e.afterCritical});return Me({impact:f,clientSelection:p,state:e,dimensions:i,viewport:s})},"refreshSnap"),Wl=o(e=>({index:e.index,droppableId:e.droppableId}),"getHomeLocation"),No=o(({draggable:e,home:t,draggables:n,viewport:r})=>{const s=Ke(t.axis,e.displaceBy),i=Se(t.descriptor.id,n),a=i.indexOf(e);a===-1&&y();const l=i.slice(a+1),c=l.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:Ve({afterDragging:l,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:Wl(e.descriptor)}},afterCritical:d}},"getLiftEffect"),Vl=o((e,t)=>({draggables:e.draggables,droppables:fn(e.droppables,t)}),"patchDimensionMap"),Hl=o(({draggable:e,offset:t,initialWindowScroll:n})=>{const r=at(e.client,t),s=lt(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},"offsetDraggable"),Ul=o(e=>{const t=e.frame;return t||y(),t},"getFrame"),ql=o(({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const i=s.descriptor.droppableId,a=t[i],c=Ul(a).scroll.diff.value,d=G(r,c);return Hl({draggable:s,offset:d,initialWindowScroll:n.scroll.initial})})},"adjustAdditionsForScrollChanges"),zl=o(({state:e,published:t})=>{const n=t.modified.map(D=>{const C=e.dimensions.droppables[D.droppableId];return an(C,D.scroll)}),r={...e.dimensions.droppables,...lo(n)},s=co(ql({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),i={...e.dimensions.draggables,...s};t.removals.forEach(D=>{delete i[D]});const a={droppables:r,draggables:i},l=z(e.impact),c=l?a.droppables[l]:null,d=a.draggables[e.critical.draggable.id],g=a.droppables[e.critical.droppable.id],{impact:f,afterCritical:p}=No({draggable:d,home:g,draggables:i,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:f,h=So({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),x={...e,phase:"DRAGGING",impact:h,onLiftImpact:f,dimensions:a,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?x:{...x,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}},"publishWhileDraggingInVirtual");const Vt=o(e=>e.movementMode==="SNAP","isSnapping"),Ot=o((e,t,n)=>{const r=Vl(e.dimensions,t);return!Vt(e)||n?Me({state:e,dimensions:r}):Eo({state:e,dimensions:r})},"postDroppableChange");function jt(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}o(jt,"removeScrollJumpRequest");const or={phase:"IDLE",completed:null,shouldFlush:!1};var Yl=o((e=or,t)=>{if(t.type==="FLUSH")return{...or,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&y();const{critical:n,clientSelection:r,viewport:s,dimensions:i,movementMode:a}=t.payload,l=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:_},g={client:d,page:{selection:G(d.selection,s.scroll.initial),borderBoxCenter:G(d.selection,s.scroll.initial),offset:G(d.selection,s.scroll.diff.value)}},f=yt(i.droppables).every(x=>!x.isFixedOnPage),{impact:p,afterCritical:m}=No({draggable:l,home:c,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:g,current:g,isWindowScrollAllowed:f,impact:p,afterCritical:m,onLiftImpact:p,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&y(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||y(),zl({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ce(e)||y();const{client:n}=t.payload;return oe(n,e.current.client.selection)?e:Me({state:e,clientSelection:n,impact:Vt(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return jt(e);ce(e)||y();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const i=an(s,r);return Ot(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ce(e)||y();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||y(),s.isEnabled===r&&y();const i={...s,isEnabled:r};return Ot(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ce(e)||y();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||y(),s.isCombineEnabled===r&&y();const i={...s,isCombineEnabled:r};return Ot(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ce(e)||y(),e.isWindowScrollAllowed||y();const n=t.payload.newScroll;if(oe(e.viewport.scroll.current,n))return jt(e);const r=ho(e.viewport,n);return Vt(e)?Eo({state:e,viewport:r}):Me({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ce(e))return e;const n=t.payload.maxScroll;if(oe(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&y();const n=Rl({state:e,type:t.type});return n?Me({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&y(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||y(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e},"reducer");function T(e,t){return e instanceof Object&&"type"in e&&e.type===t}o(T,"guard");const Kl=o(e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),"beforeInitialCapture"),Xl=o(e=>({type:"LIFT",payload:e}),"lift$1"),Jl=o(e=>({type:"INITIAL_PUBLISH",payload:e}),"initialPublish"),Ql=o(e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),"publishWhileDragging"),Zl=o(()=>({type:"COLLECTION_STARTING",payload:null}),"collectionStarting"),ec=o(e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),"updateDroppableScroll"),tc=o(e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),"updateDroppableIsEnabled"),nc=o(e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),"updateDroppableIsCombineEnabled"),Po=o(e=>({type:"MOVE",payload:e}),"move"),rc=o(e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),"moveByWindowScroll"),oc=o(e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),"updateViewportMaxScroll"),sc=o(()=>({type:"MOVE_UP",payload:null}),"moveUp"),ic=o(()=>({type:"MOVE_DOWN",payload:null}),"moveDown"),ac=o(()=>({type:"MOVE_RIGHT",payload:null}),"moveRight"),lc=o(()=>({type:"MOVE_LEFT",payload:null}),"moveLeft"),gn=o(()=>({type:"FLUSH",payload:null}),"flush"),cc=o(e=>({type:"DROP_ANIMATE",payload:e}),"animateDrop"),mn=o(e=>({type:"DROP_COMPLETE",payload:e}),"completeDrop"),Ao=o(e=>({type:"DROP",payload:e}),"drop"),dc=o(e=>({type:"DROP_PENDING",payload:e}),"dropPending"),Ro=o(()=>({type:"DROP_ANIMATION_FINISHED",payload:null}),"dropAnimationFinished");var uc=o(e=>({getState:t,dispatch:n})=>r=>s=>{if(!T(s,"LIFT")){r(s);return}const{id:i,clientSelection:a,movementMode:l}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n(mn({completed:c.completed})),t().phase!=="IDLE"&&y(),n(gn()),n(Kl({draggableId:i,movementMode:l}));const g={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:p,viewport:m}=e.startPublishing(g);n(Jl({critical:f,dimensions:p,clientSelection:a,movementMode:l,viewport:m}))},"lift"),pc=o(e=>()=>t=>n=>{T(n,"INITIAL_PUBLISH")&&e.dragging(),T(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(T(n,"FLUSH")||T(n,"DROP_COMPLETE"))&&e.resting(),t(n)},"style");const hn={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},He={opacity:{drop:0,combining:.7},scale:{drop:.75}},Oo={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},le=`${Oo.outOfTheWay}s ${hn.outOfTheWay}`,_e={fluid:`opacity ${le}`,snap:`transform ${le}, opacity ${le}`,drop:o(e=>{const t=`${e}s ${hn.drop}`;return`transform ${t}, opacity ${t}`},"drop"),outOfTheWay:`transform ${le}`,placeholder:`height ${le}, width ${le}, margin ${le}`},sr=o(e=>oe(e,_)?void 0:`translate(${e.x}px, ${e.y}px)`,"moveTo"),Ht={moveTo:sr,drop:o((e,t)=>{const n=sr(e);if(n)return t?`${n} scale(${He.scale.drop})`:n},"drop")},{minDropTime:Ut,maxDropTime:jo}=Oo,fc=jo-Ut,ir=1500,gc=.6;var mc=o(({current:e,destination:t,reason:n})=>{const r=$e(e,t);if(r<=0)return Ut;if(r>=ir)return jo;const s=r/ir,i=Ut+fc*s,a=n==="CANCEL"?i*gc:i;return Number(a.toFixed(2))},"getDropDuration"),hc=o(({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:i,droppables:a}=n,l=z(e),c=l?a[l]:null,d=a[t.descriptor.droppableId],g=Io({impact:e,draggable:t,draggables:i,afterCritical:s,droppable:c||d,viewport:r});return q(g,t.client.borderBox.center)},"getNewHomeClientOffset"),bc=o(({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:i})=>!n.at||t!=="DROP"?{impact:wo({draggables:e,impact:i,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:We},didDropInsideDroppable:!0},"getDropImpact");const xc=o(({getState:e,dispatch:t})=>n=>r=>{if(!T(r,"DROP")){n(r);return}const s=e(),i=r.payload.reason;if(s.phase==="COLLECTING"){t(dc({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&y(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||y();const l=s.critical,c=s.dimensions,d=c.draggables[s.critical.draggable.id],{impact:g,didDropInsideDroppable:f}=bc({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=f?ln(g):null,m=f?Dt(g):null,h={index:l.draggable.index,droppableId:l.droppable.id},x={draggableId:d.descriptor.id,type:d.descriptor.type,source:h,reason:i,mode:s.movementMode,destination:p,combine:m},b=hc({impact:g,draggable:d,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),D={critical:s.critical,afterCritical:s.afterCritical,result:x,impact:g};if(!(!oe(s.current.client.offset,b)||!!x.combine)){t(mn({completed:D}));return}const E=mc({current:s.current.client.offset,destination:b,reason:i});t(cc({newHomeClientOffset:b,dropDuration:E,completed:D}))},"dropMiddleware");var To=o(()=>({x:window.pageXOffset,y:window.pageYOffset}),"getWindowScroll");function vc(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:o(t=>{t.target!==window&&t.target!==window.document||e()},"fn")}}o(vc,"getWindowScrollBinding");function yc({onWindowScroll:e}){function t(){e(To())}o(t,"updateScroll");const n=ke(t),r=vc(n);let s=re;function i(){return s!==re}o(i,"isActive2");function a(){i()&&y(),s=J(window,[r])}o(a,"start2");function l(){i()||y(),n.cancel(),s(),s=re}return o(l,"stop"),{start:a,stop:l,isActive:i}}o(yc,"getScrollListener");const Dc=o(e=>T(e,"DROP_COMPLETE")||T(e,"DROP_ANIMATE")||T(e,"FLUSH"),"shouldStop$1"),Cc=o(e=>{const t=yc({onWindowScroll:o(n=>{e.dispatch(rc({newScroll:n}))},"onWindowScroll")});return n=>r=>{!t.isActive()&&T(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&Dc(r)&&t.stop(),n(r)}},"scrollListener");var Sc=o(e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=o(i=>{t||n||(t=!0,e(i),clearTimeout(r))},"result");return s.wasCalled=()=>t,s},"getExpiringAnnounce"),wc=o(()=>{const e=[],t=o(s=>{const i=e.findIndex(l=>l.timerId===s);i===-1&&y();const[a]=e.splice(i,1);a.callback()},"execute2");return{add:o(s=>{const i=setTimeout(()=>t(i)),a={timerId:i,callback:s};e.push(a)},"add2"),flush:o(()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})},"flush2")}},"getAsyncMarshal");const Ic=o((e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,"areLocationsEqual"),Ec=o((e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,"isCombineEqual"),Nc=o((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},"isCriticalEqual"),Oe=o((e,t)=>{t()},"withTimings"),Ze=o((e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}),"getDragStart");function Tt(e,t,n,r){if(!e){n(r(t));return}const s=Sc(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}o(Tt,"execute");var Pc=o((e,t)=>{const n=wc();let r=null;const s=o((f,p)=>{r&&y(),Oe("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:p})})},"beforeCapture"),i=o((f,p)=>{r&&y(),Oe("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(Ze(f,p))})},"beforeStart"),a=o((f,p)=>{r&&y();const m=Ze(f,p);r={mode:p,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{Oe("onDragStart",()=>Tt(e().onDragStart,m,t,rt.onDragStart))})},"start2"),l=o((f,p)=>{const m=ln(p),h=Dt(p);r||y();const x=!Nc(f,r.lastCritical);x&&(r.lastCritical=f);const b=!Ic(r.lastLocation,m);b&&(r.lastLocation=m);const D=!Ec(r.lastCombine,h);if(D&&(r.lastCombine=h),!x&&!b&&!D)return;const C={...Ze(f,r.mode),combine:h,destination:m};n.add(()=>{Oe("onDragUpdate",()=>Tt(e().onDragUpdate,C,t,rt.onDragUpdate))})},"update2"),c=o(()=>{r||y(),n.flush()},"flush2"),d=o(f=>{r||y(),r=null,Oe("onDragEnd",()=>Tt(e().onDragEnd,f,t,rt.onDragEnd))},"drop2");return{beforeCapture:s,beforeStart:i,start:a,update:l,flush:c,drop:d,abort:o(()=>{if(!r)return;const f={...Ze(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(f)},"abort")}},"getPublisher"),Ac=o((e,t)=>{const n=Pc(e,t);return r=>s=>i=>{if(T(i,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(T(i,"INITIAL_PUBLISH")){const l=i.payload.critical;n.beforeStart(l,i.payload.movementMode),s(i),n.start(l,i.payload.movementMode);return}if(T(i,"DROP_COMPLETE")){const l=i.payload.completed.result;n.flush(),s(i),n.drop(l);return}if(s(i),T(i,"FLUSH")){n.abort();return}const a=r.getState();a.phase==="DRAGGING"&&n.update(a.critical,a.impact)}},"responders");const Rc=o(e=>t=>n=>{if(!T(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&y(),e.dispatch(mn({completed:r.completed}))},"dropAnimationFinishMiddleware"),Oc=o(e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return o(r,"clear"),s=>i=>{if((T(i,"FLUSH")||T(i,"DROP_COMPLETE")||T(i,"DROP_ANIMATION_FINISHED"))&&r(),s(i),!T(i,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:o(function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Ro())},"flushDropAnimation")};n=requestAnimationFrame(()=>{n=null,t=J(window,[a])})}},"dropAnimationFlushOnScrollMiddleware");var jc=o(e=>()=>t=>n=>{(T(n,"DROP_COMPLETE")||T(n,"FLUSH")||T(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},"dimensionMarshalStopper"),Tc=o(e=>{let t=!1;return()=>n=>r=>{if(T(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(T(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(T(r,"DROP_COMPLETE")){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}},"focus");const Bc=o(e=>T(e,"DROP_COMPLETE")||T(e,"DROP_ANIMATE")||T(e,"FLUSH"),"shouldStop");var Lc=o(e=>t=>n=>r=>{if(Bc(r)){e.stop(),n(r);return}if(T(r,"INITIAL_PUBLISH")){n(r);const s=t.getState();s.phase!=="DRAGGING"&&y(),e.start(s);return}n(r),e.scroll(t.getState())},"autoScroll");const Mc=o(e=>t=>n=>{if(t(n),!T(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(Ao({reason:r.reason})))},"pendingDrop"),_c=Yr;var Fc=o(({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:i})=>zr(Yl,_c(Mi(pc(n),jc(e),uc(e),xc,Rc,Oc,Mc,Lc(i),Cc,Tc(t),Ac(r,s)))),"createStore");const Bt=o(()=>({additions:{},removals:{},modified:{}}),"clean$1");function Gc({registry:e,callbacks:t}){let n=Bt(),r=null;const s=o(()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:d,modified:g}=n,f=Object.keys(c).map(h=>e.draggable.getById(h).getDimension(_)).sort((h,x)=>h.descriptor.index-x.descriptor.index),p=Object.keys(g).map(h=>{const b=e.droppable.getById(h).callbacks.getScrollWhileDragging();return{droppableId:h,scroll:b}}),m={additions:f,removals:Object.keys(d),modified:p};n=Bt(),t.publish(m)}))},"collect");return{add:o(c=>{const d=c.descriptor.id;n.additions[d]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],s()},"add2"),remove:o(c=>{const d=c.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],s()},"remove"),stop:o(()=>{r&&(cancelAnimationFrame(r),r=null,n=Bt())},"stop")}}o(Gc,"createPublisher");var Bo=o(({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=q({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},"getMaxScroll"),Lo=o(()=>{const e=document.documentElement;return e||y(),e},"getDocumentElement"),Mo=o(()=>{const e=Lo();return Bo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},"getMaxWindowScroll"),kc=o(()=>{const e=To(),t=Mo(),n=e.y,r=e.x,s=Lo(),i=s.clientWidth,a=s.clientHeight,l=r+i,c=n+a;return{frame:Z({top:n,left:r,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:_,displacement:_}}}},"getViewport"),$c=o(({critical:e,scrollOptions:t,registry:n})=>{const r=kc(),s=r.scroll.current,i=e.droppable,a=n.droppable.getAllByType(i.type).map(g=>g.callbacks.getDimensionAndWatchScroll(s,t)),l=n.draggable.getAllByType(e.draggable.type).map(g=>g.getDimension(s));return{dimensions:{draggables:co(l),droppables:lo(a)},critical:e,viewport:r}},"getInitialPublish");function ar(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}o(ar,"shouldPublishUpdate");var Wc=o((e,t)=>{let n=null;const r=Gc({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=o((p,m)=>{e.droppable.exists(p)||y(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},"updateDroppableIsEnabled2"),i=o((p,m)=>{n&&(e.droppable.exists(p)||y(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},"updateDroppableIsCombineEnabled2"),a=o((p,m)=>{n&&(e.droppable.exists(p)||y(),t.updateDroppableScroll({id:p,newScroll:m}))},"updateDroppableScroll2"),l=o((p,m)=>{n&&e.droppable.getById(p).callbacks.scroll(m)},"scrollDroppable2"),c=o(()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},"stopPublishing"),d=o(p=>{n||y();const m=n.critical.draggable;p.type==="ADDITION"&&ar(e,m,p.value)&&r.add(p.value),p.type==="REMOVAL"&&ar(e,m,p.value)&&r.remove(p.value)},"subscriber");return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:o(p=>{n&&y();const m=e.draggable.getById(p.draggableId),h=e.droppable.getById(m.descriptor.droppableId),x={draggable:m.descriptor,droppable:h.descriptor},b=e.subscribe(d);return n={critical:x,unsubscribe:b},$c({critical:x,registry:e,scrollOptions:p.scrollOptions})},"startPublishing"),stopPublishing:c}},"createDimensionMarshal"),_o=o((e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP","canStartDrag"),Vc=o(e=>{window.scrollBy(e.x,e.y)},"scrollWindow");const Hc=M(e=>yt(e).filter(t=>!(!t.isEnabled||!t.frame))),Uc=o((e,t)=>Hc(t).find(r=>(r.frame||y(),yo(r.frame.pageMarginBox)(e)))||null,"getScrollableDroppableOver");var qc=o(({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return Uc(e,n)},"getBestScrollableDroppable");const Ue={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:o(e=>e**2,"ease"),durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var zc=o((e,t,n=()=>Ue)=>{const r=n(),s=e[t.size]*r.startFromPercentage,i=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},"getDistanceThresholds"),Fo=o(({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},"getPercentage"),bn=1,Yc=o((e,t,n=()=>Ue)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return bn;const i=1-Fo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=r.maxPixelScroll*r.ease(i);return Math.ceil(a)},"getValueFromDistance"),Kc=o((e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,a=t,l=i,d=Date.now()-a;if(d>=i)return e;if(d<s)return bn;const g=Fo({startOfRange:s,endOfRange:l,current:d}),f=e*r.ease(g);return Math.ceil(f)},"dampenValueByTime"),lr=o(({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const i=Yc(e,t,s);return i===0?0:r?Math.max(Kc(i,n,s),bn):i},"getValue"),cr=o(({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=zc(e,r,i);return t[r.end]<t[r.start]?lr({distanceToEdge:t[r.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*lr({distanceToEdge:t[r.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},"getScrollOnAxis"),Xc=o(({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}},"adjustForSizeLimits");const Jc=ao(e=>e===0?0:e);var Go=o(({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=cr({container:t,distanceToEdges:a,dragStartTime:e,axis:cn,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=cr({container:t,distanceToEdges:a,dragStartTime:e,axis:fo,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),d=Jc({x:c,y:l});if(oe(d,_))return null;const g=Xc({container:t,subject:n,proposedScroll:d});return g?oe(g,_)?null:g:null},"getScroll$1");const Qc=ao(e=>e===0?0:e>0?1:-1),xn=(()=>{const e=o((t,n)=>t<0?t:t>n?t-n:0,"getRemainder");return({current:t,max:n,change:r})=>{const s=G(t,r),i={x:e(s.x,n.x),y:e(s.y,n.y)};return oe(i,_)?null:i}})(),ko=o(({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=Qc(n),i=xn({max:r,current:t,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},"canPartiallyScroll"),vn=o((e,t)=>ko({current:e.scroll.current,max:e.scroll.max,change:t}),"canScrollWindow"),Zc=o((e,t)=>{if(!vn(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return xn({current:r,max:n,change:t})},"getWindowOverlap"),yn=o((e,t)=>{const n=e.frame;return n?ko({current:n.scroll.current,max:n.scroll.max,change:t}):!1},"canScrollDroppable"),ed=o((e,t)=>{const n=e.frame;return!n||!yn(e,t)?null:xn({current:n.scroll.current,max:n.scroll.max,change:t})},"getDroppableOverlap");var td=o(({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=Go({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return a&&vn(e,a)?a:null},"getWindowScrollChange"),nd=o(({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const a=e.frame;if(!a)return null;const l=Go({dragStartTime:r,container:a.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return l&&yn(e,l)?l:null},"getDroppableScrollChange"),dr=o(({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:i})=>{const a=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,p=td({dragStartTime:t,viewport:f,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(p){r(p);return}}const d=qc({center:a,destination:z(e.impact),droppables:e.dimensions.droppables});if(!d)return;const g=nd({dragStartTime:t,droppable:d,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});g&&s(d.descriptor.id,g)},"scroll"),rd=o(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=o(()=>Ue,"getAutoScrollerOptions")})=>{const r=ke(e),s=ke(t);let i=null;const a=o(d=>{i||y();const{shouldUseTimeDampening:g,dragStartTime:f}=i;dr({state:d,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:g,getAutoScrollerOptions:n})},"tryScroll");return{start:o(d=>{i&&y();const g=Date.now();let f=!1;const p=o(()=>{f=!0},"fakeScrollCallback");dr({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),i={dragStartTime:g,shouldUseTimeDampening:f},f&&a(d)},"start$1"),stop:o(()=>{i&&(r.cancel(),s.cancel(),i=null)},"stop"),scroll:a}},"createFluidScroller"),od=o(({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=o((l,c)=>{const d=G(l.current.client.selection,c);e({client:d})},"moveByOffset"),s=o((l,c)=>{if(!yn(l,c))return c;const d=ed(l,c);if(!d)return t(l.descriptor.id,c),null;const g=q(c,d);return t(l.descriptor.id,g),q(c,g)},"scrollDroppableAsMuchAsItCan"),i=o((l,c,d)=>{if(!l||!vn(c,d))return d;const g=Zc(c,d);if(!g)return n(d),null;const f=q(d,g);return n(f),q(d,f)},"scrollWindowAsMuchAsItCan");return o(l=>{const c=l.scrollJumpRequest;if(!c)return;const d=z(l.impact);d||y();const g=s(l.dimensions.droppables[d],c);if(!g)return;const f=l.viewport,p=i(l.isWindowScrollAllowed,f,g);p&&r(l,p)},"jumpScroller")},"createJumpScroller"),sd=o(({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=rd({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),i=od({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:o(c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&i(c)}},"scroll2"),start:s.start,stop:s.stop}},"createAutoScroller");const he="data-rfd",be=(()=>{const e=`${he}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),qt=(()=>{const e=`${he}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),id=(()=>{const e=`${he}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),ur={contextId:`${he}-scroll-container-context-id`},ad=o(e=>t=>`[${t}="${e}"]`,"makeGetSelector"),je=o((e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),"getStyles"),ld="pointer-events: none;";var cd=o(e=>{const t=ad(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(be.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:ld,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${_e.outOfTheWay};
    `;return{selector:t(qt.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:t(id.contextId),styles:{always:"overflow-anchor: none;"}},a=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:je(a,"always"),resting:je(a,"resting"),dragging:je(a,"dragging"),dropAnimating:je(a,"dropAnimating"),userCancel:je(a,"userCancel")}},"getStyles$1");const Y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,Lt=o(()=>{const e=document.querySelector("head");return e||y(),e},"getHead"),pr=o(e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},"createStyleEl");function dd(e,t){const n=R(()=>cd(e),[e]),r=v.useRef(null),s=v.useRef(null),i=I(M(f=>{const p=s.current;p||y(),p.textContent=f}),[]),a=I(f=>{const p=r.current;p||y(),p.textContent=f},[]);Y(()=>{!r.current&&!s.current||y();const f=pr(t),p=pr(t);return r.current=f,s.current=p,f.setAttribute(`${he}-always`,e),p.setAttribute(`${he}-dynamic`,e),Lt().appendChild(f),Lt().appendChild(p),a(n.always),i(n.resting),()=>{const m=o(h=>{const x=h.current;x||y(),Lt().removeChild(x),h.current=null},"remove");m(r),m(s)}},[t,a,i,n.always,n.resting,e]);const l=I(()=>i(n.dragging),[i,n.dragging]),c=I(f=>{if(f==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),d=I(()=>{s.current&&i(n.resting)},[i,n.resting]);return R(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}o(dd,"useStyleMarshal");function $o(e,t){return Array.from(e.querySelectorAll(t))}o($o,"querySelectorAll");var Wo=o(e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window,"getWindowFromEl");function wt(e){return e instanceof Wo(e).HTMLElement}o(wt,"isHtmlElement");function ud(e,t){const n=`[${be.contextId}="${e}"]`,r=$o(document,n);if(!r.length)return null;const s=r.find(i=>i.getAttribute(be.draggableId)===t);return!s||!wt(s)?null:s}o(ud,"findDragHandle");function pd(e){const t=v.useRef({}),n=v.useRef(null),r=v.useRef(null),s=v.useRef(!1),i=I(o(function(p,m){const h={id:p,focus:m};return t.current[p]=h,o(function(){const b=t.current;b[p]!==h&&delete b[p]},"unregister")},"register2"),[]),a=I(o(function(p){const m=ud(e,p);m&&m!==document.activeElement&&m.focus()},"tryGiveFocus2"),[e]),l=I(o(function(p,m){n.current===p&&(n.current=m)},"tryShiftRecord2"),[]),c=I(o(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&a(p)}))},"tryRestoreFocusRecorded2"),[a]),d=I(o(function(p){n.current=null;const m=document.activeElement;m&&m.getAttribute(be.draggableId)===p&&(n.current=p)},"tryRecordFocus2"),[]);return Y(()=>(s.current=!0,o(function(){s.current=!1;const p=r.current;p&&cancelAnimationFrame(p)},"clearFrameOnUnmount")),[]),R(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,d,c,l])}o(pd,"useFocusMarshal");function fd(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),o(function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)},"unsubscribe")}o(n,"subscribe");function r(f){t.length&&t.forEach(p=>p(f))}o(r,"notify");function s(f){return e.draggables[f]||null}o(s,"findDraggableById");function i(f){const p=s(f);return p||y(),p}o(i,"getDraggableById");const a={register:o(f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},"register"),update:o((f,p)=>{const m=e.draggables[p.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[f.descriptor.id]=f)},"update"),unregister:o(f=>{const p=f.descriptor.id,m=s(p);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[p],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},"unregister"),getById:i,findById:s,exists:o(f=>!!s(f),"exists"),getAllByType:o(f=>Object.values(e.draggables).filter(p=>p.descriptor.type===f),"getAllByType")};function l(f){return e.droppables[f]||null}o(l,"findDroppableById");function c(f){const p=l(f);return p||y(),p}o(c,"getDroppableById");const d={register:o(f=>{e.droppables[f.descriptor.id]=f},"register"),unregister:o(f=>{const p=l(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete e.droppables[f.descriptor.id]},"unregister"),getById:c,findById:l,exists:o(f=>!!l(f),"exists"),getAllByType:o(f=>Object.values(e.droppables).filter(p=>p.descriptor.type===f),"getAllByType")};function g(){e.draggables={},e.droppables={},t.length=0}return o(g,"clean2"),{draggable:a,droppable:d,subscribe:n,clean:g}}o(fd,"createRegistry");function gd(){const e=R(fd,[]);return v.useEffect(()=>o(function(){e.clean()},"unmount"),[e]),e}o(gd,"useRegistry");var Dn=L.createContext(null),ut=o(()=>{const e=document.body;return e||y(),e},"getBodyElement");const md={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},hd=o(e=>`rfd-announcement-${e}`,"getId");function bd(e){const t=R(()=>hd(e),[e]),n=v.useRef(null);return v.useEffect(o(function(){const i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Ir(i.style,md),ut().appendChild(i),o(function(){setTimeout(o(function(){const c=ut();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)},"remove"))},"cleanup")},"setup"),[t]),I(s=>{const i=n.current;if(i){i.textContent=s;return}},[])}o(bd,"useAnnouncer");const xd={separator:"::"};function Cn(e,t=xd){const n=L.useId();return R(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}o(Cn,"useUniqueId");function vd({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}o(vd,"getElementId");function yd({contextId:e,text:t}){const n=Cn("hidden-text",{separator:"-"}),r=R(()=>vd({contextId:e,uniqueId:n}),[n,e]);return v.useEffect(o(function(){const i=document.createElement("div");return i.id=r,i.textContent=t,i.style.display="none",ut().appendChild(i),o(function(){const l=ut();l.contains(i)&&l.removeChild(i)},"unmount")},"mount"),[r,t]),r}o(yd,"useHiddenTextElement");var It=L.createContext(null);function Vo(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}o(Vo,"usePrevious");function Dd(){let e=null;function t(){return!!e}o(t,"isClaimed");function n(a){return a===e}o(n,"isActive2");function r(a){e&&y();const l={abandon:a};return e=l,l}o(r,"claim");function s(){e||y(),e=null}o(s,"release");function i(){e&&(e.abandon(),s())}return o(i,"tryAbandon"),{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:i}}o(Dd,"create");function qe(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}o(qe,"isDragging");const Cd=9,Sd=13,Sn=27,Ho=32,wd=33,Id=34,Ed=35,Nd=36,Pd=37,Ad=38,Rd=39,Od=40,jd={[Sd]:!0,[Cd]:!0};var Uo=o(e=>{jd[e.keyCode]&&e.preventDefault()},"preventStandardKeyEvents");const Et=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),qo=0,fr=5;function Td(e,t){return Math.abs(t.x-e.x)>=fr||Math.abs(t.y-e.y)>=fr}o(Td,"isSloppyClickThresholdExceeded");const gr={type:"IDLE"};function Bd({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:o(s=>{const{button:i,clientX:a,clientY:l}=s;if(i!==qo)return;const c={x:a,y:l},d=n();if(d.type==="DRAGGING"){s.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&y();const g=d.point;if(!Td(g,c))return;s.preventDefault();const f=d.actions.fluidLift(c);r({type:"DRAGGING",actions:f})},"fn")},{eventName:"mouseup",fn:o(s=>{const i=n();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()},"fn")},{eventName:"mousedown",fn:o(s=>{n().type==="DRAGGING"&&s.preventDefault(),e()},"fn")},{eventName:"keydown",fn:o(s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===Sn){s.preventDefault(),e();return}Uo(s)},"fn")},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:o(()=>{n().type==="PENDING"&&e()},"fn")},{eventName:"webkitmouseforcedown",fn:o(s=>{const i=n();if(i.type==="IDLE"&&y(),i.actions.shouldRespectForcePress()){e();return}s.preventDefault()},"fn")},{eventName:Et,fn:e}]}o(Bd,"getCaptureBindings");function Ld(e){const t=v.useRef(gr),n=v.useRef(re),r=R(()=>({eventName:"mousedown",fn:o(function(f){if(f.defaultPrevented||f.button!==qo||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const p=e.findClosestDraggableId(f);if(!p)return;const m=e.tryGetLock(p,a,{sourceEvent:f});if(!m)return;f.preventDefault();const h={x:f.clientX,y:f.clientY};n.current(),d(m,h)},"onMouseDown")}),[e]),s=R(()=>({eventName:"webkitmouseforcewillbegin",fn:o(g=>{if(g.defaultPrevented)return;const f=e.findClosestDraggableId(g);if(!f)return;const p=e.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||e.canGetLock(f)&&g.preventDefault())},"fn")}),[e]),i=I(o(function(){const f={passive:!1,capture:!0};n.current=J(window,[s,r],f)},"listenForCapture2"),[s,r]),a=I(()=>{t.current.type!=="IDLE"&&(t.current=gr,n.current(),i())},[i]),l=I(()=>{const g=t.current;a(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[a]),c=I(o(function(){const f={capture:!0,passive:!1},p=Bd({cancel:l,completed:a,getPhase:o(()=>t.current,"getPhase"),setPhase:o(m=>{t.current=m},"setPhase")});n.current=J(window,p,f)},"bindCapturingEvents2"),[l,a]),d=I(o(function(f,p){t.current.type!=="IDLE"&&y(),t.current={type:"PENDING",point:p,actions:f},c()},"startPendingDrag2"),[c]);Y(o(function(){return i(),o(function(){n.current()},"unmount")},"mount"),[i])}o(Ld,"useMouseSensor");function Md(){}o(Md,"noop$1");const _d={[Id]:!0,[wd]:!0,[Nd]:!0,[Ed]:!0};function Fd(e,t){function n(){t(),e.cancel()}o(n,"cancel");function r(){t(),e.drop()}return o(r,"drop2"),[{eventName:"keydown",fn:o(s=>{if(s.keyCode===Sn){s.preventDefault(),n();return}if(s.keyCode===Ho){s.preventDefault(),r();return}if(s.keyCode===Od){s.preventDefault(),e.moveDown();return}if(s.keyCode===Ad){s.preventDefault(),e.moveUp();return}if(s.keyCode===Rd){s.preventDefault(),e.moveRight();return}if(s.keyCode===Pd){s.preventDefault(),e.moveLeft();return}if(_d[s.keyCode]){s.preventDefault();return}Uo(s)},"fn")},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Et,fn:n}]}o(Fd,"getDraggingBindings");function Gd(e){const t=v.useRef(Md),n=R(()=>({eventName:"keydown",fn:o(function(i){if(i.defaultPrevented||i.keyCode!==Ho)return;const a=e.findClosestDraggableId(i);if(!a)return;const l=e.tryGetLock(a,g,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const d=l.snapLift();t.current();function g(){c||y(),c=!1,t.current(),r()}o(g,"stop"),t.current=J(window,Fd(d,g),{capture:!0,passive:!1})},"onKeyDown")}),[e]),r=I(o(function(){const i={passive:!1,capture:!0};t.current=J(window,[n],i)},"tryStartCapture"),[n]);Y(o(function(){return r(),o(function(){t.current()},"unmount")},"mount"),[r])}o(Gd,"useKeyboardSensor");const Mt={type:"IDLE"},kd=120,$d=.15;function Wd({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:o(n=>{n.preventDefault()},"fn")},{eventName:"keydown",fn:o(n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Sn&&n.preventDefault(),e()},"fn")},{eventName:Et,fn:e}]}o(Wd,"getWindowBindings");function Vd({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:o(r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:i,clientY:a}=r.touches[0],l={x:i,y:a};r.preventDefault(),s.actions.move(l)},"fn")},{eventName:"touchend",fn:o(r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()},"fn")},{eventName:"touchcancel",fn:o(r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()},"fn")},{eventName:"touchforcechange",fn:o(r=>{const s=n();s.type==="IDLE"&&y();const i=r.touches[0];if(!i||!(i.force>=$d))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&e();return}if(l){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()},"fn")},{eventName:Et,fn:e}]}o(Vd,"getHandleBindings");function Hd(e){const t=v.useRef(Mt),n=v.useRef(re),r=I(o(function(){return t.current},"getPhase2"),[]),s=I(o(function(m){t.current=m},"setPhase2"),[]),i=R(()=>({eventName:"touchstart",fn:o(function(m){if(m.defaultPrevented)return;const h=e.findClosestDraggableId(m);if(!h)return;const x=e.tryGetLock(h,l,{sourceEvent:m});if(!x)return;const b=m.touches[0],{clientX:D,clientY:C}=b,E={x:D,y:C};n.current(),f(x,E)},"onTouchStart")}),[e]),a=I(o(function(){const m={capture:!0,passive:!1};n.current=J(window,[i],m)},"listenForCapture2"),[i]),l=I(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(Mt),n.current(),a())},[a,s]),c=I(()=>{const p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),d=I(o(function(){const m={capture:!0,passive:!1},h={cancel:c,completed:l,getPhase:r},x=J(window,Vd(h),m),b=J(window,Wd(h),m);n.current=o(function(){x(),b()},"unbindAll")},"bindCapturingEvents2"),[c,r,l]),g=I(o(function(){const m=r();m.type!=="PENDING"&&y();const h=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:h,hasMoved:!1})},"startDragging2"),[r,s]),f=I(o(function(m,h){r().type!=="IDLE"&&y();const x=setTimeout(g,kd);s({type:"PENDING",point:h,actions:m,longPressTimerId:x}),d()},"startPendingDrag2"),[d,r,s,g]);Y(o(function(){return a(),o(function(){n.current();const h=r();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),s(Mt))},"unmount")},"mount"),[r,a,s]),Y(o(function(){return J(window,[{eventName:"touchmove",fn:o(()=>{},"fn"),options:{capture:!1,passive:!1}}])},"webkitHack"),[])}o(Hd,"useTouchSensor");const Ud=["input","button","textarea","select","option","optgroup","video","audio"];function zo(e,t){if(t==null)return!1;if(Ud.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:zo(e,t.parentElement)}o(zo,"isAnInteractiveElement");function qd(e,t){const n=t.target;return wt(n)?zo(e,n):!1}o(qd,"isEventInInteractiveElement");var zd=o(e=>Z(e.getBoundingClientRect()).center,"getBorderBoxCenterPosition");function Yd(e){return e instanceof Wo(e).Element}o(Yd,"isElement");const Kd=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Yo(e,t){return e==null?null:e[Kd](t)?e:Yo(e.parentElement,t)}o(Yo,"closestPonyfill");function Xd(e,t){return e.closest?e.closest(t):Yo(e,t)}o(Xd,"closest");function Jd(e){return`[${be.contextId}="${e}"]`}o(Jd,"getSelector");function Qd(e,t){const n=t.target;if(!Yd(n))return null;const r=Jd(e),s=Xd(n,r);return!s||!wt(s)?null:s}o(Qd,"findClosestDragHandleFromEvent");function Zd(e,t){const n=Qd(e,t);return n?n.getAttribute(be.draggableId):null}o(Zd,"tryGetClosestDraggableIdFromEvent");function eu(e,t){const n=`[${qt.contextId}="${e}"]`,s=$o(document,n).find(i=>i.getAttribute(qt.id)===t);return!s||!wt(s)?null:s}o(eu,"findDraggable");function tu(e){e.preventDefault()}o(tu,"preventDefault");function et({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}o(et,"isActive");function Ko({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!_o(t.getState(),r))}o(Ko,"canStart");function nu({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:i,sourceEvent:a}){if(!Ko({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),d=eu(t,c.descriptor.id);if(!d||a&&!c.options.canDragInteractiveElements&&qd(d,a))return null;const g=e.claim(i||re);let f="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}o(p,"getShouldRespectForcePress");function m(){return e.isActive(g)}o(m,"isLockActive");function h(w,N){et({expected:w,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(N())}o(h,"tryDispatch");const x=h.bind(null,"DRAGGING");function b(w){function N(){e.release(),f="COMPLETED"}o(N,"completed"),f!=="PRE_DRAG"&&(N(),y()),n.dispatch(Xl(w.liftActionArgs)),f="DRAGGING";function O(j,k={shouldBlockNextClick:!1}){if(w.cleanup(),k.shouldBlockNextClick){const P=J(window,[{eventName:"click",fn:tu,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}N(),n.dispatch(Ao({reason:j}))}return o(O,"finish2"),{isActive:o(()=>et({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),"isActive"),shouldRespectForcePress:p,drop:o(j=>O("DROP",j),"drop"),cancel:o(j=>O("CANCEL",j),"cancel"),...w.actions}}o(b,"lift2");function D(w){const N=ke(j=>{x(()=>Po({client:j}))});return{...b({liftActionArgs:{id:s,clientSelection:w,movementMode:"FLUID"},cleanup:o(()=>N.cancel(),"cleanup"),actions:{move:N}}),move:N}}o(D,"fluidLift");function C(){const w={moveUp:o(()=>x(sc),"moveUp"),moveRight:o(()=>x(ac),"moveRight"),moveDown:o(()=>x(ic),"moveDown"),moveLeft:o(()=>x(lc),"moveLeft")};return b({liftActionArgs:{id:s,clientSelection:zd(d),movementMode:"SNAP"},cleanup:re,actions:w})}o(C,"snapLift");function E(){et({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return o(E,"abortPreDrag"),{isActive:o(()=>et({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),"isActive"),shouldRespectForcePress:p,fluidLift:D,snapLift:C,abort:E}}o(nu,"tryStart");const ru=[Ld,Gd,Hd];function ou({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const i=[...s?ru:[],...r||[]],a=v.useState(()=>Dd())[0],l=I(o(function(b,D){qe(b)&&!qe(D)&&a.tryAbandon()},"tryAbandonLock2"),[a]);Y(o(function(){let b=t.getState();return t.subscribe(()=>{const C=t.getState();l(b,C),b=C})},"listenToStore"),[a,t,l]),Y(()=>a.tryAbandon,[a.tryAbandon]);const c=I(x=>Ko({lockAPI:a,registry:n,store:t,draggableId:x}),[a,n,t]),d=I((x,b,D)=>nu({lockAPI:a,registry:n,contextId:e,store:t,draggableId:x,forceSensorStop:b||null,sourceEvent:D&&D.sourceEvent?D.sourceEvent:null}),[e,a,n,t]),g=I(x=>Zd(e,x),[e]),f=I(x=>{const b=n.draggable.findById(x);return b?b.options:null},[n.draggable]),p=I(o(function(){a.isClaimed()&&(a.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(gn()))},"tryReleaseLock2"),[a,t]),m=I(()=>a.isClaimed(),[a]),h=R(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:g,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}),[c,d,g,f,p,m]);for(let x=0;x<i.length;x++)i[x](h)}o(ou,"useSensorMarshal");const su=o(e=>({onBeforeCapture:o(t=>{const n=o(()=>{e.onBeforeCapture&&e.onBeforeCapture(t)},"onBeforeCapureCallback");Er.flushSync(n)},"onBeforeCapture"),onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),"createResponders"),iu=o(e=>({...Ue,...e.autoScrollerOptions,durationDampening:{...Ue.durationDampening,...e.autoScrollerOptions}}),"createAutoScrollerOptions");function Te(e){return e.current||y(),e.current}o(Te,"getStore");function au(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:i}=e,a=v.useRef(null),l=Vo(e),c=I(()=>su(l.current),[l]),d=I(()=>iu(l.current),[l]),g=bd(t),f=yd({contextId:t,text:i}),p=dd(t,s),m=I(P=>{Te(a).dispatch(P)},[]),h=R(()=>kn({publishWhileDragging:Ql,updateDroppableScroll:ec,updateDroppableIsEnabled:tc,updateDroppableIsCombineEnabled:nc,collectionStarting:Zl},m),[m]),x=gd(),b=R(()=>Wc(x,h),[x,h]),D=R(()=>sd({scrollWindow:Vc,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:d,...kn({move:Po},m)}),[b.scrollDroppable,m,d]),C=pd(t),E=R(()=>Fc({announce:g,autoScroller:D,dimensionMarshal:b,focusMarshal:C,getResponders:c,styleMarshal:p}),[g,D,b,C,c,p]);a.current=E;const S=I(()=>{const P=Te(a);P.getState().phase!=="IDLE"&&P.dispatch(gn())},[]),w=I(()=>{const P=Te(a).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),N=R(()=>({isDragging:w,tryAbort:S}),[w,S]);n(N);const O=I(P=>_o(Te(a).getState(),P),[]),j=I(()=>ce(Te(a).getState()),[]),k=R(()=>({marshal:b,focus:C,contextId:t,canLift:O,isMovementAllowed:j,dragHandleUsageInstructionsId:f,registry:x}),[t,b,f,C,O,j,x]);return ou({contextId:t,store:E,registry:x,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>S,[S]),L.createElement(It.Provider,{value:k},L.createElement(Ta,{context:Dn,store:E},e.children))}o(au,"App");function lu(){return L.useId()}o(lu,"useUniqueContextId");function cu(e){const t=lu(),n=e.dragHandleUsageInstructions||rt.dragHandleUsageInstructions;return L.createElement($t,null,r=>L.createElement(au,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}o(cu,"DragDropContext");const mr={dragging:5e3,dropAnimating:4500},du=o((e,t)=>t?_e.drop(t.duration):e?_e.snap:_e.fluid,"getDraggingTransition"),uu=o((e,t)=>{if(e)return t?He.opacity.drop:He.opacity.combining},"getDraggingOpacity"),pu=o(e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP","getShouldDraggingAnimate");function fu(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:i}=e,a=!!s,l=pu(e),c=!!i,d=c?Ht.drop(r,a):Ht.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:du(l,i),transform:d,opacity:uu(a,c),zIndex:c?mr.dropAnimating:mr.dragging,pointerEvents:"none"}}o(fu,"getDraggingStyle");function gu(e){return{transform:Ht.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}o(gu,"getSecondaryStyle");function mu(e){return e.type==="DRAGGING"?fu(e):gu(e)}o(mu,"getStyle$1");function hu(e,t,n=_){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=to(s,r),a=lt(i,n),l={client:i,tagName:t.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:a}}o(hu,"getDimension$1");function bu(e){const t=Cn("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}=e,c=R(()=>({canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}),[i,l,a]),d=I(m=>{const h=s();return h||y(),hu(n,h,m)},[n,s]),g=R(()=>({uniqueId:t,descriptor:n,options:c,getDimension:d}),[n,d,c,t]),f=v.useRef(g),p=v.useRef(!0);Y(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),Y(()=>{if(p.current){p.current=!1;return}const m=f.current;f.current=g,r.draggable.update(g,m)},[g,r.draggable])}o(bu,"useDraggablePublisher");var wn=L.createContext(null);function pt(e){const t=v.useContext(e);return t||y(),t}o(pt,"useRequiredContext");function xu(e){e.preventDefault()}o(xu,"preventHtml5Dnd");const vu=o(e=>{const t=v.useRef(null),n=I((N=null)=>{t.current=N},[]),r=I(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:a}=pt(It),{type:l,droppableId:c}=pt(wn),d=R(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:g,draggableId:f,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:h,isClone:x,mapped:b,dropAnimationFinished:D}=e;if(!x){const N=R(()=>({descriptor:d,registry:a,getDraggableRef:r,canDragInteractiveElements:h,shouldRespectForcePress:m,isEnabled:p}),[d,a,r,h,m,p]);bu(N)}const C=R(()=>p?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:xu}:null,[s,i,f,p]),E=I(N=>{b.type==="DRAGGING"&&b.dropping&&N.propertyName==="transform"&&Er.flushSync(D)},[D,b]),S=R(()=>{const N=mu(b),O=b.type==="DRAGGING"&&b.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:N,onTransitionEnd:O},dragHandleProps:C}},[s,C,f,b,E,n]),w=R(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return L.createElement(L.Fragment,null,g(S,b.snapshot,w))},"Draggable");var Xo=o((e,t)=>e===t,"isStrictEqual"),Jo=o(e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null},"whatIsDraggedOverFromResult");const yu=o(e=>e.combine?e.combine.draggableId:null,"getCombineWithFromResult"),Du=o(e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null,"getCombineWithFromImpact");function Cu(){const e=M((s,i)=>({x:s,y:i})),t=M((s,i,a=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:a,combineWith:l,combineTargetFor:null})),n=M((s,i,a,l,c=null,d=null,g=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:s,dimension:a,forceShouldAnimate:g,snapshot:t(i,l,c,d,null)}}));return o((s,i)=>{if(qe(s)){if(s.critical.draggable.id!==i.draggableId)return null;const a=s.current.client.offset,l=s.dimensions.draggables[i.draggableId],c=z(s.impact),d=Du(s.impact),g=s.forceShouldAnimate;return n(e(a.x,a.y),s.movementMode,l,i.isClone,c,d,g)}if(s.phase==="DROP_ANIMATING"){const a=s.completed;if(a.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=s.dimensions.draggables[i.draggableId],d=a.result,g=d.mode,f=Jo(d),p=yu(d),h={duration:s.dropDuration,curve:hn.drop,moveTo:s.newHomeClientOffset,opacity:p?He.opacity.drop:null,scale:p?He.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:h,draggingOver:f,combineWith:p,mode:g,forceShouldAnimate:null,snapshot:t(g,l,f,p,h)}}}return null},"selector")}o(Cu,"getDraggableSelector");function Qo(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}o(Qo,"getSecondarySnapshot");const Su={mapped:{type:"SECONDARY",offset:_,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Qo(null)}};function wu(){const e=M((a,l)=>({x:a,y:l})),t=M(Qo),n=M((a,l=null,c)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),r=o(a=>a?n(_,a,!0):null,"getFallback"),s=o((a,l,c,d)=>{const g=c.displaced.visible[a],f=!!(d.inVirtualList&&d.effected[a]),p=Dt(c),m=p&&p.draggableId===a?l:null;if(!g){if(!f)return r(m);if(c.displaced.invisible[a])return null;const b=Ce(d.displacedBy.point),D=e(b.x,b.y);return n(D,m,!0)}if(f)return r(m);const h=c.displacedBy.point,x=e(h.x,h.y);return n(x,m,g.shouldAnimate)},"getProps");return o((a,l)=>{if(qe(a))return a.critical.draggable.id===l.draggableId?null:s(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const c=a.completed;return c.result.draggableId===l.draggableId?null:s(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null},"selector")}o(wu,"getSecondarySelector");const Iu=o(()=>{const e=Cu(),t=wu();return o((r,s)=>e(r,s)||t(r,s)||Su,"selector")},"makeMapStateToProps$1"),Eu={dropAnimationFinished:Ro},Nu=eo(Iu,Eu,null,{context:Dn,areStatePropsEqual:Xo})(vu);function Zo(e){return pt(wn).isUsingCloneFor===e.draggableId&&!e.isClone?null:L.createElement(Nu,e)}o(Zo,"PrivateDraggable");function Pu(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return L.createElement(Zo,Ir({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}o(Pu,"PublicDraggable");const es=o(e=>t=>e===t,"isEqual"),Au=es("scroll"),Ru=es("auto"),hr=o((e,t)=>t(e.overflowX)||t(e.overflowY),"isEither"),Ou=o(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return hr(n,Au)||hr(n,Ru)},"isElementScrollable"),ju=o(()=>!1,"isBodyScrollable"),ts=o(e=>e==null?null:e===document.body?ju()?e:null:e===document.documentElement?null:Ou(e)?e:ts(e.parentElement),"getClosestScrollable");var zt=o(e=>({x:e.scrollLeft,y:e.scrollTop}),"getScroll");const ns=o(e=>e?window.getComputedStyle(e).position==="fixed"?!0:ns(e.parentElement):!1,"getIsFixed");var Tu=o(e=>{const t=ts(e),n=ns(e);return{closestScrollable:t,isFixedOnPage:n}},"getEnv"),Bu=o(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:i,page:a,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:p,client:m}=l,h=Bo({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:h,diff:{value:_,displacement:_}}}})(),d=s==="vertical"?cn:fo,g=me({page:a,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:i,page:a,frame:c,subject:g}},"getDroppableDimension");const Lu=o((e,t)=>{const n=no(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=s+t.scrollWidth,c=on({top:r,right:a,bottom:i,left:s},n.border);return sn({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})},"getClient");var Mu=o(({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:i,isCombineEnabled:a,shouldClipSubject:l})=>{const c=n.closestScrollable,d=Lu(e,c),g=lt(d,r),f=(()=>{if(!c)return null;const m=no(c),h={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:lt(m,r),scroll:zt(c),scrollSize:h,shouldClipSubject:l}})();return Bu({descriptor:t,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:s,client:d,page:g,closest:f})},"getDimension");const _u={passive:!1},Fu={passive:!0};var br=o(e=>e.shouldPublishImmediately?_u:Fu,"getListenerOptions");const tt=o(e=>e&&e.env.closestScrollable||null,"getClosestScrollableFromDrag");function Gu(e){const t=v.useRef(null),n=pt(It),r=Cn("droppable"),{registry:s,marshal:i}=n,a=Vo(e),l=R(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),d=R(()=>M((S,w)=>{t.current||y();const N={x:S,y:w};i.updateDroppableScroll(l.id,N)}),[l.id,i]),g=I(()=>{const S=t.current;return!S||!S.env.closestScrollable?_:zt(S.env.closestScrollable)},[]),f=I(()=>{const S=g();d(S.x,S.y)},[g,d]),p=R(()=>ke(f),[f]),m=I(()=>{const S=t.current,w=tt(S);if(S&&w||y(),S.scrollOptions.shouldPublishImmediately){f();return}p()},[p,f]),h=I((S,w)=>{t.current&&y();const N=a.current,O=N.getDroppableRef();O||y();const j=Tu(O),k={ref:O,descriptor:l,env:j,scrollOptions:w};t.current=k;const P=Mu({ref:O,descriptor:l,env:j,windowScroll:S,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),A=j.closestScrollable;return A&&(A.setAttribute(ur.contextId,n.contextId),A.addEventListener("scroll",m,br(k.scrollOptions))),P},[n.contextId,l,m,a]),x=I(()=>{const S=t.current,w=tt(S);return S&&w||y(),zt(w)},[]),b=I(()=>{const S=t.current;S||y();const w=tt(S);t.current=null,w&&(p.cancel(),w.removeAttribute(ur.contextId),w.removeEventListener("scroll",m,br(S.scrollOptions)))},[m,p]),D=I(S=>{const w=t.current;w||y();const N=tt(w);N||y(),N.scrollTop+=S.y,N.scrollLeft+=S.x},[]),C=R(()=>({getDimensionAndWatchScroll:h,getScrollWhileDragging:x,dragStopped:b,scroll:D}),[b,h,x,D]),E=R(()=>({uniqueId:r,descriptor:l,callbacks:C}),[C,l,r]);Y(()=>(c.current=E.descriptor,s.droppable.register(E),()=>{t.current&&b(),s.droppable.unregister(E)}),[C,l,b,E,i,s.droppable]),Y(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Y(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}o(Gu,"useDroppablePublisher");function _t(){}o(_t,"noop");const xr={width:0,height:0,margin:qa},ku=o(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?xr:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},"getSize"),$u=o(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=ku({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?_e.placeholder:null}},"getStyle"),Wu=o(e=>{const t=v.useRef(null),n=I(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:i,contextId:a}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?r!=="open"?(n(),c(!1),_t):t.current?_t:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):_t,[r,l,n]);const d=I(f=>{f.propertyName==="height"&&(s(),r==="close"&&i())},[r,i,s]),g=$u({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return L.createElement(e.placeholder.tagName,{style:g,"data-rfd-placeholder-context-id":a,onTransitionEnd:d,ref:e.innerRef})},"Placeholder");var Vu=L.memo(Wu);const Nn=class Nn extends L.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}};o(Nn,"AnimateInOut");let Yt=Nn;const Hu=o(e=>{const t=v.useContext(It);t||y();const{contextId:n,isMovementAllowed:r}=t,s=v.useRef(null),i=v.useRef(null),{children:a,droppableId:l,type:c,mode:d,direction:g,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:m,snapshot:h,useClone:x,updateViewportMaxScroll:b,getContainerForClone:D}=e,C=I(()=>s.current,[]),E=I((A=null)=>{s.current=A},[]);I(()=>i.current,[]);const S=I((A=null)=>{i.current=A},[]),w=I(()=>{r()&&b({maxScroll:Mo()})},[r,b]);Gu({droppableId:l,type:c,mode:d,direction:g,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:C});const N=R(()=>L.createElement(Yt,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:A,data:$,animate:K})=>L.createElement(Vu,{placeholder:$,onClose:A,innerRef:S,animate:K,contextId:n,onTransitionEnd:w})),[n,w,e.placeholder,e.shouldAnimatePlaceholder,S]),O=R(()=>({innerRef:E,placeholder:N,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,N,E]),j=x?x.dragging.draggableId:null,k=R(()=>({droppableId:l,type:c,isUsingCloneFor:j}),[l,j,c]);function P(){if(!x)return null;const{dragging:A,render:$}=x,K=L.createElement(Zo,{draggableId:A.draggableId,index:A.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(B,F)=>$(B,F,A));return xs.createPortal(K,D())}return o(P,"getClone"),L.createElement(wn.Provider,{value:k},a(O,h),P())},"Droppable");function Uu(){return document.body||y(),document.body}o(Uu,"getBody");const vr={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Uu},rs=o(e=>{let t={...e},n;for(n in vr)e[n]===void 0&&(t={...t,[n]:vr[n]});return t},"attachDefaultPropsToOwnProps"),Ft=o((e,t)=>e===t.droppable.type,"isMatchingType"),yr=o((e,t)=>t.draggables[e.draggable.id],"getDraggable"),qu=o(()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=M(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=M((i,a,l,c,d,g)=>{const f=d.descriptor.id;if(d.descriptor.droppableId===i){const h=g?{render:g,dragging:n(d.descriptor)}:null,x={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:h}}if(!a)return t;if(!c)return e;const m={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return o((i,a)=>{const l=rs(a),c=l.droppableId,d=l.type,g=!l.isDropDisabled,f=l.renderClone;if(qe(i)){const p=i.critical;if(!Ft(d,p))return t;const m=yr(p,i.dimensions),h=z(i.impact)===c;return r(c,g,h,h,m,f)}if(i.phase==="DROP_ANIMATING"){const p=i.completed;if(!Ft(d,p.critical))return t;const m=yr(p.critical,i.dimensions);return r(c,g,Jo(p.result)===c,z(p.impact)===c,m,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const p=i.completed;if(!Ft(d,p.critical))return t;const m=z(p.impact)===c,h=!!(p.impact.at&&p.impact.at.type==="COMBINE"),x=p.critical.droppable.id===c;return m?h?e:t:x?e:t}return t},"selector")},"makeMapStateToProps"),zu={updateViewportMaxScroll:oc},Yu=eo(qu,zu,(e,t,n)=>({...rs(n),...e,...t}),{context:Dn,areStatePropsEqual:Xo})(Hu),Ku=o(({deal:e,index:t})=>e?u.jsx(Pu,{draggableId:String(e.id),index:t,children:o((n,r)=>u.jsx(os,{provided:n,snapshot:r,deal:e}),"children")}):null,"DealCard"),os=o(({provided:e,snapshot:t,deal:n})=>{const r=xe(),s=o(()=>{r(`/deals/${n.id}/show`,void 0,void 0,void 0,{_scrollToTop:!1})},"handleClick");return u.jsx("div",{className:"cursor-pointer",...e?.draggableProps,...e?.dragHandleProps,ref:e?.innerRef,onClick:s,children:u.jsx(vs,{className:`py-4 transition-all duration-200 ${t?.isDragging?"opacity-90 transform rotate-1 shadow-lg":"shadow-sm hover:shadow-md"}`,children:u.jsxs(ys,{className:"px-4 flex",children:[u.jsx(Fe,{source:"company_id",record:n,reference:"companies",link:!1,children:u.jsx(mt,{width:20,height:20})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm font-medium mb-2",children:n.name}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),n.category?`, ${n.category}`:""]})]})]})})})},"DealCardContent"),Dr=o(()=>{const{identity:e}=ue(),{data:t,total:n,isPending:r}=Xt("deals",{pagination:{page:1,perPage:1e3},sort:{field:"archived_at",order:"DESC"},filter:{"archived_at@not.is":null}}),[s,i]=v.useState(!1);if(v.useEffect(()=>{!r&&n===0&&i(!1)},[r,n]),v.useEffect(()=>{i(!1)},[t]),!e||r||!n||!t)return null;const a=t.reduce((l,c)=>{const d=new Date(c.archived_at).toDateString();return l[d]||(l[d]=[]),l[d].push(c),l},{});return u.jsxs("div",{className:"w-full flex flex-row items-center justify-center",children:[u.jsx(ee,{variant:"ghost",onClick:o(()=>i(!0),"onClick"),className:"my-4",children:"View archived deals"}),u.jsx(ht,{open:s,onOpenChange:o(()=>i(!1),"onOpenChange"),children:u.jsxs(bt,{className:"lg:max-w-4xl overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:[u.jsx(Nr,{children:"Archived Deals"}),u.jsx("div",{className:"flex flex-col gap-8",children:Object.entries(a).map(([l,c])=>u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("h4",{className:"font-bold",children:Xu(l)}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:c.map(d=>u.jsx("div",{children:u.jsx(os,{deal:d})},d.id))})]},l))})]})})]})},"DealArchivedList");function Xu(e){const t=new Date(e);t.setHours(0,0,0,0);const n=new Date;n.setHours(0,0,0,0);const r=t.getTime()-n.getTime(),s=Math.round(r/(1e3*60*60*24));if(Math.abs(s)>7)return new Intl.DateTimeFormat(void 0,{day:"numeric",month:"long"}).format(t);const i=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});return Ju(i.format(s,"day"))}o(Xu,"getRelativeTimeString");function Ju(e){return e.charAt(0).toUpperCase()+e.slice(1)}o(Ju,"ucFirst");const Qu=o(({actions:e,children:t,className:n,disableBreadcrumb:r,title:s,...i})=>u.jsx(Pr,{...i,children:u.jsx(Zu,{actions:e,className:n,disableBreadcrumb:r,title:s,children:t})}),"Create"),Zu=o(({actions:e,disableBreadcrumb:t,title:n,children:r,className:s})=>{const i=mi(),a=xt();if(!a)throw new Error("The CreateView component must be used within a ResourceContextProvider");const c=Ds()(a,2),g=Cs()({resource:a,type:"list"}),f=Ss();return u.jsxs(u.Fragment,{children:[!t&&u.jsxs(ws,{children:[f&&u.jsx(An,{children:u.jsx(Ge,{to:"/",children:u.jsx(Rn,{i18nKey:"ra.page.dashboard",children:"Home"})})}),u.jsx(An,{children:u.jsx(Ge,{to:g,children:c})}),u.jsx(Is,{children:u.jsx(Rn,{i18nKey:"ra.action.create",children:"Create"})})]}),u.jsxs("div",{className:Jt("flex justify-between items-start flex-wrap gap-2 my-2",s),children:[u.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:n!==void 0?n:i.defaultTitle}),e]}),u.jsx("div",{className:"my-2",children:r})]})},"CreateView"),ss=o(e=>{const{filterToQuery:t=ep,inputText:n}=e,{allChoices:r=[],source:s,resource:i,isFromReference:a,setFilters:l}=Es(e),{id:c,field:d,isRequired:g}=Ar({...e,source:s}),f=Ns(),{placeholder:p=f("ra.action.search",{_:"Search..."})}=e,m=Ps(i),{getChoiceText:h,getChoiceValue:x}=As({optionText:e.optionText??(a?m:"name"),optionValue:e.optionValue??"id",disableValue:e.disableValue,translateChoice:e.translateChoice??!a}),b=v.useRef(null),[D,C]=v.useState(!1),E=On(P=>{d.onChange(d.value.filter(A=>A!==x(P)))}),S=On(P=>{const A=b.current;A&&((P.key==="Delete"||P.key==="Backspace")&&A.value===""&&d.onChange(d.value.slice(0,-1)),P.key==="Escape"&&A.blur())}),w=r.filter(P=>!d.value.includes(x(P))),N=r.filter(P=>d.value.includes(x(P))),[O,j]=v.useState(""),k=v.useCallback(P=>typeof n=="function"?n(P):n!==void 0?n:h(P),[n,h]);return u.jsxs(Rr,{className:e.className,id:c,name:d.name,children:[e.label!==!1&&u.jsx(Or,{children:u.jsx(jr,{label:e.label,source:e.source??s,resource:i,isRequired:g})}),u.jsx(Tr,{children:u.jsxs(Rs,{onKeyDown:S,shouldFilter:!a,className:"overflow-visible bg-transparent",children:[u.jsx("div",{className:"group rounded-md bg-transparent dark:bg-input/30 border border-input px-3 py-1.75 text-sm transition-all ring-offset-background focus-within:border-ring focus-within:ring-ring/50 focus-within:ring-[3px]",children:u.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.map(P=>u.jsxs(Br,{variant:"outline",children:[k(P),u.jsxs("button",{className:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:o(A=>{A.key==="Enter"&&E(P)},"onKeyDown"),onMouseDown:o(A=>{A.preventDefault(),A.stopPropagation()},"onMouseDown"),onClick:o(A=>{A.preventDefault(),E(P)},"onClick"),children:[u.jsx("span",{className:"sr-only",children:f("ra.action.remove",{_:"Remove"})}),u.jsx(Os,{className:"h-3 w-3"})]})]},x(P))),u.jsx(js.Input,{ref:b,value:O,onValueChange:o(P=>{j(P),a&&l(t(P),void 0,!0)},"onValueChange"),onBlur:o(()=>C(!1),"onBlur"),onFocus:o(()=>C(!0),"onFocus"),placeholder:p,className:"ml-2 flex-1 bg-transparent outline-none placeholder:text-muted-foreground"})]})}),u.jsx("div",{className:"relative",children:u.jsx(Ts,{children:D&&w.length>0?u.jsx("div",{className:"absolute top-2 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",children:u.jsx(Bs,{className:"h-full overflow-auto",children:w.map(P=>u.jsx(Ls,{onMouseDown:o(A=>{A.preventDefault(),A.stopPropagation()},"onMouseDown"),onSelect:o(()=>{j(""),a&&l(t("")),d.onChange([...d.value,x(P)])},"onSelect"),className:"cursor-pointer",children:h(P)},x(P)))})}):null})})]})}),u.jsx(Lr,{helperText:e.helperText}),u.jsx(Mr,{})]})},"AutocompleteArrayInput"),ep=o(e=>({q:e}),"DefaultFilterToQuery"),tp=o(e=>{const{children:t=np,reference:n,sort:r,filter:s=rp}=e;if(v.Children.count(t)!==1)throw new Error("<ReferenceArrayInput> only accepts a single child (like <AutocompleteArrayInput>)");const i=yi({...e,sort:r,filter:s});return u.jsx(Ms,{value:n,children:u.jsx(_s,{value:i,children:t})})},"ReferenceArrayInput"),np=u.jsx(ss,{}),rp={},op=o(e=>{const{label:t,source:n,className:r,resource:s,validate:i,format:a,parse:l=sp,onFocus:c,...d}=e,g=xt({resource:s}),{id:f,field:p,isRequired:m}=Ar(e),h=o(S=>{const w=S.target.value,N=l(w);b(w),p.onChange(N??0)},"handleChange"),[x,b]=v.useState(p.value?.toString()??""),D=v.useRef(!1),C=o(S=>{c?.(S),D.current=!0},"handleFocus"),E=o(S=>{p.onBlur?.(S),D.current=!1,b(p.value?.toString()??"")},"handleBlur");return v.useEffect(()=>{D.current||b(p.value?.toString()??"")},[p.value]),u.jsxs(Rr,{id:f,className:r,name:p.name,children:[t!==!1&&u.jsx(Or,{children:u.jsx(jr,{label:t,source:n,resource:g,isRequired:m})}),u.jsx(Tr,{children:u.jsx(Fs,{...d,...p,type:"number",value:x,onChange:h,onFocus:C,onBlur:E})}),u.jsx(Lr,{helperText:e.helperText}),u.jsx(Mr,{})]})},"NumberInput"),sp=o(e=>{if(e==null||e==="")return null;const t=parseFloat(e);return isNaN(t)?0:t},"convertStringToNumber"),ip=o(()=>{const[e]=Gs(),{identity:t}=ue(),n=ve(),r=o(async s=>{if(s)try{return await e("companies",{data:{name:s,sales_id:t?.id,created_at:new Date().toISOString()}},{returnPromise:!0})}catch{n("An error occurred while creating the company",{type:"error"})}},"handleCreateCompany");return u.jsx(_r,{optionText:"name",helperText:!1,onCreate:r,createItemLabel:"Create %{item}",createLabel:"Start typing to create a new company"})},"AutocompleteCompanyInput"),is=o(()=>{const e=ks();return u.jsxs("div",{className:"flex flex-col gap-8",children:[u.jsx(ap,{}),u.jsxs("div",{className:`flex gap-6 ${e?"flex-col":"flex-row"}`,children:[u.jsx(lp,{}),u.jsx(Qt,{orientation:e?"horizontal":"vertical"}),u.jsx(cp,{})]})]})},"DealInputs"),ap=o(()=>u.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[u.jsx(ot,{source:"name",label:"Deal name",validate:Be(),helperText:!1}),u.jsx(ot,{source:"description",multiline:!0,rows:3,helperText:!1})]}),"DealInfoInputs"),lp=o(()=>u.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[u.jsx("h3",{className:"text-base font-medium",children:"Linked to"}),u.jsx(Fr,{source:"company_id",reference:"companies",children:u.jsx(ip,{})}),u.jsx(tp,{source:"contact_ids",reference:"contacts_summary",children:u.jsx(ss,{label:"Contacts",optionText:$s,helperText:!1,validate:Be()})})]}),"DealLinkedToInputs"),cp=o(()=>{const{dealStages:e,dealCategories:t}=ye();return u.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[u.jsx("h3",{className:"text-base font-medium",children:"Misc"}),u.jsx(st,{source:"category",label:"Est. Weekly Hours",choices:t.map(n=>({id:n,name:n})),helperText:!1}),u.jsx(op,{source:"amount",defaultValue:0,helperText:!1,validate:Be()}),u.jsx(Ws,{validate:Be(),source:"expected_closing_date",helperText:!1,defaultValue:new Date().toISOString().split("T")[0]}),u.jsx(st,{source:"stage",choices:e.map(n=>({id:n.value,name:n.label})),defaultValue:"opportunity",helperText:!1,validate:Be()})]})},"DealMiscInputs"),as=o(({open:e})=>{const t=xe(),n=Zt(),{data:r}=De(),s=o(()=>{t("/deals")},"handleClose"),i=Vs(),a=o(async c=>{if(!r){t("/deals");return}const d=r.filter(p=>p.stage===c.stage&&p.id!==c.id);await Promise.all(d.map(async p=>n.update("deals",{id:p.id,data:{index:p.index+1},previousData:p})));const g=d.reduce((p,m)=>({...p,[m.id]:{...m,index:m.index+1}}),{}),f=Date.now();i.setQueriesData({queryKey:["deals","getList"]},p=>p&&{...p,data:p.data.map(m=>g[m.id]||m)},{updatedAt:f}),t("/deals")},"onSuccess"),{identity:l}=ue();return u.jsx(ht,{open:e,onOpenChange:o(()=>s(),"onOpenChange"),children:u.jsx(bt,{className:"lg:max-w-4xl overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:u.jsx(Qu,{resource:"deals",mutationOptions:{onSuccess:a},children:u.jsxs(vt,{defaultValues:{sales_id:l?.id,contact_ids:[],index:0},children:[u.jsx(is,{}),u.jsx(Gr,{children:u.jsx(en,{})})]})})})})},"DealCreate"),dp=o(({open:e,id:t})=>{const n=xe(),r=ve(),s=o(()=>{n("/deals",void 0,void 0,void 0,{_scrollToTop:!1})},"handleClose");return u.jsx(ht,{open:e,onOpenChange:o(()=>s(),"onOpenChange"),children:u.jsx(bt,{className:"lg:max-w-4xl p-4 overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:t?u.jsxs(Hs,{id:t,mutationMode:"pessimistic",mutationOptions:{onSuccess:o(()=>{r("Deal updated"),n(`/deals/${t}/show`,void 0,void 0,void 0,{_scrollToTop:!1})},"onSuccess")},children:[u.jsx(up,{}),u.jsxs(vt,{children:[u.jsx(is,{}),u.jsx(pp,{})]})]}):null})})},"DealEdit");function up(){const e=gt();return e?u.jsx(Nr,{className:"pb-0",children:u.jsxs("div",{className:"flex justify-between items-start mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Fe,{source:"company_id",reference:"companies",link:"show",children:u.jsx(mt,{})}),u.jsxs("h2",{className:"text-2xl font-semibold",children:["Edit ",e.name," deal"]})]}),u.jsx("div",{className:"flex gap-2 pr-12",children:u.jsx(ee,{asChild:!0,variant:"outline",className:"h-9",children:u.jsx(Ge,{to:`/deals/${e.id}/show`,children:"Back to deal"})})})]})}):null}o(up,"EditHeader");function pp(){return u.jsx(Gr,{children:u.jsxs("div",{className:"flex-1 flex justify-between",children:[u.jsx(kr,{}),u.jsx(en,{})]})})}o(pp,"EditToolbar");const fp=o(({children:e})=>{const t=$r(),n=nt("/deals/create",t.pathname),r=Us(),{data:s,isPending:i}=Xt("contacts",{pagination:{page:1,perPage:1}});return i?u.jsx(qs,{value:50}):u.jsxs("div",{className:"flex flex-col justify-center items-center gap-12",style:{height:`calc(100dvh - ${r}px)`},children:[u.jsx("img",{src:"./img/empty.svg",alt:"No deals found"}),s&&s.length>0?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-center gap-0",children:[u.jsx("h3",{className:"text-lg font-bold",children:"No deals found"}),u.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"It seems your deal list is empty."})]}),u.jsx("div",{className:"flex space-x-8",children:u.jsx(Wr,{label:"Create deal"})}),u.jsx(as,{open:!!n}),e]}):u.jsxs("div",{className:"flex flex-col items-center gap-0",children:[u.jsx("h3",{className:"text-lg font-bold",children:"No deals found"}),u.jsxs("p",{className:"text-sm text-center text-muted-foreground mb-4",children:["It seems your contact list is empty.",u.jsx("br",{}),u.jsx(Ge,{to:"/contacts/create",className:"hover:underline",children:"Add your first contact"})," ","before creating a deal."]})]})]})},"DealEmpty"),gp=o(({stage:e,deals:t})=>{const n=t.reduce((s,i)=>s+i.amount,0),{dealStages:r}=ye();return u.jsxs("div",{className:"flex-1 pb-8",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("h3",{className:"text-base font-medium",children:Vr(r,e)}),u.jsx("p",{className:"text-sm text-muted-foreground",children:n.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),u.jsx(Yu,{droppableId:e,children:o((s,i)=>u.jsxs("div",{ref:s.innerRef,...s.droppableProps,className:`flex flex-col rounded-2xl mt-2 gap-2 ${i.isDraggingOver?"bg-muted":""}`,children:[t.map((a,l)=>u.jsx(Ku,{deal:a,index:l},a.id)),s.placeholder]}),"children")})]})},"DealColumn"),Cr=o((e,t)=>{if(!t)return{};const n=e.reduce((r,s)=>(r[s.stage].push(s),r),t.reduce((r,s)=>({...r,[s.value]:[]}),{}));return t.forEach(r=>{n[r.value]=n[r.value].sort((s,i)=>s.index-i.index)}),n},"getDealsByStage"),mp=o(()=>{const{dealStages:e}=ye(),{data:t,isPending:n,refetch:r}=De(),s=Zt(),[i,a]=v.useState(Cr([],e));if(v.useEffect(()=>{if(t){const c=Cr(t,e);zs(c,i)||a(c)}},[t]),n)return null;const l=o(c=>{const{destination:d,source:g}=c;if(!d||d.droppableId===g.droppableId&&d.index===g.index)return;const f=g.droppableId,p=d.droppableId,m=i[f][g.index],h=i[p][d.index]??{stage:p,index:void 0};a(hp(m,{stage:f,index:g.index},{stage:p,index:d.index},i)),bp(m,h,s).then(()=>{r()})},"onDragEnd");return u.jsx(cu,{onDragEnd:l,children:u.jsx("div",{className:"flex gap-4",children:e.map(c=>u.jsx(gp,{stage:c.value,deals:i[c.value]},c.value))})})},"DealListContent"),hp=o((e,t,n,r)=>{if(t.stage===n.stage){const s=r[t.stage];return s.splice(t.index,1),s.splice(n.index??s.length+1,0,e),{...r,[n.stage]:s}}else{const s=r[t.stage],i=r[n.stage];return s.splice(t.index,1),i.splice(n.index??i.length+1,0,e),{...r,[t.stage]:s,[n.stage]:i}}},"updateDealStageLocal"),bp=o(async(e,t,n)=>{if(e.stage===t.stage){const{data:r}=await n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:e.stage}}),s=t.index??r.length+1;e.index>s?await Promise.all([...r.filter(i=>i.index>=s&&i.index<e.index).map(i=>n.update("deals",{id:i.id,data:{index:i.index+1},previousData:i})),n.update("deals",{id:e.id,data:{index:s},previousData:e})]):await Promise.all([...r.filter(i=>i.index<=s&&i.index>e.index).map(i=>n.update("deals",{id:i.id,data:{index:i.index-1},previousData:i})),n.update("deals",{id:e.id,data:{index:s},previousData:e})])}else{const[{data:r},{data:s}]=await Promise.all([n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:e.stage}}),n.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:t.stage}})]),i=t.index??s.length+1;await Promise.all([...r.filter(a=>a.index>e.index).map(a=>n.update("deals",{id:a.id,data:{index:a.index-1},previousData:a})),...s.filter(a=>a.index>=i).map(a=>n.update("deals",{id:a.id,data:{index:a.index+1},previousData:a})),n.update("deals",{id:e.id,data:{index:i,stage:t.stage},previousData:e})])}},"updateDealStage"),ft=o(()=>{const e=new Date,t=e.getTimezoneOffset();return new Date(e.getTime()-t*60*1e3).toISOString().slice(0,16)},"getCurrentDate"),ls=o(({showStatus:e})=>{const{noteStatuses:t}=ye(),{setValue:n}=Kt(),[r,s]=v.useState(!1);return u.jsxs("div",{className:"space-y-2",children:[u.jsx(ot,{source:"text",label:!1,multiline:!0,helperText:!1,placeholder:"Add a note",rows:6}),!r&&u.jsxs("div",{className:"flex justify-end items-center gap-2",children:[u.jsx(ee,{variant:"link",size:"sm",onClick:o(()=>{s(!r),n("date",ft())},"onClick"),className:"text-sm text-muted-foreground underline hover:no-underline p-0 h-auto cursor-pointer",children:"Show options"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"(attach files, or change details)"})]}),u.jsxs("div",{className:Jt("space-y-3 mt-3 overflow-hidden transition-transform ease-in-out duration-300 origin-top",r?"scale-y-100":"scale-y-0 max-h-0 h-0"),children:[u.jsxs("div",{className:"flex gap-4",children:[e&&u.jsx(st,{source:"status",choices:t.map(i=>({id:i.value,name:i.label,value:i.value})),optionText:xp,defaultValue:"warm",helperText:!1}),u.jsx(ot,{source:"date",label:"Date",helperText:!1,type:"datetime-local",className:"text-primary",defaultValue:ft()})]}),u.jsx(Ys,{source:"attachments",multiple:!0,children:u.jsx(Ks,{source:"src",title:"title",target:"_blank"})})]})]})},"NoteInputs"),xp=o(e=>u.jsxs("div",{children:[u.jsx(Hr,{status:e.value})," ",e.name]}),"optionRenderer"),vp={contacts:"contact_id",deals:"deal_id"},cs=o(({reference:e,showStatus:t,className:n})=>{const r=xt(),s=gt(),{identity:i}=ue();return!s||!i?null:u.jsx(Pr,{resource:r,redirect:!1,children:u.jsx(vt,{children:u.jsxs("div",{className:Jt("space-y-3",n),children:[u.jsx(ls,{showStatus:t}),u.jsx(yp,{reference:e,record:s})]})})})},"NoteCreate"),yp=o(({reference:e,record:t})=>{const[n]=tn(),r=ve(),{identity:s}=ue(),{reset:i}=Kt(),{refetch:a}=De();if(!t||!s)return null;const l={date:ft(),text:null,attachments:null};e==="contacts"&&(l.status="warm");const c=o(d=>{i(l,{keepValues:!1}),a(),n(e,{id:t&&t.id,data:{last_seen:new Date().toISOString(),status:d.status},previousData:t}),r("Note added")},"handleSuccess");return u.jsx("div",{className:"flex justify-end",children:u.jsx(en,{type:"button",label:"Add this note",transform:o(d=>({...d,[vp[e]]:t.id,sales_id:s.id,date:d.date||ft()}),"transform"),mutationOptions:{onSuccess:c},children:"Add this note"})})},"NoteCreateButton"),Dp=o(({note:e})=>{if(!e.attachments||e.attachments.length===0)return null;const t=e.attachments.filter(r=>Sr(r.type)),n=e.attachments.filter(r=>!Sr(r.type));return u.jsxs("div",{className:"flex flex-col",children:[t.length>0&&u.jsx("div",{className:"grid grid-cols-4 gap-8",children:t.map((r,s)=>u.jsx("div",{children:u.jsx("img",{src:r.src,alt:r.title,className:"w-[200px] h-[100px] object-cover cursor-pointer object-left border border-border",onClick:o(()=>window.open(r.src,"_blank"),"onClick")})},s))}),n.length>0&&n.map((r,s)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Pi,{className:"w-4 h-4"}),u.jsx("a",{href:r.src,target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:r.title})]},s))]})},"NoteAttachments"),Sr=o(e=>e?e.startsWith("image/"):!1,"isImageMimeType"),Cp=o(({showStatus:e,note:t})=>{const[n,r]=v.useState(!1),[s,i]=v.useState(!1),a=xt(),l=ve(),[c,{isPending:d}]=tn(),[g]=Xs(a,{id:t.id,previousData:t},{mutationMode:"undoable",onSuccess:o(()=>{l("Note deleted",{type:"info",undoable:!0})},"onSuccess")}),f=o(()=>{g()},"handleDelete"),p=o(()=>{i(!s)},"handleEnterEditMode"),m=o(()=>{i(!1),r(!1)},"handleCancelEdit"),h=o(x=>{c(a,{id:t.id,data:x,previousData:t},{onSuccess:o(()=>{i(!1),r(!1)},"onSuccess")})},"handleNoteUpdate");return u.jsxs("div",{onMouseEnter:o(()=>r(!0),"onMouseEnter"),onMouseLeave:o(()=>r(!1),"onMouseLeave"),children:[u.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[a==="contactNote"?u.jsx(Ur,{width:20,height:20}):u.jsx(Fe,{source:"company_id",reference:"companies",link:"show",children:u.jsx(mt,{width:20,height:20})}),u.jsxs("div",{className:"inline-flex h-full items-center text-sm text-muted-foreground",children:[u.jsx(Fe,{record:t,resource:a,source:"sales_id",reference:"sales",link:!1,children:u.jsx(hi,{render:o(x=>u.jsx(Js,{sale:x}),"render")})})," ","added a note"," ",e&&t.status&&u.jsx(Hr,{className:"ml-2",status:t.status})]}),u.jsxs("span",{className:`${n?"visible":"invisible"}`,children:[u.jsx(jn,{children:u.jsxs(Tn,{children:[u.jsx(Bn,{asChild:!0,children:u.jsx(ee,{variant:"ghost",size:"sm",onClick:p,className:"p-1 h-auto cursor-pointer",children:u.jsx(Ri,{className:"w-4 h-4"})})}),u.jsx(Ln,{children:u.jsx("p",{children:"Edit note"})})]})}),u.jsx(jn,{children:u.jsxs(Tn,{children:[u.jsx(Bn,{asChild:!0,children:u.jsx(ee,{variant:"ghost",size:"sm",onClick:f,className:"p-1 h-auto cursor-pointer",children:u.jsx(ji,{className:"w-4 h-4"})})}),u.jsx(Ln,{children:u.jsx("p",{children:"Delete note"})})]})})]}),u.jsx("div",{className:"flex-1"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:u.jsx(Qs,{date:t.date})})]}),s?u.jsxs(vt,{onSubmit:h,record:t,className:"mt-1",children:[u.jsx(ls,{showStatus:e}),u.jsxs("div",{className:"flex justify-end mt-2 space-x-4",children:[u.jsxs(ee,{variant:"ghost",onClick:m,type:"button",className:"cursor-pointer",children:[u.jsx(Zs,{className:"w-4 h-4"}),"Cancel"]}),u.jsxs(ee,{type:"submit",disabled:d,className:"flex items-center gap-2 cursor-pointer",children:[u.jsx(ei,{className:"w-4 h-4"}),"Update note"]})]})]}):u.jsxs("div",{className:"pt-2 [&_p:empty]:min-h-[0.75em]",children:[t.text?.split(`
`).map((x,b)=>u.jsx("p",{className:"text-sm leading-6 m-0",children:x},b)),t.attachments&&u.jsx(Dp,{note:t})]})]})},"Note"),Sp=o(({reference:e,showStatus:t})=>{const{data:n,error:r,isPending:s}=De();return s||r?null:u.jsxs("div",{className:"mt-4",children:[u.jsx(cs,{reference:e,showStatus:t}),n&&u.jsx("div",{className:"mt-4 space-y-4",children:n.map((i,a)=>u.jsxs(v.Fragment,{children:[u.jsx(Cp,{note:i,isLast:a===n.length-1,showStatus:t},a),a<n.length-1&&u.jsx(Qt,{})]},a))})]})},"NotesIterator"),wp=o(()=>{const{data:e,error:t,isPending:n}=De();return n||t?u.jsx("div",{className:"h-8"}):u.jsx("div",{className:"flex flex-row flex-wrap gap-4 mt-4",children:e.map(r=>u.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[u.jsx(Ur,{record:r}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs(Ge,{to:`/contacts/${r.id}/show`,className:"text-sm hover:underline",children:[r.first_name," ",r.last_name]}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.title,r.title&&r.company_name&&" at ",r.company_name]})]})]},r.id))})},"ContactList"),wr=o(({open:e,id:t})=>{const n=xe(),r=o(()=>{n("list","deals")},"handleClose");return u.jsx(ht,{open:e,onOpenChange:o(s=>!s&&r(),"onOpenChange"),children:u.jsx(bt,{className:"lg:max-w-4xl p-4 overflow-y-auto max-h-9/10 top-1/20 translate-y-0",children:t?u.jsx(ti,{id:t,children:u.jsx(Ip,{})}):null})})},"DealShow"),Ip=o(()=>{const{dealStages:e}=ye(),t=gt();return t?u.jsx(u.Fragment,{children:u.jsxs("div",{className:"space-y-2",children:[t.archived_at?u.jsx(Ep,{}):null,u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-start mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Fe,{source:"company_id",reference:"companies",link:"show",children:u.jsx(mt,{})}),u.jsx("h2",{className:"text-2xl font-semibold",children:t.name})]}),u.jsx("div",{className:`flex gap-2 ${t.archived_at?"":"pr-12"}`,children:t.archived_at?u.jsxs(u.Fragment,{children:[u.jsx(Pp,{record:t}),u.jsx(kr,{})]}):u.jsxs(u.Fragment,{children:[u.jsx(Np,{record:t}),u.jsx(ni,{})]})})]}),u.jsxs("div",{className:"flex gap-8 m-4",children:[u.jsxs("div",{className:"flex flex-col mr-10",children:[u.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Expected closing date"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm",children:oi(new Date(t.expected_closing_date))?ri(new Date(t.expected_closing_date),"PP"):"Invalid date"}),new Date(t.expected_closing_date)<new Date?u.jsx(Br,{variant:"destructive",children:"Past"}):null]})]}),u.jsxs("div",{className:"flex flex-col mr-10",children:[u.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Budget"}),u.jsx("span",{className:"text-sm",children:t.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),t.category&&u.jsxs("div",{className:"flex flex-col mr-10",children:[u.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Est. Weekly Hours"}),u.jsx("span",{className:"text-sm",children:t.category})]}),u.jsxs("div",{className:"flex flex-col mr-10",children:[u.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Stage"}),u.jsx("span",{className:"text-sm",children:Vr(e,t.stage)})]})]}),!!t.contact_ids?.length&&u.jsx("div",{className:"m-4",children:u.jsxs("div",{className:"flex flex-col min-h-12 mr-10",children:[u.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Contacts"}),u.jsx(si,{source:"contact_ids",reference:"contacts_summary",children:u.jsx(wp,{})})]})}),t.description&&u.jsxs("div",{className:"m-4 whitespace-pre-line",children:[u.jsx("span",{className:"text-xs text-muted-foreground tracking-wide",children:"Description"}),u.jsx("p",{className:"text-sm leading-6",children:t.description})]}),u.jsxs("div",{className:"m-4",children:[u.jsx(Qt,{className:"mb-4"}),u.jsx(ii,{target:"deal_id",reference:"dealNotes",sort:{field:"date",order:"DESC"},empty:u.jsx(cs,{reference:"deals"}),children:u.jsx(Sp,{reference:"deals"})})]})]})]})}):null},"DealShowContent"),Ep=o(()=>u.jsx("div",{className:"bg-orange-500 px-6 py-4",children:u.jsx("h3",{className:"text-lg font-bold text-white",children:"Archived Deal"})}),"ArchivedTitle"),Np=o(({record:e})=>{const[t]=tn(),n=xe(),r=ve(),s=qr(),i=o(()=>{t("deals",{id:e.id,data:{archived_at:new Date().toISOString()},previousData:e},{onSuccess:o(()=>{n("list","deals"),r("Deal archived",{type:"info",undoable:!1}),s()},"onSuccess"),onError:o(()=>{r("Error: deal not archived",{type:"error"})},"onError")})},"handleClick");return u.jsxs(ee,{onClick:i,size:"sm",variant:"outline",className:"flex items-center gap-2 h-9",children:[u.jsx(Ei,{className:"w-4 h-4"}),"Archive"]})},"ArchiveButton"),Pp=o(({record:e})=>{const t=Zt(),n=xe(),r=ve(),s=qr(),{mutate:i}=ai({mutationFn:o(()=>t.unarchiveDeal(e),"mutationFn"),onSuccess:o(()=>{n("list","deals"),r("Deal unarchived",{type:"info",undoable:!1}),s()},"onSuccess"),onError:o(()=>{r("Error: deal not unarchived",{type:"error"})},"onError")}),a=o(()=>{i()},"handleClick");return u.jsxs(ee,{onClick:a,size:"sm",variant:"outline",className:"flex items-center gap-2 h-9",children:[u.jsx(wi,{className:"w-4 h-4"}),"Send back to the board"]})},"UnarchiveButton"),Ap=o(e=>{const{filterValues:t,displayedFilters:n,setFilters:r}=bi(),{identity:s}=ue(),i=o(()=>{const a={...t};typeof t.sales_id<"u"?delete a.sales_id:a.sales_id=s&&s?.id,r(a,n)},"handleChange");return u.jsx("div",{className:"mt-auto pb-2.25",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(li,{id:"only-mine",checked:typeof t.sales_id<"u",onCheckedChange:i}),u.jsx(ci,{htmlFor:"only-mine",children:"Only companies I manage"})]})})},"OnlyMineInput"),Bp=o(()=>{const{identity:e}=ue(),{dealCategories:t}=ye();if(!e)return null;const n=[u.jsx(di,{source:"q",alwaysOn:!0}),u.jsx(Fr,{source:"company_id",reference:"companies",children:u.jsx(_r,{label:!1,placeholder:"Company"})}),u.jsx(st,{source:"category",emptyText:"Est. Weekly Hours",choices:t.map(r=>({id:r,name:r}))}),u.jsx(Ap,{source:"sales_id",alwaysOn:!0})];return u.jsx(ui,{perPage:100,filter:{"archived_at@is":null},title:!1,sort:{field:"index",order:"DESC"},filters:n,actions:u.jsx(Op,{}),pagination:null,children:u.jsx(Rp,{})})},"DealList"),Rp=o(()=>{const e=$r(),t=nt("/deals/create",e.pathname),n=nt("/deals/:id/show",e.pathname),r=nt("/deals/:id",e.pathname),{data:s,isPending:i,filterValues:a}=De(),l=a&&Object.keys(a).length>0;return i?null:!s?.length&&!l?u.jsx(u.Fragment,{children:u.jsxs(fp,{children:[u.jsx(wr,{open:!!n,id:n?.params.id}),u.jsx(Dr,{})]})}):u.jsxs("div",{className:"w-full",children:[u.jsx(mp,{}),u.jsx(Dr,{}),u.jsx(as,{open:!!t}),u.jsx(dp,{open:!!r&&!t,id:r?.params.id}),u.jsx(wr,{open:!!n,id:n?.params.id})]})},"DealLayout"),Op=o(()=>u.jsxs(pi,{children:[u.jsx(fi,{}),u.jsx(gi,{}),u.jsx(Wr,{label:"New Deal"})]}),"DealActions");export{Bp as default};
//# sourceMappingURL=DealList-C-IxJeoy.js.map
